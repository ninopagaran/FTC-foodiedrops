(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function a(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=a(i);fetch(i.href,s)}})();function Ch(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Dh={exports:{}},Il={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var c0=Symbol.for("react.transitional.element"),o0=Symbol.for("react.fragment");function Uh(e,t,a){var n=null;if(a!==void 0&&(n=""+a),t.key!==void 0&&(n=""+t.key),"key"in t){a={};for(var i in t)i!=="key"&&(a[i]=t[i])}else a=t;return t=a.ref,{$$typeof:c0,type:e,key:n,ref:t!==void 0?t:null,props:a}}Il.Fragment=o0;Il.jsx=Uh;Il.jsxs=Uh;Dh.exports=Il;var r=Dh.exports,Mh={exports:{}},G={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var go=Symbol.for("react.transitional.element"),u0=Symbol.for("react.portal"),d0=Symbol.for("react.fragment"),h0=Symbol.for("react.strict_mode"),f0=Symbol.for("react.profiler"),m0=Symbol.for("react.consumer"),p0=Symbol.for("react.context"),g0=Symbol.for("react.forward_ref"),v0=Symbol.for("react.suspense"),b0=Symbol.for("react.memo"),Lh=Symbol.for("react.lazy"),y0=Symbol.for("react.activity"),Au=Symbol.iterator;function x0(e){return e===null||typeof e!="object"?null:(e=Au&&e[Au]||e["@@iterator"],typeof e=="function"?e:null)}var Bh={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},qh=Object.assign,Hh={};function ii(e,t,a){this.props=e,this.context=t,this.refs=Hh,this.updater=a||Bh}ii.prototype.isReactComponent={};ii.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};ii.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function $h(){}$h.prototype=ii.prototype;function vo(e,t,a){this.props=e,this.context=t,this.refs=Hh,this.updater=a||Bh}var bo=vo.prototype=new $h;bo.constructor=vo;qh(bo,ii.prototype);bo.isPureReactComponent=!0;var Ou=Array.isArray;function rc(){}var de={H:null,A:null,T:null,S:null},Gh=Object.prototype.hasOwnProperty;function yo(e,t,a){var n=a.ref;return{$$typeof:go,type:e,key:t,ref:n!==void 0?n:null,props:a}}function _0(e,t){return yo(e.type,t,e.props)}function xo(e){return typeof e=="object"&&e!==null&&e.$$typeof===go}function w0(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(a){return t[a]})}var zu=/\/+/g;function gr(e,t){return typeof e=="object"&&e!==null&&e.key!=null?w0(""+e.key):t.toString(36)}function S0(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch(typeof e.status=="string"?e.then(rc,rc):(e.status="pending",e.then(function(t){e.status==="pending"&&(e.status="fulfilled",e.value=t)},function(t){e.status==="pending"&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}function xn(e,t,a,n,i){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var l=!1;if(e===null)l=!0;else switch(s){case"bigint":case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case go:case u0:l=!0;break;case Lh:return l=e._init,xn(l(e._payload),t,a,n,i)}}if(l)return i=i(e),l=n===""?"."+gr(e,0):n,Ou(i)?(a="",l!=null&&(a=l.replace(zu,"$&/")+"/"),xn(i,t,a,"",function(u){return u})):i!=null&&(xo(i)&&(i=_0(i,a+(i.key==null||e&&e.key===i.key?"":(""+i.key).replace(zu,"$&/")+"/")+l)),t.push(i)),1;l=0;var c=n===""?".":n+":";if(Ou(e))for(var o=0;o<e.length;o++)n=e[o],s=c+gr(n,o),l+=xn(n,t,a,s,i);else if(o=x0(e),typeof o=="function")for(e=o.call(e),o=0;!(n=e.next()).done;)n=n.value,s=c+gr(n,o++),l+=xn(n,t,a,s,i);else if(s==="object"){if(typeof e.then=="function")return xn(S0(e),t,a,n,i);throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return l}function ks(e,t,a){if(e==null)return e;var n=[],i=0;return xn(e,n,"","",function(s){return t.call(a,s,i++)}),n}function j0(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(a){(e._status===0||e._status===-1)&&(e._status=1,e._result=a)},function(a){(e._status===0||e._status===-1)&&(e._status=2,e._result=a)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ru=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},E0={map:ks,forEach:function(e,t,a){ks(e,function(){t.apply(this,arguments)},a)},count:function(e){var t=0;return ks(e,function(){t++}),t},toArray:function(e){return ks(e,function(t){return t})||[]},only:function(e){if(!xo(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};G.Activity=y0;G.Children=E0;G.Component=ii;G.Fragment=d0;G.Profiler=f0;G.PureComponent=vo;G.StrictMode=h0;G.Suspense=v0;G.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=de;G.__COMPILER_RUNTIME={__proto__:null,c:function(e){return de.H.useMemoCache(e)}};G.cache=function(e){return function(){return e.apply(null,arguments)}};G.cacheSignal=function(){return null};G.cloneElement=function(e,t,a){if(e==null)throw Error("The argument must be a React element, but you passed "+e+".");var n=qh({},e.props),i=e.key;if(t!=null)for(s in t.key!==void 0&&(i=""+t.key),t)!Gh.call(t,s)||s==="key"||s==="__self"||s==="__source"||s==="ref"&&t.ref===void 0||(n[s]=t[s]);var s=arguments.length-2;if(s===1)n.children=a;else if(1<s){for(var l=Array(s),c=0;c<s;c++)l[c]=arguments[c+2];n.children=l}return yo(e.type,i,n)};G.createContext=function(e){return e={$$typeof:p0,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider=e,e.Consumer={$$typeof:m0,_context:e},e};G.createElement=function(e,t,a){var n,i={},s=null;if(t!=null)for(n in t.key!==void 0&&(s=""+t.key),t)Gh.call(t,n)&&n!=="key"&&n!=="__self"&&n!=="__source"&&(i[n]=t[n]);var l=arguments.length-2;if(l===1)i.children=a;else if(1<l){for(var c=Array(l),o=0;o<l;o++)c[o]=arguments[o+2];i.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)i[n]===void 0&&(i[n]=l[n]);return yo(e,s,i)};G.createRef=function(){return{current:null}};G.forwardRef=function(e){return{$$typeof:g0,render:e}};G.isValidElement=xo;G.lazy=function(e){return{$$typeof:Lh,_payload:{_status:-1,_result:e},_init:j0}};G.memo=function(e,t){return{$$typeof:b0,type:e,compare:t===void 0?null:t}};G.startTransition=function(e){var t=de.T,a={};de.T=a;try{var n=e(),i=de.S;i!==null&&i(a,n),typeof n=="object"&&n!==null&&typeof n.then=="function"&&n.then(rc,Ru)}catch(s){Ru(s)}finally{t!==null&&a.types!==null&&(t.types=a.types),de.T=t}};G.unstable_useCacheRefresh=function(){return de.H.useCacheRefresh()};G.use=function(e){return de.H.use(e)};G.useActionState=function(e,t,a){return de.H.useActionState(e,t,a)};G.useCallback=function(e,t){return de.H.useCallback(e,t)};G.useContext=function(e){return de.H.useContext(e)};G.useDebugValue=function(){};G.useDeferredValue=function(e,t){return de.H.useDeferredValue(e,t)};G.useEffect=function(e,t){return de.H.useEffect(e,t)};G.useEffectEvent=function(e){return de.H.useEffectEvent(e)};G.useId=function(){return de.H.useId()};G.useImperativeHandle=function(e,t,a){return de.H.useImperativeHandle(e,t,a)};G.useInsertionEffect=function(e,t){return de.H.useInsertionEffect(e,t)};G.useLayoutEffect=function(e,t){return de.H.useLayoutEffect(e,t)};G.useMemo=function(e,t){return de.H.useMemo(e,t)};G.useOptimistic=function(e,t){return de.H.useOptimistic(e,t)};G.useReducer=function(e,t,a){return de.H.useReducer(e,t,a)};G.useRef=function(e){return de.H.useRef(e)};G.useState=function(e){return de.H.useState(e)};G.useSyncExternalStore=function(e,t,a){return de.H.useSyncExternalStore(e,t,a)};G.useTransition=function(){return de.H.useTransition()};G.version="19.2.4";Mh.exports=G;var A=Mh.exports;const Vh=Ch(A);var Yh={exports:{}},Ql={},Kh={exports:{}},Ih={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(R,E){var T=R.length;R.push(E);e:for(;0<T;){var M=T-1>>>1,$=R[M];if(0<i($,E))R[M]=E,R[T]=$,T=M;else break e}}function a(R){return R.length===0?null:R[0]}function n(R){if(R.length===0)return null;var E=R[0],T=R.pop();if(T!==E){R[0]=T;e:for(var M=0,$=R.length,we=$>>>1;M<we;){var C=2*(M+1)-1,K=R[C],P=C+1,F=R[P];if(0>i(K,T))P<$&&0>i(F,K)?(R[M]=F,R[P]=T,M=P):(R[M]=K,R[C]=T,M=C);else if(P<$&&0>i(F,T))R[M]=F,R[P]=T,M=P;else break e}}return E}function i(R,E){var T=R.sortIndex-E.sortIndex;return T!==0?T:R.id-E.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var l=Date,c=l.now();e.unstable_now=function(){return l.now()-c}}var o=[],u=[],d=1,m=null,h=3,f=!1,b=!1,x=!1,w=!1,g=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;function y(R){for(var E=a(u);E!==null;){if(E.callback===null)n(u);else if(E.startTime<=R)n(u),E.sortIndex=E.expirationTime,t(o,E);else break;E=a(u)}}function N(R){if(x=!1,y(R),!b)if(a(o)!==null)b=!0,O||(O=!0,Ge());else{var E=a(u);E!==null&&Ie(N,E.startTime-R)}}var O=!1,S=-1,k=5,z=-1;function B(){return w?!0:!(e.unstable_now()-z<k)}function me(){if(w=!1,O){var R=e.unstable_now();z=R;var E=!0;try{e:{b=!1,x&&(x=!1,p(S),S=-1),f=!0;var T=h;try{t:{for(y(R),m=a(o);m!==null&&!(m.expirationTime>R&&B());){var M=m.callback;if(typeof M=="function"){m.callback=null,h=m.priorityLevel;var $=M(m.expirationTime<=R);if(R=e.unstable_now(),typeof $=="function"){m.callback=$,y(R),E=!0;break t}m===a(o)&&n(o),y(R)}else n(o);m=a(o)}if(m!==null)E=!0;else{var we=a(u);we!==null&&Ie(N,we.startTime-R),E=!1}}break e}finally{m=null,h=T,f=!1}E=void 0}}finally{E?Ge():O=!1}}}var Ge;if(typeof v=="function")Ge=function(){v(me)};else if(typeof MessageChannel<"u"){var Ht=new MessageChannel,Ct=Ht.port2;Ht.port1.onmessage=me,Ge=function(){Ct.postMessage(null)}}else Ge=function(){g(me,0)};function Ie(R,E){S=g(function(){R(e.unstable_now())},E)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(R){R.callback=null},e.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<R?Math.floor(1e3/R):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_next=function(R){switch(h){case 1:case 2:case 3:var E=3;break;default:E=h}var T=h;h=E;try{return R()}finally{h=T}},e.unstable_requestPaint=function(){w=!0},e.unstable_runWithPriority=function(R,E){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var T=h;h=R;try{return E()}finally{h=T}},e.unstable_scheduleCallback=function(R,E,T){var M=e.unstable_now();switch(typeof T=="object"&&T!==null?(T=T.delay,T=typeof T=="number"&&0<T?M+T:M):T=M,R){case 1:var $=-1;break;case 2:$=250;break;case 5:$=1073741823;break;case 4:$=1e4;break;default:$=5e3}return $=T+$,R={id:d++,callback:E,priorityLevel:R,startTime:T,expirationTime:$,sortIndex:-1},T>M?(R.sortIndex=T,t(u,R),a(o)===null&&R===a(u)&&(x?(p(S),S=-1):x=!0,Ie(N,T-M))):(R.sortIndex=$,t(o,R),b||f||(b=!0,O||(O=!0,Ge()))),R},e.unstable_shouldYield=B,e.unstable_wrapCallback=function(R){var E=h;return function(){var T=h;h=E;try{return R.apply(this,arguments)}finally{h=T}}}})(Ih);Kh.exports=Ih;var N0=Kh.exports,Qh={exports:{}},Ke={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var T0=A;function Xh(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)t+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function oa(){}var Ye={d:{f:oa,r:function(){throw Error(Xh(522))},D:oa,C:oa,L:oa,m:oa,X:oa,S:oa,M:oa},p:0,findDOMNode:null},k0=Symbol.for("react.portal");function A0(e,t,a){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:k0,key:n==null?null:""+n,children:e,containerInfo:t,implementation:a}}var Oi=T0.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function Xl(e,t){if(e==="font")return"";if(typeof t=="string")return t==="use-credentials"?t:""}Ke.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Ye;Ke.createPortal=function(e,t){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)throw Error(Xh(299));return A0(e,t,null,a)};Ke.flushSync=function(e){var t=Oi.T,a=Ye.p;try{if(Oi.T=null,Ye.p=2,e)return e()}finally{Oi.T=t,Ye.p=a,Ye.d.f()}};Ke.preconnect=function(e,t){typeof e=="string"&&(t?(t=t.crossOrigin,t=typeof t=="string"?t==="use-credentials"?t:"":void 0):t=null,Ye.d.C(e,t))};Ke.prefetchDNS=function(e){typeof e=="string"&&Ye.d.D(e)};Ke.preinit=function(e,t){if(typeof e=="string"&&t&&typeof t.as=="string"){var a=t.as,n=Xl(a,t.crossOrigin),i=typeof t.integrity=="string"?t.integrity:void 0,s=typeof t.fetchPriority=="string"?t.fetchPriority:void 0;a==="style"?Ye.d.S(e,typeof t.precedence=="string"?t.precedence:void 0,{crossOrigin:n,integrity:i,fetchPriority:s}):a==="script"&&Ye.d.X(e,{crossOrigin:n,integrity:i,fetchPriority:s,nonce:typeof t.nonce=="string"?t.nonce:void 0})}};Ke.preinitModule=function(e,t){if(typeof e=="string")if(typeof t=="object"&&t!==null){if(t.as==null||t.as==="script"){var a=Xl(t.as,t.crossOrigin);Ye.d.M(e,{crossOrigin:a,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0})}}else t==null&&Ye.d.M(e)};Ke.preload=function(e,t){if(typeof e=="string"&&typeof t=="object"&&t!==null&&typeof t.as=="string"){var a=t.as,n=Xl(a,t.crossOrigin);Ye.d.L(e,a,{crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0,type:typeof t.type=="string"?t.type:void 0,fetchPriority:typeof t.fetchPriority=="string"?t.fetchPriority:void 0,referrerPolicy:typeof t.referrerPolicy=="string"?t.referrerPolicy:void 0,imageSrcSet:typeof t.imageSrcSet=="string"?t.imageSrcSet:void 0,imageSizes:typeof t.imageSizes=="string"?t.imageSizes:void 0,media:typeof t.media=="string"?t.media:void 0})}};Ke.preloadModule=function(e,t){if(typeof e=="string")if(t){var a=Xl(t.as,t.crossOrigin);Ye.d.m(e,{as:typeof t.as=="string"&&t.as!=="script"?t.as:void 0,crossOrigin:a,integrity:typeof t.integrity=="string"?t.integrity:void 0})}else Ye.d.m(e)};Ke.requestFormReset=function(e){Ye.d.r(e)};Ke.unstable_batchedUpdates=function(e,t){return e(t)};Ke.useFormState=function(e,t,a){return Oi.H.useFormState(e,t,a)};Ke.useFormStatus=function(){return Oi.H.useHostTransitionStatus()};Ke.version="19.2.4";function Jh(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Jh)}catch(e){console.error(e)}}Jh(),Qh.exports=Ke;var O0=Qh.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ze=N0,Ph=A,z0=O0;function j(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)t+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function Zh(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function fs(e){var t=e,a=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(a=t.return),e=t.return;while(e)}return t.tag===3?a:null}function Wh(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Fh(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Cu(e){if(fs(e)!==e)throw Error(j(188))}function R0(e){var t=e.alternate;if(!t){if(t=fs(e),t===null)throw Error(j(188));return t!==e?null:e}for(var a=e,n=t;;){var i=a.return;if(i===null)break;var s=i.alternate;if(s===null){if(n=i.return,n!==null){a=n;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===a)return Cu(i),e;if(s===n)return Cu(i),t;s=s.sibling}throw Error(j(188))}if(a.return!==n.return)a=i,n=s;else{for(var l=!1,c=i.child;c;){if(c===a){l=!0,a=i,n=s;break}if(c===n){l=!0,n=i,a=s;break}c=c.sibling}if(!l){for(c=s.child;c;){if(c===a){l=!0,a=s,n=i;break}if(c===n){l=!0,n=s,a=i;break}c=c.sibling}if(!l)throw Error(j(189))}}if(a.alternate!==n)throw Error(j(190))}if(a.tag!==3)throw Error(j(188));return a.stateNode.current===a?e:t}function ef(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=ef(e),t!==null)return t;e=e.sibling}return null}var he=Object.assign,C0=Symbol.for("react.element"),As=Symbol.for("react.transitional.element"),ji=Symbol.for("react.portal"),Nn=Symbol.for("react.fragment"),tf=Symbol.for("react.strict_mode"),cc=Symbol.for("react.profiler"),af=Symbol.for("react.consumer"),Pt=Symbol.for("react.context"),_o=Symbol.for("react.forward_ref"),oc=Symbol.for("react.suspense"),uc=Symbol.for("react.suspense_list"),wo=Symbol.for("react.memo"),ua=Symbol.for("react.lazy"),dc=Symbol.for("react.activity"),D0=Symbol.for("react.memo_cache_sentinel"),Du=Symbol.iterator;function gi(e){return e===null||typeof e!="object"?null:(e=Du&&e[Du]||e["@@iterator"],typeof e=="function"?e:null)}var U0=Symbol.for("react.client.reference");function hc(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===U0?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Nn:return"Fragment";case cc:return"Profiler";case tf:return"StrictMode";case oc:return"Suspense";case uc:return"SuspenseList";case dc:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case ji:return"Portal";case Pt:return e.displayName||"Context";case af:return(e._context.displayName||"Context")+".Consumer";case _o:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case wo:return t=e.displayName||null,t!==null?t:hc(e.type)||"Memo";case ua:t=e._payload,e=e._init;try{return hc(e(t))}catch{}}return null}var Ei=Array.isArray,H=Ph.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,te=z0.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ja={pending:!1,data:null,method:null,action:null},fc=[],Tn=-1;function Bt(e){return{current:e}}function De(e){0>Tn||(e.current=fc[Tn],fc[Tn]=null,Tn--)}function ce(e,t){Tn++,fc[Tn]=e.current,e.current=t}var Lt=Bt(null),Ii=Bt(null),Sa=Bt(null),ml=Bt(null);function pl(e,t){switch(ce(Sa,t),ce(Ii,e),ce(Lt,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Hd(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Hd(t),e=Sp(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}De(Lt),ce(Lt,e)}function Qn(){De(Lt),De(Ii),De(Sa)}function mc(e){e.memoizedState!==null&&ce(ml,e);var t=Lt.current,a=Sp(t,e.type);t!==a&&(ce(Ii,e),ce(Lt,a))}function gl(e){Ii.current===e&&(De(Lt),De(Ii)),ml.current===e&&(De(ml),ns._currentValue=Ja)}var vr,Uu;function $a(e){if(vr===void 0)try{throw Error()}catch(a){var t=a.stack.trim().match(/\n( *(at )?)/);vr=t&&t[1]||"",Uu=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+vr+e+Uu}var br=!1;function yr(e,t){if(!e||br)return"";br=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var n={DetermineComponentFrameRoot:function(){try{if(t){var m=function(){throw Error()};if(Object.defineProperty(m.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(m,[])}catch(f){var h=f}Reflect.construct(e,[],m)}else{try{m.call()}catch(f){h=f}e.call(m.prototype)}}else{try{throw Error()}catch(f){h=f}(m=e())&&typeof m.catch=="function"&&m.catch(function(){})}}catch(f){if(f&&h&&typeof f.stack=="string")return[f.stack,h.stack]}return[null,null]}};n.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(n.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(n.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var s=n.DetermineComponentFrameRoot(),l=s[0],c=s[1];if(l&&c){var o=l.split(`
`),u=c.split(`
`);for(i=n=0;n<o.length&&!o[n].includes("DetermineComponentFrameRoot");)n++;for(;i<u.length&&!u[i].includes("DetermineComponentFrameRoot");)i++;if(n===o.length||i===u.length)for(n=o.length-1,i=u.length-1;1<=n&&0<=i&&o[n]!==u[i];)i--;for(;1<=n&&0<=i;n--,i--)if(o[n]!==u[i]){if(n!==1||i!==1)do if(n--,i--,0>i||o[n]!==u[i]){var d=`
`+o[n].replace(" at new "," at ");return e.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",e.displayName)),d}while(1<=n&&0<=i);break}}}finally{br=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?$a(a):""}function M0(e,t){switch(e.tag){case 26:case 27:case 5:return $a(e.type);case 16:return $a("Lazy");case 13:return e.child!==t&&t!==null?$a("Suspense Fallback"):$a("Suspense");case 19:return $a("SuspenseList");case 0:case 15:return yr(e.type,!1);case 11:return yr(e.type.render,!1);case 1:return yr(e.type,!0);case 31:return $a("Activity");default:return""}}function Mu(e){try{var t="",a=null;do t+=M0(e,a),a=e,e=e.return;while(e);return t}catch(n){return`
Error generating stack: `+n.message+`
`+n.stack}}var pc=Object.prototype.hasOwnProperty,So=ze.unstable_scheduleCallback,xr=ze.unstable_cancelCallback,L0=ze.unstable_shouldYield,B0=ze.unstable_requestPaint,rt=ze.unstable_now,q0=ze.unstable_getCurrentPriorityLevel,nf=ze.unstable_ImmediatePriority,sf=ze.unstable_UserBlockingPriority,vl=ze.unstable_NormalPriority,H0=ze.unstable_LowPriority,lf=ze.unstable_IdlePriority,$0=ze.log,G0=ze.unstable_setDisableYieldValue,ms=null,ct=null;function ba(e){if(typeof $0=="function"&&G0(e),ct&&typeof ct.setStrictMode=="function")try{ct.setStrictMode(ms,e)}catch{}}var ot=Math.clz32?Math.clz32:K0,V0=Math.log,Y0=Math.LN2;function K0(e){return e>>>=0,e===0?32:31-(V0(e)/Y0|0)|0}var Os=256,zs=262144,Rs=4194304;function Ga(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Jl(e,t,a){var n=e.pendingLanes;if(n===0)return 0;var i=0,s=e.suspendedLanes,l=e.pingedLanes;e=e.warmLanes;var c=n&134217727;return c!==0?(n=c&~s,n!==0?i=Ga(n):(l&=c,l!==0?i=Ga(l):a||(a=c&~e,a!==0&&(i=Ga(a))))):(c=n&~s,c!==0?i=Ga(c):l!==0?i=Ga(l):a||(a=n&~e,a!==0&&(i=Ga(a)))),i===0?0:t!==0&&t!==i&&!(t&s)&&(s=i&-i,a=t&-t,s>=a||s===32&&(a&4194048)!==0)?t:i}function ps(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function I0(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function rf(){var e=Rs;return Rs<<=1,!(Rs&62914560)&&(Rs=4194304),e}function _r(e){for(var t=[],a=0;31>a;a++)t.push(e);return t}function gs(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Q0(e,t,a,n,i,s){var l=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var c=e.entanglements,o=e.expirationTimes,u=e.hiddenUpdates;for(a=l&~a;0<a;){var d=31-ot(a),m=1<<d;c[d]=0,o[d]=-1;var h=u[d];if(h!==null)for(u[d]=null,d=0;d<h.length;d++){var f=h[d];f!==null&&(f.lane&=-536870913)}a&=~m}n!==0&&cf(e,n,0),s!==0&&i===0&&e.tag!==0&&(e.suspendedLanes|=s&~(l&~t))}function cf(e,t,a){e.pendingLanes|=t,e.suspendedLanes&=~t;var n=31-ot(t);e.entangledLanes|=t,e.entanglements[n]=e.entanglements[n]|1073741824|a&261930}function of(e,t){var a=e.entangledLanes|=t;for(e=e.entanglements;a;){var n=31-ot(a),i=1<<n;i&t|e[n]&t&&(e[n]|=t),a&=~i}}function uf(e,t){var a=t&-t;return a=a&42?1:jo(a),a&(e.suspendedLanes|t)?0:a}function jo(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Eo(e){return e&=-e,2<e?8<e?e&134217727?32:268435456:8:2}function df(){var e=te.p;return e!==0?e:(e=window.event,e===void 0?32:Dp(e.type))}function Lu(e,t){var a=te.p;try{return te.p=e,t()}finally{te.p=a}}var Ma=Math.random().toString(36).slice(2),Be="__reactFiber$"+Ma,Fe="__reactProps$"+Ma,si="__reactContainer$"+Ma,gc="__reactEvents$"+Ma,X0="__reactListeners$"+Ma,J0="__reactHandles$"+Ma,Bu="__reactResources$"+Ma,vs="__reactMarker$"+Ma;function No(e){delete e[Be],delete e[Fe],delete e[gc],delete e[X0],delete e[J0]}function kn(e){var t=e[Be];if(t)return t;for(var a=e.parentNode;a;){if(t=a[si]||a[Be]){if(a=t.alternate,t.child!==null||a!==null&&a.child!==null)for(e=Kd(e);e!==null;){if(a=e[Be])return a;e=Kd(e)}return t}e=a,a=e.parentNode}return null}function li(e){if(e=e[Be]||e[si]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function Ni(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(j(33))}function qn(e){var t=e[Bu];return t||(t=e[Bu]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Ce(e){e[vs]=!0}var hf=new Set,ff={};function ln(e,t){Xn(e,t),Xn(e+"Capture",t)}function Xn(e,t){for(ff[e]=t,e=0;e<t.length;e++)hf.add(t[e])}var P0=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),qu={},Hu={};function Z0(e){return pc.call(Hu,e)?!0:pc.call(qu,e)?!1:P0.test(e)?Hu[e]=!0:(qu[e]=!0,!1)}function Fs(e,t,a){if(Z0(t))if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var n=t.toLowerCase().slice(0,5);if(n!=="data-"&&n!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+a)}}function Cs(e,t,a){if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+a)}}function Gt(e,t,a,n){if(n===null)e.removeAttribute(a);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(t,a,""+n)}}function vt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function mf(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function W0(e,t,a){var n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(l){a=""+l,s.call(this,l)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return a},setValue:function(l){a=""+l},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function vc(e){if(!e._valueTracker){var t=mf(e)?"checked":"value";e._valueTracker=W0(e,t,""+e[t])}}function pf(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var a=t.getValue(),n="";return e&&(n=mf(e)?e.checked?"true":"false":e.value),e=n,e!==a?(t.setValue(e),!0):!1}function bl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var F0=/[\n"\\]/g;function xt(e){return e.replace(F0,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function bc(e,t,a,n,i,s,l,c){e.name="",l!=null&&typeof l!="function"&&typeof l!="symbol"&&typeof l!="boolean"?e.type=l:e.removeAttribute("type"),t!=null?l==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+vt(t)):e.value!==""+vt(t)&&(e.value=""+vt(t)):l!=="submit"&&l!=="reset"||e.removeAttribute("value"),t!=null?yc(e,l,vt(t)):a!=null?yc(e,l,vt(a)):n!=null&&e.removeAttribute("value"),i==null&&s!=null&&(e.defaultChecked=!!s),i!=null&&(e.checked=i&&typeof i!="function"&&typeof i!="symbol"),c!=null&&typeof c!="function"&&typeof c!="symbol"&&typeof c!="boolean"?e.name=""+vt(c):e.removeAttribute("name")}function gf(e,t,a,n,i,s,l,c){if(s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"&&(e.type=s),t!=null||a!=null){if(!(s!=="submit"&&s!=="reset"||t!=null)){vc(e);return}a=a!=null?""+vt(a):"",t=t!=null?""+vt(t):a,c||t===e.value||(e.value=t),e.defaultValue=t}n=n??i,n=typeof n!="function"&&typeof n!="symbol"&&!!n,e.checked=c?e.checked:!!n,e.defaultChecked=!!n,l!=null&&typeof l!="function"&&typeof l!="symbol"&&typeof l!="boolean"&&(e.name=l),vc(e)}function yc(e,t,a){t==="number"&&bl(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function Hn(e,t,a,n){if(e=e.options,t){t={};for(var i=0;i<a.length;i++)t["$"+a[i]]=!0;for(a=0;a<e.length;a++)i=t.hasOwnProperty("$"+e[a].value),e[a].selected!==i&&(e[a].selected=i),i&&n&&(e[a].defaultSelected=!0)}else{for(a=""+vt(a),t=null,i=0;i<e.length;i++){if(e[i].value===a){e[i].selected=!0,n&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function vf(e,t,a){if(t!=null&&(t=""+vt(t),t!==e.value&&(e.value=t),a==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=a!=null?""+vt(a):""}function bf(e,t,a,n){if(t==null){if(n!=null){if(a!=null)throw Error(j(92));if(Ei(n)){if(1<n.length)throw Error(j(93));n=n[0]}a=n}a==null&&(a=""),t=a}a=vt(t),e.defaultValue=a,n=e.textContent,n===a&&n!==""&&n!==null&&(e.value=n),vc(e)}function Jn(e,t){if(t){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=t;return}}e.textContent=t}var eg=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function $u(e,t,a){var n=t.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?n?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":n?e.setProperty(t,a):typeof a!="number"||a===0||eg.has(t)?t==="float"?e.cssFloat=a:e[t]=(""+a).trim():e[t]=a+"px"}function yf(e,t,a){if(t!=null&&typeof t!="object")throw Error(j(62));if(e=e.style,a!=null){for(var n in a)!a.hasOwnProperty(n)||t!=null&&t.hasOwnProperty(n)||(n.indexOf("--")===0?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="");for(var i in t)n=t[i],t.hasOwnProperty(i)&&a[i]!==n&&$u(e,i,n)}else for(var s in t)t.hasOwnProperty(s)&&$u(e,s,t[s])}function To(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var tg=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ag=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function el(e){return ag.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Zt(){}var xc=null;function ko(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var An=null,$n=null;function Gu(e){var t=li(e);if(t&&(e=t.stateNode)){var a=e[Fe]||null;e:switch(e=t.stateNode,t.type){case"input":if(bc(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),t=a.name,a.type==="radio"&&t!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+xt(""+t)+'"][type="radio"]'),t=0;t<a.length;t++){var n=a[t];if(n!==e&&n.form===e.form){var i=n[Fe]||null;if(!i)throw Error(j(90));bc(n,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(t=0;t<a.length;t++)n=a[t],n.form===e.form&&pf(n)}break e;case"textarea":vf(e,a.value,a.defaultValue);break e;case"select":t=a.value,t!=null&&Hn(e,!!a.multiple,t,!1)}}}var wr=!1;function xf(e,t,a){if(wr)return e(t,a);wr=!0;try{var n=e(t);return n}finally{if(wr=!1,(An!==null||$n!==null)&&(rr(),An&&(t=An,e=$n,$n=An=null,Gu(t),e)))for(t=0;t<e.length;t++)Gu(e[t])}}function Qi(e,t){var a=e.stateNode;if(a===null)return null;var n=a[Fe]||null;if(n===null)return null;a=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(j(231,t,typeof a));return a}var aa=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),_c=!1;if(aa)try{var vi={};Object.defineProperty(vi,"passive",{get:function(){_c=!0}}),window.addEventListener("test",vi,vi),window.removeEventListener("test",vi,vi)}catch{_c=!1}var ya=null,Ao=null,tl=null;function _f(){if(tl)return tl;var e,t=Ao,a=t.length,n,i="value"in ya?ya.value:ya.textContent,s=i.length;for(e=0;e<a&&t[e]===i[e];e++);var l=a-e;for(n=1;n<=l&&t[a-n]===i[s-n];n++);return tl=i.slice(e,1<n?1-n:void 0)}function al(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ds(){return!0}function Vu(){return!1}function et(e){function t(a,n,i,s,l){this._reactName=a,this._targetInst=i,this.type=n,this.nativeEvent=s,this.target=l,this.currentTarget=null;for(var c in e)e.hasOwnProperty(c)&&(a=e[c],this[c]=a?a(s):s[c]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Ds:Vu,this.isPropagationStopped=Vu,this}return he(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Ds)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Ds)},persist:function(){},isPersistent:Ds}),t}var rn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Pl=et(rn),bs=he({},rn,{view:0,detail:0}),ng=et(bs),Sr,jr,bi,Zl=he({},bs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Oo,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==bi&&(bi&&e.type==="mousemove"?(Sr=e.screenX-bi.screenX,jr=e.screenY-bi.screenY):jr=Sr=0,bi=e),Sr)},movementY:function(e){return"movementY"in e?e.movementY:jr}}),Yu=et(Zl),ig=he({},Zl,{dataTransfer:0}),sg=et(ig),lg=he({},bs,{relatedTarget:0}),Er=et(lg),rg=he({},rn,{animationName:0,elapsedTime:0,pseudoElement:0}),cg=et(rg),og=he({},rn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ug=et(og),dg=he({},rn,{data:0}),Ku=et(dg),hg={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},fg={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},mg={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function pg(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=mg[e])?!!t[e]:!1}function Oo(){return pg}var gg=he({},bs,{key:function(e){if(e.key){var t=hg[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=al(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?fg[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Oo,charCode:function(e){return e.type==="keypress"?al(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?al(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),vg=et(gg),bg=he({},Zl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Iu=et(bg),yg=he({},bs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Oo}),xg=et(yg),_g=he({},rn,{propertyName:0,elapsedTime:0,pseudoElement:0}),wg=et(_g),Sg=he({},Zl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),jg=et(Sg),Eg=he({},rn,{newState:0,oldState:0}),Ng=et(Eg),Tg=[9,13,27,32],zo=aa&&"CompositionEvent"in window,zi=null;aa&&"documentMode"in document&&(zi=document.documentMode);var kg=aa&&"TextEvent"in window&&!zi,wf=aa&&(!zo||zi&&8<zi&&11>=zi),Qu=" ",Xu=!1;function Sf(e,t){switch(e){case"keyup":return Tg.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function jf(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var On=!1;function Ag(e,t){switch(e){case"compositionend":return jf(t);case"keypress":return t.which!==32?null:(Xu=!0,Qu);case"textInput":return e=t.data,e===Qu&&Xu?null:e;default:return null}}function Og(e,t){if(On)return e==="compositionend"||!zo&&Sf(e,t)?(e=_f(),tl=Ao=ya=null,On=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return wf&&t.locale!=="ko"?null:t.data;default:return null}}var zg={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ju(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!zg[e.type]:t==="textarea"}function Ef(e,t,a,n){An?$n?$n.push(n):$n=[n]:An=n,t=Ml(t,"onChange"),0<t.length&&(a=new Pl("onChange","change",null,a,n),e.push({event:a,listeners:t}))}var Ri=null,Xi=null;function Rg(e){xp(e,0)}function Wl(e){var t=Ni(e);if(pf(t))return e}function Pu(e,t){if(e==="change")return t}var Nf=!1;if(aa){var Nr;if(aa){var Tr="oninput"in document;if(!Tr){var Zu=document.createElement("div");Zu.setAttribute("oninput","return;"),Tr=typeof Zu.oninput=="function"}Nr=Tr}else Nr=!1;Nf=Nr&&(!document.documentMode||9<document.documentMode)}function Wu(){Ri&&(Ri.detachEvent("onpropertychange",Tf),Xi=Ri=null)}function Tf(e){if(e.propertyName==="value"&&Wl(Xi)){var t=[];Ef(t,Xi,e,ko(e)),xf(Rg,t)}}function Cg(e,t,a){e==="focusin"?(Wu(),Ri=t,Xi=a,Ri.attachEvent("onpropertychange",Tf)):e==="focusout"&&Wu()}function Dg(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Wl(Xi)}function Ug(e,t){if(e==="click")return Wl(t)}function Mg(e,t){if(e==="input"||e==="change")return Wl(t)}function Lg(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var dt=typeof Object.is=="function"?Object.is:Lg;function Ji(e,t){if(dt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var a=Object.keys(e),n=Object.keys(t);if(a.length!==n.length)return!1;for(n=0;n<a.length;n++){var i=a[n];if(!pc.call(t,i)||!dt(e[i],t[i]))return!1}return!0}function Fu(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ed(e,t){var a=Fu(e);e=0;for(var n;a;){if(a.nodeType===3){if(n=e+a.textContent.length,e<=t&&n>=t)return{node:a,offset:t-e};e=n}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Fu(a)}}function kf(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?kf(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Af(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=bl(e.document);t instanceof e.HTMLIFrameElement;){try{var a=typeof t.contentWindow.location.href=="string"}catch{a=!1}if(a)e=t.contentWindow;else break;t=bl(e.document)}return t}function Ro(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var Bg=aa&&"documentMode"in document&&11>=document.documentMode,zn=null,wc=null,Ci=null,Sc=!1;function td(e,t,a){var n=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Sc||zn==null||zn!==bl(n)||(n=zn,"selectionStart"in n&&Ro(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Ci&&Ji(Ci,n)||(Ci=n,n=Ml(wc,"onSelect"),0<n.length&&(t=new Pl("onSelect","select",null,t,a),e.push({event:t,listeners:n}),t.target=zn)))}function Ba(e,t){var a={};return a[e.toLowerCase()]=t.toLowerCase(),a["Webkit"+e]="webkit"+t,a["Moz"+e]="moz"+t,a}var Rn={animationend:Ba("Animation","AnimationEnd"),animationiteration:Ba("Animation","AnimationIteration"),animationstart:Ba("Animation","AnimationStart"),transitionrun:Ba("Transition","TransitionRun"),transitionstart:Ba("Transition","TransitionStart"),transitioncancel:Ba("Transition","TransitionCancel"),transitionend:Ba("Transition","TransitionEnd")},kr={},Of={};aa&&(Of=document.createElement("div").style,"AnimationEvent"in window||(delete Rn.animationend.animation,delete Rn.animationiteration.animation,delete Rn.animationstart.animation),"TransitionEvent"in window||delete Rn.transitionend.transition);function cn(e){if(kr[e])return kr[e];if(!Rn[e])return e;var t=Rn[e],a;for(a in t)if(t.hasOwnProperty(a)&&a in Of)return kr[e]=t[a];return e}var zf=cn("animationend"),Rf=cn("animationiteration"),Cf=cn("animationstart"),qg=cn("transitionrun"),Hg=cn("transitionstart"),$g=cn("transitioncancel"),Df=cn("transitionend"),Uf=new Map,jc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");jc.push("scrollEnd");function Rt(e,t){Uf.set(e,t),ln(t,[e])}var yl=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},gt=[],Cn=0,Co=0;function Fl(){for(var e=Cn,t=Co=Cn=0;t<e;){var a=gt[t];gt[t++]=null;var n=gt[t];gt[t++]=null;var i=gt[t];gt[t++]=null;var s=gt[t];if(gt[t++]=null,n!==null&&i!==null){var l=n.pending;l===null?i.next=i:(i.next=l.next,l.next=i),n.pending=i}s!==0&&Mf(a,i,s)}}function er(e,t,a,n){gt[Cn++]=e,gt[Cn++]=t,gt[Cn++]=a,gt[Cn++]=n,Co|=n,e.lanes|=n,e=e.alternate,e!==null&&(e.lanes|=n)}function Do(e,t,a,n){return er(e,t,a,n),xl(e)}function on(e,t){return er(e,null,null,t),xl(e)}function Mf(e,t,a){e.lanes|=a;var n=e.alternate;n!==null&&(n.lanes|=a);for(var i=!1,s=e.return;s!==null;)s.childLanes|=a,n=s.alternate,n!==null&&(n.childLanes|=a),s.tag===22&&(e=s.stateNode,e===null||e._visibility&1||(i=!0)),e=s,s=s.return;return e.tag===3?(s=e.stateNode,i&&t!==null&&(i=31-ot(a),e=s.hiddenUpdates,n=e[i],n===null?e[i]=[t]:n.push(t),t.lane=a|536870912),s):null}function xl(e){if(50<Gi)throw Gi=0,Kc=null,Error(j(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Dn={};function Gg(e,t,a,n){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function it(e,t,a,n){return new Gg(e,t,a,n)}function Uo(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ft(e,t){var a=e.alternate;return a===null?(a=it(e.tag,t,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=t,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,t=e.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function Lf(e,t){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,t=a.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function nl(e,t,a,n,i,s){var l=0;if(n=e,typeof e=="function")Uo(e)&&(l=1);else if(typeof e=="string")l=Qv(e,a,Lt.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case dc:return e=it(31,a,t,i),e.elementType=dc,e.lanes=s,e;case Nn:return Pa(a.children,i,s,t);case tf:l=8,i|=24;break;case cc:return e=it(12,a,t,i|2),e.elementType=cc,e.lanes=s,e;case oc:return e=it(13,a,t,i),e.elementType=oc,e.lanes=s,e;case uc:return e=it(19,a,t,i),e.elementType=uc,e.lanes=s,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Pt:l=10;break e;case af:l=9;break e;case _o:l=11;break e;case wo:l=14;break e;case ua:l=16,n=null;break e}l=29,a=Error(j(130,e===null?"null":typeof e,"")),n=null}return t=it(l,a,t,i),t.elementType=e,t.type=n,t.lanes=s,t}function Pa(e,t,a,n){return e=it(7,e,n,t),e.lanes=a,e}function Ar(e,t,a){return e=it(6,e,null,t),e.lanes=a,e}function Bf(e){var t=it(18,null,null,0);return t.stateNode=e,t}function Or(e,t,a){return t=it(4,e.children!==null?e.children:[],e.key,t),t.lanes=a,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var ad=new WeakMap;function _t(e,t){if(typeof e=="object"&&e!==null){var a=ad.get(e);return a!==void 0?a:(t={value:e,source:t,stack:Mu(t)},ad.set(e,t),t)}return{value:e,source:t,stack:Mu(t)}}var Un=[],Mn=0,_l=null,Pi=0,bt=[],yt=0,Ra=null,Dt=1,Ut="";function Xt(e,t){Un[Mn++]=Pi,Un[Mn++]=_l,_l=e,Pi=t}function qf(e,t,a){bt[yt++]=Dt,bt[yt++]=Ut,bt[yt++]=Ra,Ra=e;var n=Dt;e=Ut;var i=32-ot(n)-1;n&=~(1<<i),a+=1;var s=32-ot(t)+i;if(30<s){var l=i-i%5;s=(n&(1<<l)-1).toString(32),n>>=l,i-=l,Dt=1<<32-ot(t)+i|a<<i|n,Ut=s+e}else Dt=1<<s|a<<i|n,Ut=e}function Mo(e){e.return!==null&&(Xt(e,1),qf(e,1,0))}function Lo(e){for(;e===_l;)_l=Un[--Mn],Un[Mn]=null,Pi=Un[--Mn],Un[Mn]=null;for(;e===Ra;)Ra=bt[--yt],bt[yt]=null,Ut=bt[--yt],bt[yt]=null,Dt=bt[--yt],bt[yt]=null}function Hf(e,t){bt[yt++]=Dt,bt[yt++]=Ut,bt[yt++]=Ra,Dt=t.id,Ut=t.overflow,Ra=e}var qe=null,ue=null,J=!1,ja=null,wt=!1,Ec=Error(j(519));function Ca(e){var t=Error(j(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Zi(_t(t,e)),Ec}function nd(e){var t=e.stateNode,a=e.type,n=e.memoizedProps;switch(t[Be]=e,t[Fe]=n,a){case"dialog":I("cancel",t),I("close",t);break;case"iframe":case"object":case"embed":I("load",t);break;case"video":case"audio":for(a=0;a<ts.length;a++)I(ts[a],t);break;case"source":I("error",t);break;case"img":case"image":case"link":I("error",t),I("load",t);break;case"details":I("toggle",t);break;case"input":I("invalid",t),gf(t,n.value,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name,!0);break;case"select":I("invalid",t);break;case"textarea":I("invalid",t),bf(t,n.value,n.defaultValue,n.children)}a=n.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||t.textContent===""+a||n.suppressHydrationWarning===!0||wp(t.textContent,a)?(n.popover!=null&&(I("beforetoggle",t),I("toggle",t)),n.onScroll!=null&&I("scroll",t),n.onScrollEnd!=null&&I("scrollend",t),n.onClick!=null&&(t.onclick=Zt),t=!0):t=!1,t||Ca(e,!0)}function id(e){for(qe=e.return;qe;)switch(qe.tag){case 5:case 31:case 13:wt=!1;return;case 27:case 3:wt=!0;return;default:qe=qe.return}}function hn(e){if(e!==qe)return!1;if(!J)return id(e),J=!0,!1;var t=e.tag,a;if((a=t!==3&&t!==27)&&((a=t===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||Pc(e.type,e.memoizedProps)),a=!a),a&&ue&&Ca(e),id(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(j(317));ue=Yd(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(j(317));ue=Yd(e)}else t===27?(t=ue,La(e.type)?(e=eo,eo=null,ue=e):ue=t):ue=qe?jt(e.stateNode.nextSibling):null;return!0}function en(){ue=qe=null,J=!1}function zr(){var e=ja;return e!==null&&(Pe===null?Pe=e:Pe.push.apply(Pe,e),ja=null),e}function Zi(e){ja===null?ja=[e]:ja.push(e)}var Nc=Bt(null),un=null,Wt=null;function fa(e,t,a){ce(Nc,t._currentValue),t._currentValue=a}function ea(e){e._currentValue=Nc.current,De(Nc)}function Tc(e,t,a){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===a)break;e=e.return}}function kc(e,t,a,n){var i=e.child;for(i!==null&&(i.return=e);i!==null;){var s=i.dependencies;if(s!==null){var l=i.child;s=s.firstContext;e:for(;s!==null;){var c=s;s=i;for(var o=0;o<t.length;o++)if(c.context===t[o]){s.lanes|=a,c=s.alternate,c!==null&&(c.lanes|=a),Tc(s.return,a,e),n||(l=null);break e}s=c.next}}else if(i.tag===18){if(l=i.return,l===null)throw Error(j(341));l.lanes|=a,s=l.alternate,s!==null&&(s.lanes|=a),Tc(l,a,e),l=null}else l=i.child;if(l!==null)l.return=i;else for(l=i;l!==null;){if(l===e){l=null;break}if(i=l.sibling,i!==null){i.return=l.return,l=i;break}l=l.return}i=l}}function ri(e,t,a,n){e=null;for(var i=t,s=!1;i!==null;){if(!s){if(i.flags&524288)s=!0;else if(i.flags&262144)break}if(i.tag===10){var l=i.alternate;if(l===null)throw Error(j(387));if(l=l.memoizedProps,l!==null){var c=i.type;dt(i.pendingProps.value,l.value)||(e!==null?e.push(c):e=[c])}}else if(i===ml.current){if(l=i.alternate,l===null)throw Error(j(387));l.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(e!==null?e.push(ns):e=[ns])}i=i.return}e!==null&&kc(t,e,a,n),t.flags|=262144}function wl(e){for(e=e.firstContext;e!==null;){if(!dt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function tn(e){un=e,Wt=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function He(e){return $f(un,e)}function Us(e,t){return un===null&&tn(e),$f(e,t)}function $f(e,t){var a=t._currentValue;if(t={context:t,memoizedValue:a,next:null},Wt===null){if(e===null)throw Error(j(308));Wt=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Wt=Wt.next=t;return a}var Vg=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(a,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(a){return a()})}},Yg=ze.unstable_scheduleCallback,Kg=ze.unstable_NormalPriority,Ne={$$typeof:Pt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Bo(){return{controller:new Vg,data:new Map,refCount:0}}function ys(e){e.refCount--,e.refCount===0&&Yg(Kg,function(){e.controller.abort()})}var Di=null,Ac=0,Pn=0,Gn=null;function Ig(e,t){if(Di===null){var a=Di=[];Ac=0,Pn=ou(),Gn={status:"pending",value:void 0,then:function(n){a.push(n)}}}return Ac++,t.then(sd,sd),t}function sd(){if(--Ac===0&&Di!==null){Gn!==null&&(Gn.status="fulfilled");var e=Di;Di=null,Pn=0,Gn=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function Qg(e,t){var a=[],n={status:"pending",value:null,reason:null,then:function(i){a.push(i)}};return e.then(function(){n.status="fulfilled",n.value=t;for(var i=0;i<a.length;i++)(0,a[i])(t)},function(i){for(n.status="rejected",n.reason=i,i=0;i<a.length;i++)(0,a[i])(void 0)}),n}var ld=H.S;H.S=function(e,t){tp=rt(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&Ig(e,t),ld!==null&&ld(e,t)};var Za=Bt(null);function qo(){var e=Za.current;return e!==null?e:le.pooledCache}function il(e,t){t===null?ce(Za,Za.current):ce(Za,t.pool)}function Gf(){var e=qo();return e===null?null:{parent:Ne._currentValue,pool:e}}var ci=Error(j(460)),Ho=Error(j(474)),tr=Error(j(542)),Sl={then:function(){}};function rd(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Vf(e,t,a){switch(a=e[a],a===void 0?e.push(t):a!==t&&(t.then(Zt,Zt),t=a),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,od(e),e;default:if(typeof t.status=="string")t.then(Zt,Zt);else{if(e=le,e!==null&&100<e.shellSuspendCounter)throw Error(j(482));e=t,e.status="pending",e.then(function(n){if(t.status==="pending"){var i=t;i.status="fulfilled",i.value=n}},function(n){if(t.status==="pending"){var i=t;i.status="rejected",i.reason=n}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,od(e),e}throw Wa=t,ci}}function Va(e){try{var t=e._init;return t(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Wa=a,ci):a}}var Wa=null;function cd(){if(Wa===null)throw Error(j(459));var e=Wa;return Wa=null,e}function od(e){if(e===ci||e===tr)throw Error(j(483))}var Vn=null,Wi=0;function Ms(e){var t=Wi;return Wi+=1,Vn===null&&(Vn=[]),Vf(Vn,e,t)}function yi(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Ls(e,t){throw t.$$typeof===C0?Error(j(525)):(e=Object.prototype.toString.call(t),Error(j(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Yf(e){function t(g,p){if(e){var v=g.deletions;v===null?(g.deletions=[p],g.flags|=16):v.push(p)}}function a(g,p){if(!e)return null;for(;p!==null;)t(g,p),p=p.sibling;return null}function n(g){for(var p=new Map;g!==null;)g.key!==null?p.set(g.key,g):p.set(g.index,g),g=g.sibling;return p}function i(g,p){return g=Ft(g,p),g.index=0,g.sibling=null,g}function s(g,p,v){return g.index=v,e?(v=g.alternate,v!==null?(v=v.index,v<p?(g.flags|=67108866,p):v):(g.flags|=67108866,p)):(g.flags|=1048576,p)}function l(g){return e&&g.alternate===null&&(g.flags|=67108866),g}function c(g,p,v,y){return p===null||p.tag!==6?(p=Ar(v,g.mode,y),p.return=g,p):(p=i(p,v),p.return=g,p)}function o(g,p,v,y){var N=v.type;return N===Nn?d(g,p,v.props.children,y,v.key):p!==null&&(p.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===ua&&Va(N)===p.type)?(p=i(p,v.props),yi(p,v),p.return=g,p):(p=nl(v.type,v.key,v.props,null,g.mode,y),yi(p,v),p.return=g,p)}function u(g,p,v,y){return p===null||p.tag!==4||p.stateNode.containerInfo!==v.containerInfo||p.stateNode.implementation!==v.implementation?(p=Or(v,g.mode,y),p.return=g,p):(p=i(p,v.children||[]),p.return=g,p)}function d(g,p,v,y,N){return p===null||p.tag!==7?(p=Pa(v,g.mode,y,N),p.return=g,p):(p=i(p,v),p.return=g,p)}function m(g,p,v){if(typeof p=="string"&&p!==""||typeof p=="number"||typeof p=="bigint")return p=Ar(""+p,g.mode,v),p.return=g,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case As:return v=nl(p.type,p.key,p.props,null,g.mode,v),yi(v,p),v.return=g,v;case ji:return p=Or(p,g.mode,v),p.return=g,p;case ua:return p=Va(p),m(g,p,v)}if(Ei(p)||gi(p))return p=Pa(p,g.mode,v,null),p.return=g,p;if(typeof p.then=="function")return m(g,Ms(p),v);if(p.$$typeof===Pt)return m(g,Us(g,p),v);Ls(g,p)}return null}function h(g,p,v,y){var N=p!==null?p.key:null;if(typeof v=="string"&&v!==""||typeof v=="number"||typeof v=="bigint")return N!==null?null:c(g,p,""+v,y);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case As:return v.key===N?o(g,p,v,y):null;case ji:return v.key===N?u(g,p,v,y):null;case ua:return v=Va(v),h(g,p,v,y)}if(Ei(v)||gi(v))return N!==null?null:d(g,p,v,y,null);if(typeof v.then=="function")return h(g,p,Ms(v),y);if(v.$$typeof===Pt)return h(g,p,Us(g,v),y);Ls(g,v)}return null}function f(g,p,v,y,N){if(typeof y=="string"&&y!==""||typeof y=="number"||typeof y=="bigint")return g=g.get(v)||null,c(p,g,""+y,N);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case As:return g=g.get(y.key===null?v:y.key)||null,o(p,g,y,N);case ji:return g=g.get(y.key===null?v:y.key)||null,u(p,g,y,N);case ua:return y=Va(y),f(g,p,v,y,N)}if(Ei(y)||gi(y))return g=g.get(v)||null,d(p,g,y,N,null);if(typeof y.then=="function")return f(g,p,v,Ms(y),N);if(y.$$typeof===Pt)return f(g,p,v,Us(p,y),N);Ls(p,y)}return null}function b(g,p,v,y){for(var N=null,O=null,S=p,k=p=0,z=null;S!==null&&k<v.length;k++){S.index>k?(z=S,S=null):z=S.sibling;var B=h(g,S,v[k],y);if(B===null){S===null&&(S=z);break}e&&S&&B.alternate===null&&t(g,S),p=s(B,p,k),O===null?N=B:O.sibling=B,O=B,S=z}if(k===v.length)return a(g,S),J&&Xt(g,k),N;if(S===null){for(;k<v.length;k++)S=m(g,v[k],y),S!==null&&(p=s(S,p,k),O===null?N=S:O.sibling=S,O=S);return J&&Xt(g,k),N}for(S=n(S);k<v.length;k++)z=f(S,g,k,v[k],y),z!==null&&(e&&z.alternate!==null&&S.delete(z.key===null?k:z.key),p=s(z,p,k),O===null?N=z:O.sibling=z,O=z);return e&&S.forEach(function(me){return t(g,me)}),J&&Xt(g,k),N}function x(g,p,v,y){if(v==null)throw Error(j(151));for(var N=null,O=null,S=p,k=p=0,z=null,B=v.next();S!==null&&!B.done;k++,B=v.next()){S.index>k?(z=S,S=null):z=S.sibling;var me=h(g,S,B.value,y);if(me===null){S===null&&(S=z);break}e&&S&&me.alternate===null&&t(g,S),p=s(me,p,k),O===null?N=me:O.sibling=me,O=me,S=z}if(B.done)return a(g,S),J&&Xt(g,k),N;if(S===null){for(;!B.done;k++,B=v.next())B=m(g,B.value,y),B!==null&&(p=s(B,p,k),O===null?N=B:O.sibling=B,O=B);return J&&Xt(g,k),N}for(S=n(S);!B.done;k++,B=v.next())B=f(S,g,k,B.value,y),B!==null&&(e&&B.alternate!==null&&S.delete(B.key===null?k:B.key),p=s(B,p,k),O===null?N=B:O.sibling=B,O=B);return e&&S.forEach(function(Ge){return t(g,Ge)}),J&&Xt(g,k),N}function w(g,p,v,y){if(typeof v=="object"&&v!==null&&v.type===Nn&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case As:e:{for(var N=v.key;p!==null;){if(p.key===N){if(N=v.type,N===Nn){if(p.tag===7){a(g,p.sibling),y=i(p,v.props.children),y.return=g,g=y;break e}}else if(p.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===ua&&Va(N)===p.type){a(g,p.sibling),y=i(p,v.props),yi(y,v),y.return=g,g=y;break e}a(g,p);break}else t(g,p);p=p.sibling}v.type===Nn?(y=Pa(v.props.children,g.mode,y,v.key),y.return=g,g=y):(y=nl(v.type,v.key,v.props,null,g.mode,y),yi(y,v),y.return=g,g=y)}return l(g);case ji:e:{for(N=v.key;p!==null;){if(p.key===N)if(p.tag===4&&p.stateNode.containerInfo===v.containerInfo&&p.stateNode.implementation===v.implementation){a(g,p.sibling),y=i(p,v.children||[]),y.return=g,g=y;break e}else{a(g,p);break}else t(g,p);p=p.sibling}y=Or(v,g.mode,y),y.return=g,g=y}return l(g);case ua:return v=Va(v),w(g,p,v,y)}if(Ei(v))return b(g,p,v,y);if(gi(v)){if(N=gi(v),typeof N!="function")throw Error(j(150));return v=N.call(v),x(g,p,v,y)}if(typeof v.then=="function")return w(g,p,Ms(v),y);if(v.$$typeof===Pt)return w(g,p,Us(g,v),y);Ls(g,v)}return typeof v=="string"&&v!==""||typeof v=="number"||typeof v=="bigint"?(v=""+v,p!==null&&p.tag===6?(a(g,p.sibling),y=i(p,v),y.return=g,g=y):(a(g,p),y=Ar(v,g.mode,y),y.return=g,g=y),l(g)):a(g,p)}return function(g,p,v,y){try{Wi=0;var N=w(g,p,v,y);return Vn=null,N}catch(S){if(S===ci||S===tr)throw S;var O=it(29,S,null,g.mode);return O.lanes=y,O.return=g,O}finally{}}}var an=Yf(!0),Kf=Yf(!1),da=!1;function $o(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Oc(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ea(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Na(e,t,a){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,ee&2){var i=n.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),n.pending=t,t=xl(e),Mf(e,null,a),t}return er(e,n,t,a),xl(e)}function Ui(e,t,a){if(t=t.updateQueue,t!==null&&(t=t.shared,(a&4194048)!==0)){var n=t.lanes;n&=e.pendingLanes,a|=n,t.lanes=a,of(e,a)}}function Rr(e,t){var a=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,a===n)){var i=null,s=null;if(a=a.firstBaseUpdate,a!==null){do{var l={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};s===null?i=s=l:s=s.next=l,a=a.next}while(a!==null);s===null?i=s=t:s=s.next=t}else i=s=t;a={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:n.shared,callbacks:n.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=t:e.next=t,a.lastBaseUpdate=t}var zc=!1;function Mi(){if(zc){var e=Gn;if(e!==null)throw e}}function Li(e,t,a,n){zc=!1;var i=e.updateQueue;da=!1;var s=i.firstBaseUpdate,l=i.lastBaseUpdate,c=i.shared.pending;if(c!==null){i.shared.pending=null;var o=c,u=o.next;o.next=null,l===null?s=u:l.next=u,l=o;var d=e.alternate;d!==null&&(d=d.updateQueue,c=d.lastBaseUpdate,c!==l&&(c===null?d.firstBaseUpdate=u:c.next=u,d.lastBaseUpdate=o))}if(s!==null){var m=i.baseState;l=0,d=u=o=null,c=s;do{var h=c.lane&-536870913,f=h!==c.lane;if(f?(X&h)===h:(n&h)===h){h!==0&&h===Pn&&(zc=!0),d!==null&&(d=d.next={lane:0,tag:c.tag,payload:c.payload,callback:null,next:null});e:{var b=e,x=c;h=t;var w=a;switch(x.tag){case 1:if(b=x.payload,typeof b=="function"){m=b.call(w,m,h);break e}m=b;break e;case 3:b.flags=b.flags&-65537|128;case 0:if(b=x.payload,h=typeof b=="function"?b.call(w,m,h):b,h==null)break e;m=he({},m,h);break e;case 2:da=!0}}h=c.callback,h!==null&&(e.flags|=64,f&&(e.flags|=8192),f=i.callbacks,f===null?i.callbacks=[h]:f.push(h))}else f={lane:h,tag:c.tag,payload:c.payload,callback:c.callback,next:null},d===null?(u=d=f,o=m):d=d.next=f,l|=h;if(c=c.next,c===null){if(c=i.shared.pending,c===null)break;f=c,c=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);d===null&&(o=m),i.baseState=o,i.firstBaseUpdate=u,i.lastBaseUpdate=d,s===null&&(i.shared.lanes=0),Ua|=l,e.lanes=l,e.memoizedState=m}}function If(e,t){if(typeof e!="function")throw Error(j(191,e));e.call(t)}function Qf(e,t){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)If(a[e],t)}var Zn=Bt(null),jl=Bt(0);function ud(e,t){e=la,ce(jl,e),ce(Zn,t),la=e|t.baseLanes}function Rc(){ce(jl,la),ce(Zn,Zn.current)}function Go(){la=jl.current,De(Zn),De(jl)}var ht=Bt(null),St=null;function ma(e){var t=e.alternate;ce(xe,xe.current&1),ce(ht,e),St===null&&(t===null||Zn.current!==null||t.memoizedState!==null)&&(St=e)}function Cc(e){ce(xe,xe.current),ce(ht,e),St===null&&(St=e)}function Xf(e){e.tag===22?(ce(xe,xe.current),ce(ht,e),St===null&&(St=e)):pa()}function pa(){ce(xe,xe.current),ce(ht,ht.current)}function nt(e){De(ht),St===e&&(St=null),De(xe)}var xe=Bt(0);function El(e){for(var t=e;t!==null;){if(t.tag===13){var a=t.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Wc(a)||Fc(a)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var na=0,V=null,se=null,je=null,Nl=!1,Yn=!1,nn=!1,Tl=0,Fi=0,Kn=null,Xg=0;function ve(){throw Error(j(321))}function Vo(e,t){if(t===null)return!1;for(var a=0;a<t.length&&a<e.length;a++)if(!dt(e[a],t[a]))return!1;return!0}function Yo(e,t,a,n,i,s){return na=s,V=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,H.H=e===null||e.memoizedState===null?Em:tu,nn=!1,s=a(n,i),nn=!1,Yn&&(s=Pf(t,a,n,i)),Jf(e),s}function Jf(e){H.H=es;var t=se!==null&&se.next!==null;if(na=0,je=se=V=null,Nl=!1,Fi=0,Kn=null,t)throw Error(j(300));e===null||Te||(e=e.dependencies,e!==null&&wl(e)&&(Te=!0))}function Pf(e,t,a,n){V=e;var i=0;do{if(Yn&&(Kn=null),Fi=0,Yn=!1,25<=i)throw Error(j(301));if(i+=1,je=se=null,e.updateQueue!=null){var s=e.updateQueue;s.lastEffect=null,s.events=null,s.stores=null,s.memoCache!=null&&(s.memoCache.index=0)}H.H=Nm,s=t(a,n)}while(Yn);return s}function Jg(){var e=H.H,t=e.useState()[0];return t=typeof t.then=="function"?xs(t):t,e=e.useState()[0],(se!==null?se.memoizedState:null)!==e&&(V.flags|=1024),t}function Ko(){var e=Tl!==0;return Tl=0,e}function Io(e,t,a){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a}function Qo(e){if(Nl){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Nl=!1}na=0,je=se=V=null,Yn=!1,Fi=Tl=0,Kn=null}function Ve(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return je===null?V.memoizedState=je=e:je=je.next=e,je}function _e(){if(se===null){var e=V.alternate;e=e!==null?e.memoizedState:null}else e=se.next;var t=je===null?V.memoizedState:je.next;if(t!==null)je=t,se=e;else{if(e===null)throw V.alternate===null?Error(j(467)):Error(j(310));se=e,e={memoizedState:se.memoizedState,baseState:se.baseState,baseQueue:se.baseQueue,queue:se.queue,next:null},je===null?V.memoizedState=je=e:je=je.next=e}return je}function ar(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function xs(e){var t=Fi;return Fi+=1,Kn===null&&(Kn=[]),e=Vf(Kn,e,t),t=V,(je===null?t.memoizedState:je.next)===null&&(t=t.alternate,H.H=t===null||t.memoizedState===null?Em:tu),e}function nr(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return xs(e);if(e.$$typeof===Pt)return He(e)}throw Error(j(438,String(e)))}function Xo(e){var t=null,a=V.updateQueue;if(a!==null&&(t=a.memoCache),t==null){var n=V.alternate;n!==null&&(n=n.updateQueue,n!==null&&(n=n.memoCache,n!=null&&(t={data:n.data.map(function(i){return i.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),a===null&&(a=ar(),V.updateQueue=a),a.memoCache=t,a=t.data[t.index],a===void 0)for(a=t.data[t.index]=Array(e),n=0;n<e;n++)a[n]=D0;return t.index++,a}function ia(e,t){return typeof t=="function"?t(e):t}function sl(e){var t=_e();return Jo(t,se,e)}function Jo(e,t,a){var n=e.queue;if(n===null)throw Error(j(311));n.lastRenderedReducer=a;var i=e.baseQueue,s=n.pending;if(s!==null){if(i!==null){var l=i.next;i.next=s.next,s.next=l}t.baseQueue=i=s,n.pending=null}if(s=e.baseState,i===null)e.memoizedState=s;else{t=i.next;var c=l=null,o=null,u=t,d=!1;do{var m=u.lane&-536870913;if(m!==u.lane?(X&m)===m:(na&m)===m){var h=u.revertLane;if(h===0)o!==null&&(o=o.next={lane:0,revertLane:0,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),m===Pn&&(d=!0);else if((na&h)===h){u=u.next,h===Pn&&(d=!0);continue}else m={lane:0,revertLane:u.revertLane,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},o===null?(c=o=m,l=s):o=o.next=m,V.lanes|=h,Ua|=h;m=u.action,nn&&a(s,m),s=u.hasEagerState?u.eagerState:a(s,m)}else h={lane:m,revertLane:u.revertLane,gesture:u.gesture,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},o===null?(c=o=h,l=s):o=o.next=h,V.lanes|=m,Ua|=m;u=u.next}while(u!==null&&u!==t);if(o===null?l=s:o.next=c,!dt(s,e.memoizedState)&&(Te=!0,d&&(a=Gn,a!==null)))throw a;e.memoizedState=s,e.baseState=l,e.baseQueue=o,n.lastRenderedState=s}return i===null&&(n.lanes=0),[e.memoizedState,n.dispatch]}function Cr(e){var t=_e(),a=t.queue;if(a===null)throw Error(j(311));a.lastRenderedReducer=e;var n=a.dispatch,i=a.pending,s=t.memoizedState;if(i!==null){a.pending=null;var l=i=i.next;do s=e(s,l.action),l=l.next;while(l!==i);dt(s,t.memoizedState)||(Te=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),a.lastRenderedState=s}return[s,n]}function Zf(e,t,a){var n=V,i=_e(),s=J;if(s){if(a===void 0)throw Error(j(407));a=a()}else a=t();var l=!dt((se||i).memoizedState,a);if(l&&(i.memoizedState=a,Te=!0),i=i.queue,Po(em.bind(null,n,i,e),[e]),i.getSnapshot!==t||l||je!==null&&je.memoizedState.tag&1){if(n.flags|=2048,Wn(9,{destroy:void 0},Ff.bind(null,n,i,a,t),null),le===null)throw Error(j(349));s||na&127||Wf(n,t,a)}return a}function Wf(e,t,a){e.flags|=16384,e={getSnapshot:t,value:a},t=V.updateQueue,t===null?(t=ar(),V.updateQueue=t,t.stores=[e]):(a=t.stores,a===null?t.stores=[e]:a.push(e))}function Ff(e,t,a,n){t.value=a,t.getSnapshot=n,tm(t)&&am(e)}function em(e,t,a){return a(function(){tm(t)&&am(e)})}function tm(e){var t=e.getSnapshot;e=e.value;try{var a=t();return!dt(e,a)}catch{return!0}}function am(e){var t=on(e,2);t!==null&&We(t,e,2)}function Dc(e){var t=Ve();if(typeof e=="function"){var a=e;if(e=a(),nn){ba(!0);try{a()}finally{ba(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ia,lastRenderedState:e},t}function nm(e,t,a,n){return e.baseState=a,Jo(e,se,typeof n=="function"?n:ia)}function Pg(e,t,a,n,i){if(sr(e))throw Error(j(485));if(e=t.action,e!==null){var s={payload:i,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(l){s.listeners.push(l)}};H.T!==null?a(!0):s.isTransition=!1,n(s),a=t.pending,a===null?(s.next=t.pending=s,im(t,s)):(s.next=a.next,t.pending=a.next=s)}}function im(e,t){var a=t.action,n=t.payload,i=e.state;if(t.isTransition){var s=H.T,l={};H.T=l;try{var c=a(i,n),o=H.S;o!==null&&o(l,c),dd(e,t,c)}catch(u){Uc(e,t,u)}finally{s!==null&&l.types!==null&&(s.types=l.types),H.T=s}}else try{s=a(i,n),dd(e,t,s)}catch(u){Uc(e,t,u)}}function dd(e,t,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(n){hd(e,t,n)},function(n){return Uc(e,t,n)}):hd(e,t,a)}function hd(e,t,a){t.status="fulfilled",t.value=a,sm(t),e.state=a,t=e.pending,t!==null&&(a=t.next,a===t?e.pending=null:(a=a.next,t.next=a,im(e,a)))}function Uc(e,t,a){var n=e.pending;if(e.pending=null,n!==null){n=n.next;do t.status="rejected",t.reason=a,sm(t),t=t.next;while(t!==n)}e.action=null}function sm(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function lm(e,t){return t}function fd(e,t){if(J){var a=le.formState;if(a!==null){e:{var n=V;if(J){if(ue){t:{for(var i=ue,s=wt;i.nodeType!==8;){if(!s){i=null;break t}if(i=jt(i.nextSibling),i===null){i=null;break t}}s=i.data,i=s==="F!"||s==="F"?i:null}if(i){ue=jt(i.nextSibling),n=i.data==="F!";break e}}Ca(n)}n=!1}n&&(t=a[0])}}return a=Ve(),a.memoizedState=a.baseState=t,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:lm,lastRenderedState:t},a.queue=n,a=wm.bind(null,V,n),n.dispatch=a,n=Dc(!1),s=eu.bind(null,V,!1,n.queue),n=Ve(),i={state:t,dispatch:null,action:e,pending:null},n.queue=i,a=Pg.bind(null,V,i,s,a),i.dispatch=a,n.memoizedState=e,[t,a,!1]}function md(e){var t=_e();return rm(t,se,e)}function rm(e,t,a){if(t=Jo(e,t,lm)[0],e=sl(ia)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var n=xs(t)}catch(l){throw l===ci?tr:l}else n=t;t=_e();var i=t.queue,s=i.dispatch;return a!==t.memoizedState&&(V.flags|=2048,Wn(9,{destroy:void 0},Zg.bind(null,i,a),null)),[n,s,e]}function Zg(e,t){e.action=t}function pd(e){var t=_e(),a=se;if(a!==null)return rm(t,a,e);_e(),t=t.memoizedState,a=_e();var n=a.queue.dispatch;return a.memoizedState=e,[t,n,!1]}function Wn(e,t,a,n){return e={tag:e,create:a,deps:n,inst:t,next:null},t=V.updateQueue,t===null&&(t=ar(),V.updateQueue=t),a=t.lastEffect,a===null?t.lastEffect=e.next=e:(n=a.next,a.next=e,e.next=n,t.lastEffect=e),e}function cm(){return _e().memoizedState}function ll(e,t,a,n){var i=Ve();V.flags|=e,i.memoizedState=Wn(1|t,{destroy:void 0},a,n===void 0?null:n)}function ir(e,t,a,n){var i=_e();n=n===void 0?null:n;var s=i.memoizedState.inst;se!==null&&n!==null&&Vo(n,se.memoizedState.deps)?i.memoizedState=Wn(t,s,a,n):(V.flags|=e,i.memoizedState=Wn(1|t,s,a,n))}function gd(e,t){ll(8390656,8,e,t)}function Po(e,t){ir(2048,8,e,t)}function Wg(e){V.flags|=4;var t=V.updateQueue;if(t===null)t=ar(),V.updateQueue=t,t.events=[e];else{var a=t.events;a===null?t.events=[e]:a.push(e)}}function om(e){var t=_e().memoizedState;return Wg({ref:t,nextImpl:e}),function(){if(ee&2)throw Error(j(440));return t.impl.apply(void 0,arguments)}}function um(e,t){return ir(4,2,e,t)}function dm(e,t){return ir(4,4,e,t)}function hm(e,t){if(typeof t=="function"){e=e();var a=t(e);return function(){typeof a=="function"?a():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function fm(e,t,a){a=a!=null?a.concat([e]):null,ir(4,4,hm.bind(null,t,e),a)}function Zo(){}function mm(e,t){var a=_e();t=t===void 0?null:t;var n=a.memoizedState;return t!==null&&Vo(t,n[1])?n[0]:(a.memoizedState=[e,t],e)}function pm(e,t){var a=_e();t=t===void 0?null:t;var n=a.memoizedState;if(t!==null&&Vo(t,n[1]))return n[0];if(n=e(),nn){ba(!0);try{e()}finally{ba(!1)}}return a.memoizedState=[n,t],n}function Wo(e,t,a){return a===void 0||na&1073741824&&!(X&261930)?e.memoizedState=t:(e.memoizedState=a,e=np(),V.lanes|=e,Ua|=e,a)}function gm(e,t,a,n){return dt(a,t)?a:Zn.current!==null?(e=Wo(e,a,n),dt(e,t)||(Te=!0),e):!(na&42)||na&1073741824&&!(X&261930)?(Te=!0,e.memoizedState=a):(e=np(),V.lanes|=e,Ua|=e,t)}function vm(e,t,a,n,i){var s=te.p;te.p=s!==0&&8>s?s:8;var l=H.T,c={};H.T=c,eu(e,!1,t,a);try{var o=i(),u=H.S;if(u!==null&&u(c,o),o!==null&&typeof o=="object"&&typeof o.then=="function"){var d=Qg(o,n);Bi(e,t,d,ut(e))}else Bi(e,t,n,ut(e))}catch(m){Bi(e,t,{then:function(){},status:"rejected",reason:m},ut())}finally{te.p=s,l!==null&&c.types!==null&&(l.types=c.types),H.T=l}}function Fg(){}function Mc(e,t,a,n){if(e.tag!==5)throw Error(j(476));var i=bm(e).queue;vm(e,i,t,Ja,a===null?Fg:function(){return ym(e),a(n)})}function bm(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:Ja,baseState:Ja,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ia,lastRenderedState:Ja},next:null};var a={};return t.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ia,lastRenderedState:a},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function ym(e){var t=bm(e);t.next===null&&(t=e.alternate.memoizedState),Bi(e,t.next.queue,{},ut())}function Fo(){return He(ns)}function xm(){return _e().memoizedState}function _m(){return _e().memoizedState}function ev(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var a=ut();e=Ea(a);var n=Na(t,e,a);n!==null&&(We(n,t,a),Ui(n,t,a)),t={cache:Bo()},e.payload=t;return}t=t.return}}function tv(e,t,a){var n=ut();a={lane:n,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},sr(e)?Sm(t,a):(a=Do(e,t,a,n),a!==null&&(We(a,e,n),jm(a,t,n)))}function wm(e,t,a){var n=ut();Bi(e,t,a,n)}function Bi(e,t,a,n){var i={lane:n,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(sr(e))Sm(t,i);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var l=t.lastRenderedState,c=s(l,a);if(i.hasEagerState=!0,i.eagerState=c,dt(c,l))return er(e,t,i,0),le===null&&Fl(),!1}catch{}finally{}if(a=Do(e,t,i,n),a!==null)return We(a,e,n),jm(a,t,n),!0}return!1}function eu(e,t,a,n){if(n={lane:2,revertLane:ou(),gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},sr(e)){if(t)throw Error(j(479))}else t=Do(e,a,n,2),t!==null&&We(t,e,2)}function sr(e){var t=e.alternate;return e===V||t!==null&&t===V}function Sm(e,t){Yn=Nl=!0;var a=e.pending;a===null?t.next=t:(t.next=a.next,a.next=t),e.pending=t}function jm(e,t,a){if(a&4194048){var n=t.lanes;n&=e.pendingLanes,a|=n,t.lanes=a,of(e,a)}}var es={readContext:He,use:nr,useCallback:ve,useContext:ve,useEffect:ve,useImperativeHandle:ve,useLayoutEffect:ve,useInsertionEffect:ve,useMemo:ve,useReducer:ve,useRef:ve,useState:ve,useDebugValue:ve,useDeferredValue:ve,useTransition:ve,useSyncExternalStore:ve,useId:ve,useHostTransitionStatus:ve,useFormState:ve,useActionState:ve,useOptimistic:ve,useMemoCache:ve,useCacheRefresh:ve};es.useEffectEvent=ve;var Em={readContext:He,use:nr,useCallback:function(e,t){return Ve().memoizedState=[e,t===void 0?null:t],e},useContext:He,useEffect:gd,useImperativeHandle:function(e,t,a){a=a!=null?a.concat([e]):null,ll(4194308,4,hm.bind(null,t,e),a)},useLayoutEffect:function(e,t){return ll(4194308,4,e,t)},useInsertionEffect:function(e,t){ll(4,2,e,t)},useMemo:function(e,t){var a=Ve();t=t===void 0?null:t;var n=e();if(nn){ba(!0);try{e()}finally{ba(!1)}}return a.memoizedState=[n,t],n},useReducer:function(e,t,a){var n=Ve();if(a!==void 0){var i=a(t);if(nn){ba(!0);try{a(t)}finally{ba(!1)}}}else i=t;return n.memoizedState=n.baseState=i,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:i},n.queue=e,e=e.dispatch=tv.bind(null,V,e),[n.memoizedState,e]},useRef:function(e){var t=Ve();return e={current:e},t.memoizedState=e},useState:function(e){e=Dc(e);var t=e.queue,a=wm.bind(null,V,t);return t.dispatch=a,[e.memoizedState,a]},useDebugValue:Zo,useDeferredValue:function(e,t){var a=Ve();return Wo(a,e,t)},useTransition:function(){var e=Dc(!1);return e=vm.bind(null,V,e.queue,!0,!1),Ve().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,a){var n=V,i=Ve();if(J){if(a===void 0)throw Error(j(407));a=a()}else{if(a=t(),le===null)throw Error(j(349));X&127||Wf(n,t,a)}i.memoizedState=a;var s={value:a,getSnapshot:t};return i.queue=s,gd(em.bind(null,n,s,e),[e]),n.flags|=2048,Wn(9,{destroy:void 0},Ff.bind(null,n,s,a,t),null),a},useId:function(){var e=Ve(),t=le.identifierPrefix;if(J){var a=Ut,n=Dt;a=(n&~(1<<32-ot(n)-1)).toString(32)+a,t="_"+t+"R_"+a,a=Tl++,0<a&&(t+="H"+a.toString(32)),t+="_"}else a=Xg++,t="_"+t+"r_"+a.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:Fo,useFormState:fd,useActionState:fd,useOptimistic:function(e){var t=Ve();t.memoizedState=t.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=a,t=eu.bind(null,V,!0,a),a.dispatch=t,[e,t]},useMemoCache:Xo,useCacheRefresh:function(){return Ve().memoizedState=ev.bind(null,V)},useEffectEvent:function(e){var t=Ve(),a={impl:e};return t.memoizedState=a,function(){if(ee&2)throw Error(j(440));return a.impl.apply(void 0,arguments)}}},tu={readContext:He,use:nr,useCallback:mm,useContext:He,useEffect:Po,useImperativeHandle:fm,useInsertionEffect:um,useLayoutEffect:dm,useMemo:pm,useReducer:sl,useRef:cm,useState:function(){return sl(ia)},useDebugValue:Zo,useDeferredValue:function(e,t){var a=_e();return gm(a,se.memoizedState,e,t)},useTransition:function(){var e=sl(ia)[0],t=_e().memoizedState;return[typeof e=="boolean"?e:xs(e),t]},useSyncExternalStore:Zf,useId:xm,useHostTransitionStatus:Fo,useFormState:md,useActionState:md,useOptimistic:function(e,t){var a=_e();return nm(a,se,e,t)},useMemoCache:Xo,useCacheRefresh:_m};tu.useEffectEvent=om;var Nm={readContext:He,use:nr,useCallback:mm,useContext:He,useEffect:Po,useImperativeHandle:fm,useInsertionEffect:um,useLayoutEffect:dm,useMemo:pm,useReducer:Cr,useRef:cm,useState:function(){return Cr(ia)},useDebugValue:Zo,useDeferredValue:function(e,t){var a=_e();return se===null?Wo(a,e,t):gm(a,se.memoizedState,e,t)},useTransition:function(){var e=Cr(ia)[0],t=_e().memoizedState;return[typeof e=="boolean"?e:xs(e),t]},useSyncExternalStore:Zf,useId:xm,useHostTransitionStatus:Fo,useFormState:pd,useActionState:pd,useOptimistic:function(e,t){var a=_e();return se!==null?nm(a,se,e,t):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:Xo,useCacheRefresh:_m};Nm.useEffectEvent=om;function Dr(e,t,a,n){t=e.memoizedState,a=a(n,t),a=a==null?t:he({},t,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Lc={enqueueSetState:function(e,t,a){e=e._reactInternals;var n=ut(),i=Ea(n);i.payload=t,a!=null&&(i.callback=a),t=Na(e,i,n),t!==null&&(We(t,e,n),Ui(t,e,n))},enqueueReplaceState:function(e,t,a){e=e._reactInternals;var n=ut(),i=Ea(n);i.tag=1,i.payload=t,a!=null&&(i.callback=a),t=Na(e,i,n),t!==null&&(We(t,e,n),Ui(t,e,n))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var a=ut(),n=Ea(a);n.tag=2,t!=null&&(n.callback=t),t=Na(e,n,a),t!==null&&(We(t,e,a),Ui(t,e,a))}};function vd(e,t,a,n,i,s,l){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,s,l):t.prototype&&t.prototype.isPureReactComponent?!Ji(a,n)||!Ji(i,s):!0}function bd(e,t,a,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(a,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(a,n),t.state!==e&&Lc.enqueueReplaceState(t,t.state,null)}function sn(e,t){var a=t;if("ref"in t){a={};for(var n in t)n!=="ref"&&(a[n]=t[n])}if(e=e.defaultProps){a===t&&(a=he({},a));for(var i in e)a[i]===void 0&&(a[i]=e[i])}return a}function Tm(e){yl(e)}function km(e){console.error(e)}function Am(e){yl(e)}function kl(e,t){try{var a=e.onUncaughtError;a(t.value,{componentStack:t.stack})}catch(n){setTimeout(function(){throw n})}}function yd(e,t,a){try{var n=e.onCaughtError;n(a.value,{componentStack:a.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(i){setTimeout(function(){throw i})}}function Bc(e,t,a){return a=Ea(a),a.tag=3,a.payload={element:null},a.callback=function(){kl(e,t)},a}function Om(e){return e=Ea(e),e.tag=3,e}function zm(e,t,a,n){var i=a.type.getDerivedStateFromError;if(typeof i=="function"){var s=n.value;e.payload=function(){return i(s)},e.callback=function(){yd(t,a,n)}}var l=a.stateNode;l!==null&&typeof l.componentDidCatch=="function"&&(e.callback=function(){yd(t,a,n),typeof i!="function"&&(Ta===null?Ta=new Set([this]):Ta.add(this));var c=n.stack;this.componentDidCatch(n.value,{componentStack:c!==null?c:""})})}function av(e,t,a,n,i){if(a.flags|=32768,n!==null&&typeof n=="object"&&typeof n.then=="function"){if(t=a.alternate,t!==null&&ri(t,a,i,!0),a=ht.current,a!==null){switch(a.tag){case 31:case 13:return St===null?Cl():a.alternate===null&&ye===0&&(ye=3),a.flags&=-257,a.flags|=65536,a.lanes=i,n===Sl?a.flags|=16384:(t=a.updateQueue,t===null?a.updateQueue=new Set([n]):t.add(n),Kr(e,n,i)),!1;case 22:return a.flags|=65536,n===Sl?a.flags|=16384:(t=a.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([n])},a.updateQueue=t):(a=t.retryQueue,a===null?t.retryQueue=new Set([n]):a.add(n)),Kr(e,n,i)),!1}throw Error(j(435,a.tag))}return Kr(e,n,i),Cl(),!1}if(J)return t=ht.current,t!==null?(!(t.flags&65536)&&(t.flags|=256),t.flags|=65536,t.lanes=i,n!==Ec&&(e=Error(j(422),{cause:n}),Zi(_t(e,a)))):(n!==Ec&&(t=Error(j(423),{cause:n}),Zi(_t(t,a))),e=e.current.alternate,e.flags|=65536,i&=-i,e.lanes|=i,n=_t(n,a),i=Bc(e.stateNode,n,i),Rr(e,i),ye!==4&&(ye=2)),!1;var s=Error(j(520),{cause:n});if(s=_t(s,a),$i===null?$i=[s]:$i.push(s),ye!==4&&(ye=2),t===null)return!0;n=_t(n,a),a=t;do{switch(a.tag){case 3:return a.flags|=65536,e=i&-i,a.lanes|=e,e=Bc(a.stateNode,n,e),Rr(a,e),!1;case 1:if(t=a.type,s=a.stateNode,(a.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||s!==null&&typeof s.componentDidCatch=="function"&&(Ta===null||!Ta.has(s))))return a.flags|=65536,i&=-i,a.lanes|=i,i=Om(i),zm(i,e,a,n),Rr(a,i),!1}a=a.return}while(a!==null);return!1}var au=Error(j(461)),Te=!1;function Le(e,t,a,n){t.child=e===null?Kf(t,null,a,n):an(t,e.child,a,n)}function xd(e,t,a,n,i){a=a.render;var s=t.ref;if("ref"in n){var l={};for(var c in n)c!=="ref"&&(l[c]=n[c])}else l=n;return tn(t),n=Yo(e,t,a,l,s,i),c=Ko(),e!==null&&!Te?(Io(e,t,i),sa(e,t,i)):(J&&c&&Mo(t),t.flags|=1,Le(e,t,n,i),t.child)}function _d(e,t,a,n,i){if(e===null){var s=a.type;return typeof s=="function"&&!Uo(s)&&s.defaultProps===void 0&&a.compare===null?(t.tag=15,t.type=s,Rm(e,t,s,n,i)):(e=nl(a.type,null,n,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!nu(e,i)){var l=s.memoizedProps;if(a=a.compare,a=a!==null?a:Ji,a(l,n)&&e.ref===t.ref)return sa(e,t,i)}return t.flags|=1,e=Ft(s,n),e.ref=t.ref,e.return=t,t.child=e}function Rm(e,t,a,n,i){if(e!==null){var s=e.memoizedProps;if(Ji(s,n)&&e.ref===t.ref)if(Te=!1,t.pendingProps=n=s,nu(e,i))e.flags&131072&&(Te=!0);else return t.lanes=e.lanes,sa(e,t,i)}return qc(e,t,a,n,i)}function Cm(e,t,a,n){var i=n.children,s=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.mode==="hidden"){if(t.flags&128){if(s=s!==null?s.baseLanes|a:a,e!==null){for(n=t.child=e.child,i=0;n!==null;)i=i|n.lanes|n.childLanes,n=n.sibling;n=i&~s}else n=0,t.child=null;return wd(e,t,s,a,n)}if(a&536870912)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&il(t,s!==null?s.cachePool:null),s!==null?ud(t,s):Rc(),Xf(t);else return n=t.lanes=536870912,wd(e,t,s!==null?s.baseLanes|a:a,a,n)}else s!==null?(il(t,s.cachePool),ud(t,s),pa(),t.memoizedState=null):(e!==null&&il(t,null),Rc(),pa());return Le(e,t,i,a),t.child}function Ti(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function wd(e,t,a,n,i){var s=qo();return s=s===null?null:{parent:Ne._currentValue,pool:s},t.memoizedState={baseLanes:a,cachePool:s},e!==null&&il(t,null),Rc(),Xf(t),e!==null&&ri(e,t,n,!0),t.childLanes=i,null}function rl(e,t){return t=Al({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function Sd(e,t,a){return an(t,e.child,null,a),e=rl(t,t.pendingProps),e.flags|=2,nt(t),t.memoizedState=null,e}function nv(e,t,a){var n=t.pendingProps,i=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(J){if(n.mode==="hidden")return e=rl(t,n),t.lanes=536870912,Ti(null,e);if(Cc(t),(e=ue)?(e=Ep(e,wt),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Ra!==null?{id:Dt,overflow:Ut}:null,retryLane:536870912,hydrationErrors:null},a=Bf(e),a.return=t,t.child=a,qe=t,ue=null)):e=null,e===null)throw Ca(t);return t.lanes=536870912,null}return rl(t,n)}var s=e.memoizedState;if(s!==null){var l=s.dehydrated;if(Cc(t),i)if(t.flags&256)t.flags&=-257,t=Sd(e,t,a);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(j(558));else if(Te||ri(e,t,a,!1),i=(a&e.childLanes)!==0,Te||i){if(n=le,n!==null&&(l=uf(n,a),l!==0&&l!==s.retryLane))throw s.retryLane=l,on(e,l),We(n,e,l),au;Cl(),t=Sd(e,t,a)}else e=s.treeContext,ue=jt(l.nextSibling),qe=t,J=!0,ja=null,wt=!1,e!==null&&Hf(t,e),t=rl(t,n),t.flags|=4096;return t}return e=Ft(e.child,{mode:n.mode,children:n.children}),e.ref=t.ref,t.child=e,e.return=t,e}function cl(e,t){var a=t.ref;if(a===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(j(284));(e===null||e.ref!==a)&&(t.flags|=4194816)}}function qc(e,t,a,n,i){return tn(t),a=Yo(e,t,a,n,void 0,i),n=Ko(),e!==null&&!Te?(Io(e,t,i),sa(e,t,i)):(J&&n&&Mo(t),t.flags|=1,Le(e,t,a,i),t.child)}function jd(e,t,a,n,i,s){return tn(t),t.updateQueue=null,a=Pf(t,n,a,i),Jf(e),n=Ko(),e!==null&&!Te?(Io(e,t,s),sa(e,t,s)):(J&&n&&Mo(t),t.flags|=1,Le(e,t,a,s),t.child)}function Ed(e,t,a,n,i){if(tn(t),t.stateNode===null){var s=Dn,l=a.contextType;typeof l=="object"&&l!==null&&(s=He(l)),s=new a(n,s),t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=Lc,t.stateNode=s,s._reactInternals=t,s=t.stateNode,s.props=n,s.state=t.memoizedState,s.refs={},$o(t),l=a.contextType,s.context=typeof l=="object"&&l!==null?He(l):Dn,s.state=t.memoizedState,l=a.getDerivedStateFromProps,typeof l=="function"&&(Dr(t,a,l,n),s.state=t.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(l=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),l!==s.state&&Lc.enqueueReplaceState(s,s.state,null),Li(t,n,s,i),Mi(),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308),n=!0}else if(e===null){s=t.stateNode;var c=t.memoizedProps,o=sn(a,c);s.props=o;var u=s.context,d=a.contextType;l=Dn,typeof d=="object"&&d!==null&&(l=He(d));var m=a.getDerivedStateFromProps;d=typeof m=="function"||typeof s.getSnapshotBeforeUpdate=="function",c=t.pendingProps!==c,d||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(c||u!==l)&&bd(t,s,n,l),da=!1;var h=t.memoizedState;s.state=h,Li(t,n,s,i),Mi(),u=t.memoizedState,c||h!==u||da?(typeof m=="function"&&(Dr(t,a,m,n),u=t.memoizedState),(o=da||vd(t,a,o,n,h,u,l))?(d||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=u),s.props=n,s.state=u,s.context=l,n=o):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{s=t.stateNode,Oc(e,t),l=t.memoizedProps,d=sn(a,l),s.props=d,m=t.pendingProps,h=s.context,u=a.contextType,o=Dn,typeof u=="object"&&u!==null&&(o=He(u)),c=a.getDerivedStateFromProps,(u=typeof c=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(l!==m||h!==o)&&bd(t,s,n,o),da=!1,h=t.memoizedState,s.state=h,Li(t,n,s,i),Mi();var f=t.memoizedState;l!==m||h!==f||da||e!==null&&e.dependencies!==null&&wl(e.dependencies)?(typeof c=="function"&&(Dr(t,a,c,n),f=t.memoizedState),(d=da||vd(t,a,d,n,h,f,o)||e!==null&&e.dependencies!==null&&wl(e.dependencies))?(u||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(n,f,o),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(n,f,o)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=f),s.props=n,s.state=f,s.context=o,n=d):(typeof s.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return s=n,cl(e,t),n=(t.flags&128)!==0,s||n?(s=t.stateNode,a=n&&typeof a.getDerivedStateFromError!="function"?null:s.render(),t.flags|=1,e!==null&&n?(t.child=an(t,e.child,null,i),t.child=an(t,null,a,i)):Le(e,t,a,i),t.memoizedState=s.state,e=t.child):e=sa(e,t,i),e}function Nd(e,t,a,n){return en(),t.flags|=256,Le(e,t,a,n),t.child}var Ur={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Mr(e){return{baseLanes:e,cachePool:Gf()}}function Lr(e,t,a){return e=e!==null?e.childLanes&~a:0,t&&(e|=lt),e}function Dm(e,t,a){var n=t.pendingProps,i=!1,s=(t.flags&128)!==0,l;if((l=s)||(l=e!==null&&e.memoizedState===null?!1:(xe.current&2)!==0),l&&(i=!0,t.flags&=-129),l=(t.flags&32)!==0,t.flags&=-33,e===null){if(J){if(i?ma(t):pa(),(e=ue)?(e=Ep(e,wt),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Ra!==null?{id:Dt,overflow:Ut}:null,retryLane:536870912,hydrationErrors:null},a=Bf(e),a.return=t,t.child=a,qe=t,ue=null)):e=null,e===null)throw Ca(t);return Fc(e)?t.lanes=32:t.lanes=536870912,null}var c=n.children;return n=n.fallback,i?(pa(),i=t.mode,c=Al({mode:"hidden",children:c},i),n=Pa(n,i,a,null),c.return=t,n.return=t,c.sibling=n,t.child=c,n=t.child,n.memoizedState=Mr(a),n.childLanes=Lr(e,l,a),t.memoizedState=Ur,Ti(null,n)):(ma(t),Hc(t,c))}var o=e.memoizedState;if(o!==null&&(c=o.dehydrated,c!==null)){if(s)t.flags&256?(ma(t),t.flags&=-257,t=Br(e,t,a)):t.memoizedState!==null?(pa(),t.child=e.child,t.flags|=128,t=null):(pa(),c=n.fallback,i=t.mode,n=Al({mode:"visible",children:n.children},i),c=Pa(c,i,a,null),c.flags|=2,n.return=t,c.return=t,n.sibling=c,t.child=n,an(t,e.child,null,a),n=t.child,n.memoizedState=Mr(a),n.childLanes=Lr(e,l,a),t.memoizedState=Ur,t=Ti(null,n));else if(ma(t),Fc(c)){if(l=c.nextSibling&&c.nextSibling.dataset,l)var u=l.dgst;l=u,n=Error(j(419)),n.stack="",n.digest=l,Zi({value:n,source:null,stack:null}),t=Br(e,t,a)}else if(Te||ri(e,t,a,!1),l=(a&e.childLanes)!==0,Te||l){if(l=le,l!==null&&(n=uf(l,a),n!==0&&n!==o.retryLane))throw o.retryLane=n,on(e,n),We(l,e,n),au;Wc(c)||Cl(),t=Br(e,t,a)}else Wc(c)?(t.flags|=192,t.child=e.child,t=null):(e=o.treeContext,ue=jt(c.nextSibling),qe=t,J=!0,ja=null,wt=!1,e!==null&&Hf(t,e),t=Hc(t,n.children),t.flags|=4096);return t}return i?(pa(),c=n.fallback,i=t.mode,o=e.child,u=o.sibling,n=Ft(o,{mode:"hidden",children:n.children}),n.subtreeFlags=o.subtreeFlags&65011712,u!==null?c=Ft(u,c):(c=Pa(c,i,a,null),c.flags|=2),c.return=t,n.return=t,n.sibling=c,t.child=n,Ti(null,n),n=t.child,c=e.child.memoizedState,c===null?c=Mr(a):(i=c.cachePool,i!==null?(o=Ne._currentValue,i=i.parent!==o?{parent:o,pool:o}:i):i=Gf(),c={baseLanes:c.baseLanes|a,cachePool:i}),n.memoizedState=c,n.childLanes=Lr(e,l,a),t.memoizedState=Ur,Ti(e.child,n)):(ma(t),a=e.child,e=a.sibling,a=Ft(a,{mode:"visible",children:n.children}),a.return=t,a.sibling=null,e!==null&&(l=t.deletions,l===null?(t.deletions=[e],t.flags|=16):l.push(e)),t.child=a,t.memoizedState=null,a)}function Hc(e,t){return t=Al({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Al(e,t){return e=it(22,e,null,t),e.lanes=0,e}function Br(e,t,a){return an(t,e.child,null,a),e=Hc(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Td(e,t,a){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Tc(e.return,t,a)}function qr(e,t,a,n,i,s){var l=e.memoizedState;l===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:a,tailMode:i,treeForkCount:s}:(l.isBackwards=t,l.rendering=null,l.renderingStartTime=0,l.last=n,l.tail=a,l.tailMode=i,l.treeForkCount=s)}function Um(e,t,a){var n=t.pendingProps,i=n.revealOrder,s=n.tail;n=n.children;var l=xe.current,c=(l&2)!==0;if(c?(l=l&1|2,t.flags|=128):l&=1,ce(xe,l),Le(e,t,n,a),n=J?Pi:0,!c&&e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Td(e,a,t);else if(e.tag===19)Td(e,a,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(i){case"forwards":for(a=t.child,i=null;a!==null;)e=a.alternate,e!==null&&El(e)===null&&(i=a),a=a.sibling;a=i,a===null?(i=t.child,t.child=null):(i=a.sibling,a.sibling=null),qr(t,!1,i,a,s,n);break;case"backwards":case"unstable_legacy-backwards":for(a=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&El(e)===null){t.child=i;break}e=i.sibling,i.sibling=a,a=i,i=e}qr(t,!0,a,null,s,n);break;case"together":qr(t,!1,null,null,void 0,n);break;default:t.memoizedState=null}return t.child}function sa(e,t,a){if(e!==null&&(t.dependencies=e.dependencies),Ua|=t.lanes,!(a&t.childLanes))if(e!==null){if(ri(e,t,a,!1),(a&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(j(153));if(t.child!==null){for(e=t.child,a=Ft(e,e.pendingProps),t.child=a,a.return=t;e.sibling!==null;)e=e.sibling,a=a.sibling=Ft(e,e.pendingProps),a.return=t;a.sibling=null}return t.child}function nu(e,t){return e.lanes&t?!0:(e=e.dependencies,!!(e!==null&&wl(e)))}function iv(e,t,a){switch(t.tag){case 3:pl(t,t.stateNode.containerInfo),fa(t,Ne,e.memoizedState.cache),en();break;case 27:case 5:mc(t);break;case 4:pl(t,t.stateNode.containerInfo);break;case 10:fa(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,Cc(t),null;break;case 13:var n=t.memoizedState;if(n!==null)return n.dehydrated!==null?(ma(t),t.flags|=128,null):a&t.child.childLanes?Dm(e,t,a):(ma(t),e=sa(e,t,a),e!==null?e.sibling:null);ma(t);break;case 19:var i=(e.flags&128)!==0;if(n=(a&t.childLanes)!==0,n||(ri(e,t,a,!1),n=(a&t.childLanes)!==0),i){if(n)return Um(e,t,a);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ce(xe,xe.current),n)break;return null;case 22:return t.lanes=0,Cm(e,t,a,t.pendingProps);case 24:fa(t,Ne,e.memoizedState.cache)}return sa(e,t,a)}function Mm(e,t,a){if(e!==null)if(e.memoizedProps!==t.pendingProps)Te=!0;else{if(!nu(e,a)&&!(t.flags&128))return Te=!1,iv(e,t,a);Te=!!(e.flags&131072)}else Te=!1,J&&t.flags&1048576&&qf(t,Pi,t.index);switch(t.lanes=0,t.tag){case 16:e:{var n=t.pendingProps;if(e=Va(t.elementType),t.type=e,typeof e=="function")Uo(e)?(n=sn(e,n),t.tag=1,t=Ed(null,t,e,n,a)):(t.tag=0,t=qc(null,t,e,n,a));else{if(e!=null){var i=e.$$typeof;if(i===_o){t.tag=11,t=xd(null,t,e,n,a);break e}else if(i===wo){t.tag=14,t=_d(null,t,e,n,a);break e}}throw t=hc(e)||e,Error(j(306,t,""))}}return t;case 0:return qc(e,t,t.type,t.pendingProps,a);case 1:return n=t.type,i=sn(n,t.pendingProps),Ed(e,t,n,i,a);case 3:e:{if(pl(t,t.stateNode.containerInfo),e===null)throw Error(j(387));n=t.pendingProps;var s=t.memoizedState;i=s.element,Oc(e,t),Li(t,n,null,a);var l=t.memoizedState;if(n=l.cache,fa(t,Ne,n),n!==s.cache&&kc(t,[Ne],a,!0),Mi(),n=l.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:l.cache},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){t=Nd(e,t,n,a);break e}else if(n!==i){i=_t(Error(j(424)),t),Zi(i),t=Nd(e,t,n,a);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(ue=jt(e.firstChild),qe=t,J=!0,ja=null,wt=!0,a=Kf(t,null,n,a),t.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(en(),n===i){t=sa(e,t,a);break e}Le(e,t,n,a)}t=t.child}return t;case 26:return cl(e,t),e===null?(a=Qd(t.type,null,t.pendingProps,null))?t.memoizedState=a:J||(a=t.type,e=t.pendingProps,n=Ll(Sa.current).createElement(a),n[Be]=t,n[Fe]=e,$e(n,a,e),Ce(n),t.stateNode=n):t.memoizedState=Qd(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return mc(t),e===null&&J&&(n=t.stateNode=Np(t.type,t.pendingProps,Sa.current),qe=t,wt=!0,i=ue,La(t.type)?(eo=i,ue=jt(n.firstChild)):ue=i),Le(e,t,t.pendingProps.children,a),cl(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&J&&((i=n=ue)&&(n=Dv(n,t.type,t.pendingProps,wt),n!==null?(t.stateNode=n,qe=t,ue=jt(n.firstChild),wt=!1,i=!0):i=!1),i||Ca(t)),mc(t),i=t.type,s=t.pendingProps,l=e!==null?e.memoizedProps:null,n=s.children,Pc(i,s)?n=null:l!==null&&Pc(i,l)&&(t.flags|=32),t.memoizedState!==null&&(i=Yo(e,t,Jg,null,null,a),ns._currentValue=i),cl(e,t),Le(e,t,n,a),t.child;case 6:return e===null&&J&&((e=a=ue)&&(a=Uv(a,t.pendingProps,wt),a!==null?(t.stateNode=a,qe=t,ue=null,e=!0):e=!1),e||Ca(t)),null;case 13:return Dm(e,t,a);case 4:return pl(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=an(t,null,n,a):Le(e,t,n,a),t.child;case 11:return xd(e,t,t.type,t.pendingProps,a);case 7:return Le(e,t,t.pendingProps,a),t.child;case 8:return Le(e,t,t.pendingProps.children,a),t.child;case 12:return Le(e,t,t.pendingProps.children,a),t.child;case 10:return n=t.pendingProps,fa(t,t.type,n.value),Le(e,t,n.children,a),t.child;case 9:return i=t.type._context,n=t.pendingProps.children,tn(t),i=He(i),n=n(i),t.flags|=1,Le(e,t,n,a),t.child;case 14:return _d(e,t,t.type,t.pendingProps,a);case 15:return Rm(e,t,t.type,t.pendingProps,a);case 19:return Um(e,t,a);case 31:return nv(e,t,a);case 22:return Cm(e,t,a,t.pendingProps);case 24:return tn(t),n=He(Ne),e===null?(i=qo(),i===null&&(i=le,s=Bo(),i.pooledCache=s,s.refCount++,s!==null&&(i.pooledCacheLanes|=a),i=s),t.memoizedState={parent:n,cache:i},$o(t),fa(t,Ne,i)):(e.lanes&a&&(Oc(e,t),Li(t,null,null,a),Mi()),i=e.memoizedState,s=t.memoizedState,i.parent!==n?(i={parent:n,cache:n},t.memoizedState=i,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=i),fa(t,Ne,n)):(n=s.cache,fa(t,Ne,n),n!==i.cache&&kc(t,[Ne],a,!0))),Le(e,t,t.pendingProps.children,a),t.child;case 29:throw t.pendingProps}throw Error(j(156,t.tag))}function Vt(e){e.flags|=4}function Hr(e,t,a,n,i){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(i&335544128)===i)if(e.stateNode.complete)e.flags|=8192;else if(lp())e.flags|=8192;else throw Wa=Sl,Ho}else e.flags&=-16777217}function kd(e,t){if(t.type!=="stylesheet"||t.state.loading&4)e.flags&=-16777217;else if(e.flags|=16777216,!Ap(t))if(lp())e.flags|=8192;else throw Wa=Sl,Ho}function Bs(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?rf():536870912,e.lanes|=t,Fn|=t)}function xi(e,t){if(!J)switch(e.tailMode){case"hidden":t=e.tail;for(var a=null;t!==null;)t.alternate!==null&&(a=t),t=t.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var n=null;a!==null;)a.alternate!==null&&(n=a),a=a.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function oe(e){var t=e.alternate!==null&&e.alternate.child===e.child,a=0,n=0;if(t)for(var i=e.child;i!==null;)a|=i.lanes|i.childLanes,n|=i.subtreeFlags&65011712,n|=i.flags&65011712,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)a|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=n,e.childLanes=a,t}function sv(e,t,a){var n=t.pendingProps;switch(Lo(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return oe(t),null;case 1:return oe(t),null;case 3:return a=t.stateNode,n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),ea(Ne),Qn(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(hn(t)?Vt(t):e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,zr())),oe(t),null;case 26:var i=t.type,s=t.memoizedState;return e===null?(Vt(t),s!==null?(oe(t),kd(t,s)):(oe(t),Hr(t,i,null,n,a))):s?s!==e.memoizedState?(Vt(t),oe(t),kd(t,s)):(oe(t),t.flags&=-16777217):(e=e.memoizedProps,e!==n&&Vt(t),oe(t),Hr(t,i,e,n,a)),null;case 27:if(gl(t),a=Sa.current,i=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==n&&Vt(t);else{if(!n){if(t.stateNode===null)throw Error(j(166));return oe(t),null}e=Lt.current,hn(t)?nd(t):(e=Np(i,n,a),t.stateNode=e,Vt(t))}return oe(t),null;case 5:if(gl(t),i=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==n&&Vt(t);else{if(!n){if(t.stateNode===null)throw Error(j(166));return oe(t),null}if(s=Lt.current,hn(t))nd(t);else{var l=Ll(Sa.current);switch(s){case 1:s=l.createElementNS("http://www.w3.org/2000/svg",i);break;case 2:s=l.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;default:switch(i){case"svg":s=l.createElementNS("http://www.w3.org/2000/svg",i);break;case"math":s=l.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;case"script":s=l.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild);break;case"select":s=typeof n.is=="string"?l.createElement("select",{is:n.is}):l.createElement("select"),n.multiple?s.multiple=!0:n.size&&(s.size=n.size);break;default:s=typeof n.is=="string"?l.createElement(i,{is:n.is}):l.createElement(i)}}s[Be]=t,s[Fe]=n;e:for(l=t.child;l!==null;){if(l.tag===5||l.tag===6)s.appendChild(l.stateNode);else if(l.tag!==4&&l.tag!==27&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===t)break e;for(;l.sibling===null;){if(l.return===null||l.return===t)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}t.stateNode=s;e:switch($e(s,i,n),i){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&Vt(t)}}return oe(t),Hr(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,a),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==n&&Vt(t);else{if(typeof n!="string"&&t.stateNode===null)throw Error(j(166));if(e=Sa.current,hn(t)){if(e=t.stateNode,a=t.memoizedProps,n=null,i=qe,i!==null)switch(i.tag){case 27:case 5:n=i.memoizedProps}e[Be]=t,e=!!(e.nodeValue===a||n!==null&&n.suppressHydrationWarning===!0||wp(e.nodeValue,a)),e||Ca(t,!0)}else e=Ll(e).createTextNode(n),e[Be]=t,t.stateNode=e}return oe(t),null;case 31:if(a=t.memoizedState,e===null||e.memoizedState!==null){if(n=hn(t),a!==null){if(e===null){if(!n)throw Error(j(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(j(557));e[Be]=t}else en(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;oe(t),e=!1}else a=zr(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return t.flags&256?(nt(t),t):(nt(t),null);if(t.flags&128)throw Error(j(558))}return oe(t),null;case 13:if(n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(i=hn(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(j(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(j(317));i[Be]=t}else en(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;oe(t),i=!1}else i=zr(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=i),i=!0;if(!i)return t.flags&256?(nt(t),t):(nt(t),null)}return nt(t),t.flags&128?(t.lanes=a,t):(a=n!==null,e=e!==null&&e.memoizedState!==null,a&&(n=t.child,i=null,n.alternate!==null&&n.alternate.memoizedState!==null&&n.alternate.memoizedState.cachePool!==null&&(i=n.alternate.memoizedState.cachePool.pool),s=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(s=n.memoizedState.cachePool.pool),s!==i&&(n.flags|=2048)),a!==e&&a&&(t.child.flags|=8192),Bs(t,t.updateQueue),oe(t),null);case 4:return Qn(),e===null&&uu(t.stateNode.containerInfo),oe(t),null;case 10:return ea(t.type),oe(t),null;case 19:if(De(xe),n=t.memoizedState,n===null)return oe(t),null;if(i=(t.flags&128)!==0,s=n.rendering,s===null)if(i)xi(n,!1);else{if(ye!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=El(e),s!==null){for(t.flags|=128,xi(n,!1),e=s.updateQueue,t.updateQueue=e,Bs(t,e),t.subtreeFlags=0,e=a,a=t.child;a!==null;)Lf(a,e),a=a.sibling;return ce(xe,xe.current&1|2),J&&Xt(t,n.treeForkCount),t.child}e=e.sibling}n.tail!==null&&rt()>zl&&(t.flags|=128,i=!0,xi(n,!1),t.lanes=4194304)}else{if(!i)if(e=El(s),e!==null){if(t.flags|=128,i=!0,e=e.updateQueue,t.updateQueue=e,Bs(t,e),xi(n,!0),n.tail===null&&n.tailMode==="hidden"&&!s.alternate&&!J)return oe(t),null}else 2*rt()-n.renderingStartTime>zl&&a!==536870912&&(t.flags|=128,i=!0,xi(n,!1),t.lanes=4194304);n.isBackwards?(s.sibling=t.child,t.child=s):(e=n.last,e!==null?e.sibling=s:t.child=s,n.last=s)}return n.tail!==null?(e=n.tail,n.rendering=e,n.tail=e.sibling,n.renderingStartTime=rt(),e.sibling=null,a=xe.current,ce(xe,i?a&1|2:a&1),J&&Xt(t,n.treeForkCount),e):(oe(t),null);case 22:case 23:return nt(t),Go(),n=t.memoizedState!==null,e!==null?e.memoizedState!==null!==n&&(t.flags|=8192):n&&(t.flags|=8192),n?a&536870912&&!(t.flags&128)&&(oe(t),t.subtreeFlags&6&&(t.flags|=8192)):oe(t),a=t.updateQueue,a!==null&&Bs(t,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),n=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),n!==a&&(t.flags|=2048),e!==null&&De(Za),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),ea(Ne),oe(t),null;case 25:return null;case 30:return null}throw Error(j(156,t.tag))}function lv(e,t){switch(Lo(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ea(Ne),Qn(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return gl(t),null;case 31:if(t.memoizedState!==null){if(nt(t),t.alternate===null)throw Error(j(340));en()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(nt(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(j(340));en()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return De(xe),null;case 4:return Qn(),null;case 10:return ea(t.type),null;case 22:case 23:return nt(t),Go(),e!==null&&De(Za),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return ea(Ne),null;case 25:return null;default:return null}}function Lm(e,t){switch(Lo(t),t.tag){case 3:ea(Ne),Qn();break;case 26:case 27:case 5:gl(t);break;case 4:Qn();break;case 31:t.memoizedState!==null&&nt(t);break;case 13:nt(t);break;case 19:De(xe);break;case 10:ea(t.type);break;case 22:case 23:nt(t),Go(),e!==null&&De(Za);break;case 24:ea(Ne)}}function _s(e,t){try{var a=t.updateQueue,n=a!==null?a.lastEffect:null;if(n!==null){var i=n.next;a=i;do{if((a.tag&e)===e){n=void 0;var s=a.create,l=a.inst;n=s(),l.destroy=n}a=a.next}while(a!==i)}}catch(c){ne(t,t.return,c)}}function Da(e,t,a){try{var n=t.updateQueue,i=n!==null?n.lastEffect:null;if(i!==null){var s=i.next;n=s;do{if((n.tag&e)===e){var l=n.inst,c=l.destroy;if(c!==void 0){l.destroy=void 0,i=t;var o=a,u=c;try{u()}catch(d){ne(i,o,d)}}}n=n.next}while(n!==s)}}catch(d){ne(t,t.return,d)}}function Bm(e){var t=e.updateQueue;if(t!==null){var a=e.stateNode;try{Qf(t,a)}catch(n){ne(e,e.return,n)}}}function qm(e,t,a){a.props=sn(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(n){ne(e,t,n)}}function qi(e,t){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var n=e.stateNode;break;case 30:n=e.stateNode;break;default:n=e.stateNode}typeof a=="function"?e.refCleanup=a(n):a.current=n}}catch(i){ne(e,t,i)}}function Mt(e,t){var a=e.ref,n=e.refCleanup;if(a!==null)if(typeof n=="function")try{n()}catch(i){ne(e,t,i)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(i){ne(e,t,i)}else a.current=null}function Hm(e){var t=e.type,a=e.memoizedProps,n=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break e;case"img":a.src?n.src=a.src:a.srcSet&&(n.srcset=a.srcSet)}}catch(i){ne(e,e.return,i)}}function $r(e,t,a){try{var n=e.stateNode;kv(n,e.type,a,t),n[Fe]=t}catch(i){ne(e,e.return,i)}}function $m(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&La(e.type)||e.tag===4}function Gr(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||$m(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&La(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function $c(e,t,a){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,t):(t=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,t.appendChild(e),a=a._reactRootContainer,a!=null||t.onclick!==null||(t.onclick=Zt));else if(n!==4&&(n===27&&La(e.type)&&(a=e.stateNode,t=null),e=e.child,e!==null))for($c(e,t,a),e=e.sibling;e!==null;)$c(e,t,a),e=e.sibling}function Ol(e,t,a){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?a.insertBefore(e,t):a.appendChild(e);else if(n!==4&&(n===27&&La(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(Ol(e,t,a),e=e.sibling;e!==null;)Ol(e,t,a),e=e.sibling}function Gm(e){var t=e.stateNode,a=e.memoizedProps;try{for(var n=e.type,i=t.attributes;i.length;)t.removeAttributeNode(i[0]);$e(t,n,a),t[Be]=e,t[Fe]=a}catch(s){ne(e,e.return,s)}}var Jt=!1,Ee=!1,Vr=!1,Ad=typeof WeakSet=="function"?WeakSet:Set,Re=null;function rv(e,t){if(e=e.containerInfo,Xc=$l,e=Af(e),Ro(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var n=a.getSelection&&a.getSelection();if(n&&n.rangeCount!==0){a=n.anchorNode;var i=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{a.nodeType,s.nodeType}catch{a=null;break e}var l=0,c=-1,o=-1,u=0,d=0,m=e,h=null;t:for(;;){for(var f;m!==a||i!==0&&m.nodeType!==3||(c=l+i),m!==s||n!==0&&m.nodeType!==3||(o=l+n),m.nodeType===3&&(l+=m.nodeValue.length),(f=m.firstChild)!==null;)h=m,m=f;for(;;){if(m===e)break t;if(h===a&&++u===i&&(c=l),h===s&&++d===n&&(o=l),(f=m.nextSibling)!==null)break;m=h,h=m.parentNode}m=f}a=c===-1||o===-1?null:{start:c,end:o}}else a=null}a=a||{start:0,end:0}}else a=null;for(Jc={focusedElem:e,selectionRange:a},$l=!1,Re=t;Re!==null;)if(t=Re,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Re=e;else for(;Re!==null;){switch(t=Re,s=t.alternate,e=t.flags,t.tag){case 0:if(e&4&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)i=e[a],i.ref.impl=i.nextImpl;break;case 11:case 15:break;case 1:if(e&1024&&s!==null){e=void 0,a=t,i=s.memoizedProps,s=s.memoizedState,n=a.stateNode;try{var b=sn(a.type,i);e=n.getSnapshotBeforeUpdate(b,s),n.__reactInternalSnapshotBeforeUpdate=e}catch(x){ne(a,a.return,x)}}break;case 3:if(e&1024){if(e=t.stateNode.containerInfo,a=e.nodeType,a===9)Zc(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Zc(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(e&1024)throw Error(j(163))}if(e=t.sibling,e!==null){e.return=t.return,Re=e;break}Re=t.return}}function Vm(e,t,a){var n=a.flags;switch(a.tag){case 0:case 11:case 15:Kt(e,a),n&4&&_s(5,a);break;case 1:if(Kt(e,a),n&4)if(e=a.stateNode,t===null)try{e.componentDidMount()}catch(l){ne(a,a.return,l)}else{var i=sn(a.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(i,t,e.__reactInternalSnapshotBeforeUpdate)}catch(l){ne(a,a.return,l)}}n&64&&Bm(a),n&512&&qi(a,a.return);break;case 3:if(Kt(e,a),n&64&&(e=a.updateQueue,e!==null)){if(t=null,a.child!==null)switch(a.child.tag){case 27:case 5:t=a.child.stateNode;break;case 1:t=a.child.stateNode}try{Qf(e,t)}catch(l){ne(a,a.return,l)}}break;case 27:t===null&&n&4&&Gm(a);case 26:case 5:Kt(e,a),t===null&&n&4&&Hm(a),n&512&&qi(a,a.return);break;case 12:Kt(e,a);break;case 31:Kt(e,a),n&4&&Im(e,a);break;case 13:Kt(e,a),n&4&&Qm(e,a),n&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=gv.bind(null,a),Mv(e,a))));break;case 22:if(n=a.memoizedState!==null||Jt,!n){t=t!==null&&t.memoizedState!==null||Ee,i=Jt;var s=Ee;Jt=n,(Ee=t)&&!s?It(e,a,(a.subtreeFlags&8772)!==0):Kt(e,a),Jt=i,Ee=s}break;case 30:break;default:Kt(e,a)}}function Ym(e){var t=e.alternate;t!==null&&(e.alternate=null,Ym(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&No(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var fe=null,Je=!1;function Yt(e,t,a){for(a=a.child;a!==null;)Km(e,t,a),a=a.sibling}function Km(e,t,a){if(ct&&typeof ct.onCommitFiberUnmount=="function")try{ct.onCommitFiberUnmount(ms,a)}catch{}switch(a.tag){case 26:Ee||Mt(a,t),Yt(e,t,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Ee||Mt(a,t);var n=fe,i=Je;La(a.type)&&(fe=a.stateNode,Je=!1),Yt(e,t,a),Vi(a.stateNode),fe=n,Je=i;break;case 5:Ee||Mt(a,t);case 6:if(n=fe,i=Je,fe=null,Yt(e,t,a),fe=n,Je=i,fe!==null)if(Je)try{(fe.nodeType===9?fe.body:fe.nodeName==="HTML"?fe.ownerDocument.body:fe).removeChild(a.stateNode)}catch(s){ne(a,t,s)}else try{fe.removeChild(a.stateNode)}catch(s){ne(a,t,s)}break;case 18:fe!==null&&(Je?(e=fe,Gd(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),ni(e)):Gd(fe,a.stateNode));break;case 4:n=fe,i=Je,fe=a.stateNode.containerInfo,Je=!0,Yt(e,t,a),fe=n,Je=i;break;case 0:case 11:case 14:case 15:Da(2,a,t),Ee||Da(4,a,t),Yt(e,t,a);break;case 1:Ee||(Mt(a,t),n=a.stateNode,typeof n.componentWillUnmount=="function"&&qm(a,t,n)),Yt(e,t,a);break;case 21:Yt(e,t,a);break;case 22:Ee=(n=Ee)||a.memoizedState!==null,Yt(e,t,a),Ee=n;break;default:Yt(e,t,a)}}function Im(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{ni(e)}catch(a){ne(t,t.return,a)}}}function Qm(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{ni(e)}catch(a){ne(t,t.return,a)}}function cv(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Ad),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Ad),t;default:throw Error(j(435,e.tag))}}function qs(e,t){var a=cv(e);t.forEach(function(n){if(!a.has(n)){a.add(n);var i=vv.bind(null,e,n);n.then(i,i)}})}function Qe(e,t){var a=t.deletions;if(a!==null)for(var n=0;n<a.length;n++){var i=a[n],s=e,l=t,c=l;e:for(;c!==null;){switch(c.tag){case 27:if(La(c.type)){fe=c.stateNode,Je=!1;break e}break;case 5:fe=c.stateNode,Je=!1;break e;case 3:case 4:fe=c.stateNode.containerInfo,Je=!0;break e}c=c.return}if(fe===null)throw Error(j(160));Km(s,l,i),fe=null,Je=!1,s=i.alternate,s!==null&&(s.return=null),i.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)Xm(t,e),t=t.sibling}var At=null;function Xm(e,t){var a=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Qe(t,e),Xe(e),n&4&&(Da(3,e,e.return),_s(3,e),Da(5,e,e.return));break;case 1:Qe(t,e),Xe(e),n&512&&(Ee||a===null||Mt(a,a.return)),n&64&&Jt&&(e=e.updateQueue,e!==null&&(n=e.callbacks,n!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?n:a.concat(n))));break;case 26:var i=At;if(Qe(t,e),Xe(e),n&512&&(Ee||a===null||Mt(a,a.return)),n&4){var s=a!==null?a.memoizedState:null;if(n=e.memoizedState,a===null)if(n===null)if(e.stateNode===null){e:{n=e.type,a=e.memoizedProps,i=i.ownerDocument||i;t:switch(n){case"title":s=i.getElementsByTagName("title")[0],(!s||s[vs]||s[Be]||s.namespaceURI==="http://www.w3.org/2000/svg"||s.hasAttribute("itemprop"))&&(s=i.createElement(n),i.head.insertBefore(s,i.querySelector("head > title"))),$e(s,n,a),s[Be]=e,Ce(s),n=s;break e;case"link":var l=Jd("link","href",i).get(n+(a.href||""));if(l){for(var c=0;c<l.length;c++)if(s=l[c],s.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&s.getAttribute("rel")===(a.rel==null?null:a.rel)&&s.getAttribute("title")===(a.title==null?null:a.title)&&s.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){l.splice(c,1);break t}}s=i.createElement(n),$e(s,n,a),i.head.appendChild(s);break;case"meta":if(l=Jd("meta","content",i).get(n+(a.content||""))){for(c=0;c<l.length;c++)if(s=l[c],s.getAttribute("content")===(a.content==null?null:""+a.content)&&s.getAttribute("name")===(a.name==null?null:a.name)&&s.getAttribute("property")===(a.property==null?null:a.property)&&s.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&s.getAttribute("charset")===(a.charSet==null?null:a.charSet)){l.splice(c,1);break t}}s=i.createElement(n),$e(s,n,a),i.head.appendChild(s);break;default:throw Error(j(468,n))}s[Be]=e,Ce(s),n=s}e.stateNode=n}else Pd(i,e.type,e.stateNode);else e.stateNode=Xd(i,n,e.memoizedProps);else s!==n?(s===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):s.count--,n===null?Pd(i,e.type,e.stateNode):Xd(i,n,e.memoizedProps)):n===null&&e.stateNode!==null&&$r(e,e.memoizedProps,a.memoizedProps)}break;case 27:Qe(t,e),Xe(e),n&512&&(Ee||a===null||Mt(a,a.return)),a!==null&&n&4&&$r(e,e.memoizedProps,a.memoizedProps);break;case 5:if(Qe(t,e),Xe(e),n&512&&(Ee||a===null||Mt(a,a.return)),e.flags&32){i=e.stateNode;try{Jn(i,"")}catch(b){ne(e,e.return,b)}}n&4&&e.stateNode!=null&&(i=e.memoizedProps,$r(e,i,a!==null?a.memoizedProps:i)),n&1024&&(Vr=!0);break;case 6:if(Qe(t,e),Xe(e),n&4){if(e.stateNode===null)throw Error(j(162));n=e.memoizedProps,a=e.stateNode;try{a.nodeValue=n}catch(b){ne(e,e.return,b)}}break;case 3:if(dl=null,i=At,At=Bl(t.containerInfo),Qe(t,e),At=i,Xe(e),n&4&&a!==null&&a.memoizedState.isDehydrated)try{ni(t.containerInfo)}catch(b){ne(e,e.return,b)}Vr&&(Vr=!1,Jm(e));break;case 4:n=At,At=Bl(e.stateNode.containerInfo),Qe(t,e),Xe(e),At=n;break;case 12:Qe(t,e),Xe(e);break;case 31:Qe(t,e),Xe(e),n&4&&(n=e.updateQueue,n!==null&&(e.updateQueue=null,qs(e,n)));break;case 13:Qe(t,e),Xe(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(lr=rt()),n&4&&(n=e.updateQueue,n!==null&&(e.updateQueue=null,qs(e,n)));break;case 22:i=e.memoizedState!==null;var o=a!==null&&a.memoizedState!==null,u=Jt,d=Ee;if(Jt=u||i,Ee=d||o,Qe(t,e),Ee=d,Jt=u,Xe(e),n&8192)e:for(t=e.stateNode,t._visibility=i?t._visibility&-2:t._visibility|1,i&&(a===null||o||Jt||Ee||Ya(e)),a=null,t=e;;){if(t.tag===5||t.tag===26){if(a===null){o=a=t;try{if(s=o.stateNode,i)l=s.style,typeof l.setProperty=="function"?l.setProperty("display","none","important"):l.display="none";else{c=o.stateNode;var m=o.memoizedProps.style,h=m!=null&&m.hasOwnProperty("display")?m.display:null;c.style.display=h==null||typeof h=="boolean"?"":(""+h).trim()}}catch(b){ne(o,o.return,b)}}}else if(t.tag===6){if(a===null){o=t;try{o.stateNode.nodeValue=i?"":o.memoizedProps}catch(b){ne(o,o.return,b)}}}else if(t.tag===18){if(a===null){o=t;try{var f=o.stateNode;i?Vd(f,!0):Vd(o.stateNode,!1)}catch(b){ne(o,o.return,b)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;a===t&&(a=null),t=t.return}a===t&&(a=null),t.sibling.return=t.return,t=t.sibling}n&4&&(n=e.updateQueue,n!==null&&(a=n.retryQueue,a!==null&&(n.retryQueue=null,qs(e,a))));break;case 19:Qe(t,e),Xe(e),n&4&&(n=e.updateQueue,n!==null&&(e.updateQueue=null,qs(e,n)));break;case 30:break;case 21:break;default:Qe(t,e),Xe(e)}}function Xe(e){var t=e.flags;if(t&2){try{for(var a,n=e.return;n!==null;){if($m(n)){a=n;break}n=n.return}if(a==null)throw Error(j(160));switch(a.tag){case 27:var i=a.stateNode,s=Gr(e);Ol(e,s,i);break;case 5:var l=a.stateNode;a.flags&32&&(Jn(l,""),a.flags&=-33);var c=Gr(e);Ol(e,c,l);break;case 3:case 4:var o=a.stateNode.containerInfo,u=Gr(e);$c(e,u,o);break;default:throw Error(j(161))}}catch(d){ne(e,e.return,d)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Jm(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Jm(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Kt(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Vm(e,t.alternate,t),t=t.sibling}function Ya(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Da(4,t,t.return),Ya(t);break;case 1:Mt(t,t.return);var a=t.stateNode;typeof a.componentWillUnmount=="function"&&qm(t,t.return,a),Ya(t);break;case 27:Vi(t.stateNode);case 26:case 5:Mt(t,t.return),Ya(t);break;case 22:t.memoizedState===null&&Ya(t);break;case 30:Ya(t);break;default:Ya(t)}e=e.sibling}}function It(e,t,a){for(a=a&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var n=t.alternate,i=e,s=t,l=s.flags;switch(s.tag){case 0:case 11:case 15:It(i,s,a),_s(4,s);break;case 1:if(It(i,s,a),n=s,i=n.stateNode,typeof i.componentDidMount=="function")try{i.componentDidMount()}catch(u){ne(n,n.return,u)}if(n=s,i=n.updateQueue,i!==null){var c=n.stateNode;try{var o=i.shared.hiddenCallbacks;if(o!==null)for(i.shared.hiddenCallbacks=null,i=0;i<o.length;i++)If(o[i],c)}catch(u){ne(n,n.return,u)}}a&&l&64&&Bm(s),qi(s,s.return);break;case 27:Gm(s);case 26:case 5:It(i,s,a),a&&n===null&&l&4&&Hm(s),qi(s,s.return);break;case 12:It(i,s,a);break;case 31:It(i,s,a),a&&l&4&&Im(i,s);break;case 13:It(i,s,a),a&&l&4&&Qm(i,s);break;case 22:s.memoizedState===null&&It(i,s,a),qi(s,s.return);break;case 30:break;default:It(i,s,a)}t=t.sibling}}function iu(e,t){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&ys(a))}function su(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&ys(e))}function Nt(e,t,a,n){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Pm(e,t,a,n),t=t.sibling}function Pm(e,t,a,n){var i=t.flags;switch(t.tag){case 0:case 11:case 15:Nt(e,t,a,n),i&2048&&_s(9,t);break;case 1:Nt(e,t,a,n);break;case 3:Nt(e,t,a,n),i&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&ys(e)));break;case 12:if(i&2048){Nt(e,t,a,n),e=t.stateNode;try{var s=t.memoizedProps,l=s.id,c=s.onPostCommit;typeof c=="function"&&c(l,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(o){ne(t,t.return,o)}}else Nt(e,t,a,n);break;case 31:Nt(e,t,a,n);break;case 13:Nt(e,t,a,n);break;case 23:break;case 22:s=t.stateNode,l=t.alternate,t.memoizedState!==null?s._visibility&2?Nt(e,t,a,n):Hi(e,t):s._visibility&2?Nt(e,t,a,n):(s._visibility|=2,_n(e,t,a,n,(t.subtreeFlags&10256)!==0||!1)),i&2048&&iu(l,t);break;case 24:Nt(e,t,a,n),i&2048&&su(t.alternate,t);break;default:Nt(e,t,a,n)}}function _n(e,t,a,n,i){for(i=i&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var s=e,l=t,c=a,o=n,u=l.flags;switch(l.tag){case 0:case 11:case 15:_n(s,l,c,o,i),_s(8,l);break;case 23:break;case 22:var d=l.stateNode;l.memoizedState!==null?d._visibility&2?_n(s,l,c,o,i):Hi(s,l):(d._visibility|=2,_n(s,l,c,o,i)),i&&u&2048&&iu(l.alternate,l);break;case 24:_n(s,l,c,o,i),i&&u&2048&&su(l.alternate,l);break;default:_n(s,l,c,o,i)}t=t.sibling}}function Hi(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var a=e,n=t,i=n.flags;switch(n.tag){case 22:Hi(a,n),i&2048&&iu(n.alternate,n);break;case 24:Hi(a,n),i&2048&&su(n.alternate,n);break;default:Hi(a,n)}t=t.sibling}}var ki=8192;function fn(e,t,a){if(e.subtreeFlags&ki)for(e=e.child;e!==null;)Zm(e,t,a),e=e.sibling}function Zm(e,t,a){switch(e.tag){case 26:fn(e,t,a),e.flags&ki&&e.memoizedState!==null&&Xv(a,At,e.memoizedState,e.memoizedProps);break;case 5:fn(e,t,a);break;case 3:case 4:var n=At;At=Bl(e.stateNode.containerInfo),fn(e,t,a),At=n;break;case 22:e.memoizedState===null&&(n=e.alternate,n!==null&&n.memoizedState!==null?(n=ki,ki=16777216,fn(e,t,a),ki=n):fn(e,t,a));break;default:fn(e,t,a)}}function Wm(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function _i(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var a=0;a<t.length;a++){var n=t[a];Re=n,ep(n,e)}Wm(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Fm(e),e=e.sibling}function Fm(e){switch(e.tag){case 0:case 11:case 15:_i(e),e.flags&2048&&Da(9,e,e.return);break;case 3:_i(e);break;case 12:_i(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,ol(e)):_i(e);break;default:_i(e)}}function ol(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var a=0;a<t.length;a++){var n=t[a];Re=n,ep(n,e)}Wm(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Da(8,t,t.return),ol(t);break;case 22:a=t.stateNode,a._visibility&2&&(a._visibility&=-3,ol(t));break;default:ol(t)}e=e.sibling}}function ep(e,t){for(;Re!==null;){var a=Re;switch(a.tag){case 0:case 11:case 15:Da(8,a,t);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var n=a.memoizedState.cachePool.pool;n!=null&&n.refCount++}break;case 24:ys(a.memoizedState.cache)}if(n=a.child,n!==null)n.return=a,Re=n;else e:for(a=e;Re!==null;){n=Re;var i=n.sibling,s=n.return;if(Ym(n),n===a){Re=null;break e}if(i!==null){i.return=s,Re=i;break e}Re=s}}}var ov={getCacheForType:function(e){var t=He(Ne),a=t.data.get(e);return a===void 0&&(a=e(),t.data.set(e,a)),a},cacheSignal:function(){return He(Ne).controller.signal}},uv=typeof WeakMap=="function"?WeakMap:Map,ee=0,le=null,Q=null,X=0,ae=0,at=null,xa=!1,oi=!1,lu=!1,la=0,ye=0,Ua=0,Fa=0,ru=0,lt=0,Fn=0,$i=null,Pe=null,Gc=!1,lr=0,tp=0,zl=1/0,Rl=null,Ta=null,Oe=0,ka=null,ei=null,ta=0,Vc=0,Yc=null,ap=null,Gi=0,Kc=null;function ut(){return ee&2&&X!==0?X&-X:H.T!==null?ou():df()}function np(){if(lt===0)if(!(X&536870912)||J){var e=zs;zs<<=1,!(zs&3932160)&&(zs=262144),lt=e}else lt=536870912;return e=ht.current,e!==null&&(e.flags|=32),lt}function We(e,t,a){(e===le&&(ae===2||ae===9)||e.cancelPendingCommit!==null)&&(ti(e,0),_a(e,X,lt,!1)),gs(e,a),(!(ee&2)||e!==le)&&(e===le&&(!(ee&2)&&(Fa|=a),ye===4&&_a(e,X,lt,!1)),qt(e))}function ip(e,t,a){if(ee&6)throw Error(j(327));var n=!a&&(t&127)===0&&(t&e.expiredLanes)===0||ps(e,t),i=n?fv(e,t):Yr(e,t,!0),s=n;do{if(i===0){oi&&!n&&_a(e,t,0,!1);break}else{if(a=e.current.alternate,s&&!dv(a)){i=Yr(e,t,!1),s=!1;continue}if(i===2){if(s=t,e.errorRecoveryDisabledLanes&s)var l=0;else l=e.pendingLanes&-536870913,l=l!==0?l:l&536870912?536870912:0;if(l!==0){t=l;e:{var c=e;i=$i;var o=c.current.memoizedState.isDehydrated;if(o&&(ti(c,l).flags|=256),l=Yr(c,l,!1),l!==2){if(lu&&!o){c.errorRecoveryDisabledLanes|=s,Fa|=s,i=4;break e}s=Pe,Pe=i,s!==null&&(Pe===null?Pe=s:Pe.push.apply(Pe,s))}i=l}if(s=!1,i!==2)continue}}if(i===1){ti(e,0),_a(e,t,0,!0);break}e:{switch(n=e,s=i,s){case 0:case 1:throw Error(j(345));case 4:if((t&4194048)!==t)break;case 6:_a(n,t,lt,!xa);break e;case 2:Pe=null;break;case 3:case 5:break;default:throw Error(j(329))}if((t&62914560)===t&&(i=lr+300-rt(),10<i)){if(_a(n,t,lt,!xa),Jl(n,0,!0)!==0)break e;ta=t,n.timeoutHandle=jp(Od.bind(null,n,a,Pe,Rl,Gc,t,lt,Fa,Fn,xa,s,"Throttled",-0,0),i);break e}Od(n,a,Pe,Rl,Gc,t,lt,Fa,Fn,xa,s,null,-0,0)}}break}while(!0);qt(e)}function Od(e,t,a,n,i,s,l,c,o,u,d,m,h,f){if(e.timeoutHandle=-1,m=t.subtreeFlags,m&8192||(m&16785408)===16785408){m={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Zt},Zm(t,s,m);var b=(s&62914560)===s?lr-rt():(s&4194048)===s?tp-rt():0;if(b=Jv(m,b),b!==null){ta=s,e.cancelPendingCommit=b(Rd.bind(null,e,t,s,a,n,i,l,c,o,d,m,null,h,f)),_a(e,s,l,!u);return}}Rd(e,t,s,a,n,i,l,c,o)}function dv(e){for(var t=e;;){var a=t.tag;if((a===0||a===11||a===15)&&t.flags&16384&&(a=t.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var n=0;n<a.length;n++){var i=a[n],s=i.getSnapshot;i=i.value;try{if(!dt(s(),i))return!1}catch{return!1}}if(a=t.child,t.subtreeFlags&16384&&a!==null)a.return=t,t=a;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function _a(e,t,a,n){t&=~ru,t&=~Fa,e.suspendedLanes|=t,e.pingedLanes&=~t,n&&(e.warmLanes|=t),n=e.expirationTimes;for(var i=t;0<i;){var s=31-ot(i),l=1<<s;n[s]=-1,i&=~l}a!==0&&cf(e,a,t)}function rr(){return ee&6?!0:(ws(0),!1)}function cu(){if(Q!==null){if(ae===0)var e=Q.return;else e=Q,Wt=un=null,Qo(e),Vn=null,Wi=0,e=Q;for(;e!==null;)Lm(e.alternate,e),e=e.return;Q=null}}function ti(e,t){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,zv(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),ta=0,cu(),le=e,Q=a=Ft(e.current,null),X=t,ae=0,at=null,xa=!1,oi=ps(e,t),lu=!1,Fn=lt=ru=Fa=Ua=ye=0,Pe=$i=null,Gc=!1,t&8&&(t|=t&32);var n=e.entangledLanes;if(n!==0)for(e=e.entanglements,n&=t;0<n;){var i=31-ot(n),s=1<<i;t|=e[i],n&=~s}return la=t,Fl(),a}function sp(e,t){V=null,H.H=es,t===ci||t===tr?(t=cd(),ae=3):t===Ho?(t=cd(),ae=4):ae=t===au?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,at=t,Q===null&&(ye=1,kl(e,_t(t,e.current)))}function lp(){var e=ht.current;return e===null?!0:(X&4194048)===X?St===null:(X&62914560)===X||X&536870912?e===St:!1}function rp(){var e=H.H;return H.H=es,e===null?es:e}function cp(){var e=H.A;return H.A=ov,e}function Cl(){ye=4,xa||(X&4194048)!==X&&ht.current!==null||(oi=!0),!(Ua&134217727)&&!(Fa&134217727)||le===null||_a(le,X,lt,!1)}function Yr(e,t,a){var n=ee;ee|=2;var i=rp(),s=cp();(le!==e||X!==t)&&(Rl=null,ti(e,t)),t=!1;var l=ye;e:do try{if(ae!==0&&Q!==null){var c=Q,o=at;switch(ae){case 8:cu(),l=6;break e;case 3:case 2:case 9:case 6:ht.current===null&&(t=!0);var u=ae;if(ae=0,at=null,Ln(e,c,o,u),a&&oi){l=0;break e}break;default:u=ae,ae=0,at=null,Ln(e,c,o,u)}}hv(),l=ye;break}catch(d){sp(e,d)}while(!0);return t&&e.shellSuspendCounter++,Wt=un=null,ee=n,H.H=i,H.A=s,Q===null&&(le=null,X=0,Fl()),l}function hv(){for(;Q!==null;)op(Q)}function fv(e,t){var a=ee;ee|=2;var n=rp(),i=cp();le!==e||X!==t?(Rl=null,zl=rt()+500,ti(e,t)):oi=ps(e,t);e:do try{if(ae!==0&&Q!==null){t=Q;var s=at;t:switch(ae){case 1:ae=0,at=null,Ln(e,t,s,1);break;case 2:case 9:if(rd(s)){ae=0,at=null,zd(t);break}t=function(){ae!==2&&ae!==9||le!==e||(ae=7),qt(e)},s.then(t,t);break e;case 3:ae=7;break e;case 4:ae=5;break e;case 7:rd(s)?(ae=0,at=null,zd(t)):(ae=0,at=null,Ln(e,t,s,7));break;case 5:var l=null;switch(Q.tag){case 26:l=Q.memoizedState;case 5:case 27:var c=Q;if(l?Ap(l):c.stateNode.complete){ae=0,at=null;var o=c.sibling;if(o!==null)Q=o;else{var u=c.return;u!==null?(Q=u,cr(u)):Q=null}break t}}ae=0,at=null,Ln(e,t,s,5);break;case 6:ae=0,at=null,Ln(e,t,s,6);break;case 8:cu(),ye=6;break e;default:throw Error(j(462))}}mv();break}catch(d){sp(e,d)}while(!0);return Wt=un=null,H.H=n,H.A=i,ee=a,Q!==null?0:(le=null,X=0,Fl(),ye)}function mv(){for(;Q!==null&&!L0();)op(Q)}function op(e){var t=Mm(e.alternate,e,la);e.memoizedProps=e.pendingProps,t===null?cr(e):Q=t}function zd(e){var t=e,a=t.alternate;switch(t.tag){case 15:case 0:t=jd(a,t,t.pendingProps,t.type,void 0,X);break;case 11:t=jd(a,t,t.pendingProps,t.type.render,t.ref,X);break;case 5:Qo(t);default:Lm(a,t),t=Q=Lf(t,la),t=Mm(a,t,la)}e.memoizedProps=e.pendingProps,t===null?cr(e):Q=t}function Ln(e,t,a,n){Wt=un=null,Qo(t),Vn=null,Wi=0;var i=t.return;try{if(av(e,i,t,a,X)){ye=1,kl(e,_t(a,e.current)),Q=null;return}}catch(s){if(i!==null)throw Q=i,s;ye=1,kl(e,_t(a,e.current)),Q=null;return}t.flags&32768?(J||n===1?e=!0:oi||X&536870912?e=!1:(xa=e=!0,(n===2||n===9||n===3||n===6)&&(n=ht.current,n!==null&&n.tag===13&&(n.flags|=16384))),up(t,e)):cr(t)}function cr(e){var t=e;do{if(t.flags&32768){up(t,xa);return}e=t.return;var a=sv(t.alternate,t,la);if(a!==null){Q=a;return}if(t=t.sibling,t!==null){Q=t;return}Q=t=e}while(t!==null);ye===0&&(ye=5)}function up(e,t){do{var a=lv(e.alternate,e);if(a!==null){a.flags&=32767,Q=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!t&&(e=e.sibling,e!==null)){Q=e;return}Q=e=a}while(e!==null);ye=6,Q=null}function Rd(e,t,a,n,i,s,l,c,o){e.cancelPendingCommit=null;do or();while(Oe!==0);if(ee&6)throw Error(j(327));if(t!==null){if(t===e.current)throw Error(j(177));if(s=t.lanes|t.childLanes,s|=Co,Q0(e,a,s,l,c,o),e===le&&(Q=le=null,X=0),ei=t,ka=e,ta=a,Vc=s,Yc=i,ap=n,t.subtreeFlags&10256||t.flags&10256?(e.callbackNode=null,e.callbackPriority=0,bv(vl,function(){return pp(),null})):(e.callbackNode=null,e.callbackPriority=0),n=(t.flags&13878)!==0,t.subtreeFlags&13878||n){n=H.T,H.T=null,i=te.p,te.p=2,l=ee,ee|=4;try{rv(e,t,a)}finally{ee=l,te.p=i,H.T=n}}Oe=1,dp(),hp(),fp()}}function dp(){if(Oe===1){Oe=0;var e=ka,t=ei,a=(t.flags&13878)!==0;if(t.subtreeFlags&13878||a){a=H.T,H.T=null;var n=te.p;te.p=2;var i=ee;ee|=4;try{Xm(t,e);var s=Jc,l=Af(e.containerInfo),c=s.focusedElem,o=s.selectionRange;if(l!==c&&c&&c.ownerDocument&&kf(c.ownerDocument.documentElement,c)){if(o!==null&&Ro(c)){var u=o.start,d=o.end;if(d===void 0&&(d=u),"selectionStart"in c)c.selectionStart=u,c.selectionEnd=Math.min(d,c.value.length);else{var m=c.ownerDocument||document,h=m&&m.defaultView||window;if(h.getSelection){var f=h.getSelection(),b=c.textContent.length,x=Math.min(o.start,b),w=o.end===void 0?x:Math.min(o.end,b);!f.extend&&x>w&&(l=w,w=x,x=l);var g=ed(c,x),p=ed(c,w);if(g&&p&&(f.rangeCount!==1||f.anchorNode!==g.node||f.anchorOffset!==g.offset||f.focusNode!==p.node||f.focusOffset!==p.offset)){var v=m.createRange();v.setStart(g.node,g.offset),f.removeAllRanges(),x>w?(f.addRange(v),f.extend(p.node,p.offset)):(v.setEnd(p.node,p.offset),f.addRange(v))}}}}for(m=[],f=c;f=f.parentNode;)f.nodeType===1&&m.push({element:f,left:f.scrollLeft,top:f.scrollTop});for(typeof c.focus=="function"&&c.focus(),c=0;c<m.length;c++){var y=m[c];y.element.scrollLeft=y.left,y.element.scrollTop=y.top}}$l=!!Xc,Jc=Xc=null}finally{ee=i,te.p=n,H.T=a}}e.current=t,Oe=2}}function hp(){if(Oe===2){Oe=0;var e=ka,t=ei,a=(t.flags&8772)!==0;if(t.subtreeFlags&8772||a){a=H.T,H.T=null;var n=te.p;te.p=2;var i=ee;ee|=4;try{Vm(e,t.alternate,t)}finally{ee=i,te.p=n,H.T=a}}Oe=3}}function fp(){if(Oe===4||Oe===3){Oe=0,B0();var e=ka,t=ei,a=ta,n=ap;t.subtreeFlags&10256||t.flags&10256?Oe=5:(Oe=0,ei=ka=null,mp(e,e.pendingLanes));var i=e.pendingLanes;if(i===0&&(Ta=null),Eo(a),t=t.stateNode,ct&&typeof ct.onCommitFiberRoot=="function")try{ct.onCommitFiberRoot(ms,t,void 0,(t.current.flags&128)===128)}catch{}if(n!==null){t=H.T,i=te.p,te.p=2,H.T=null;try{for(var s=e.onRecoverableError,l=0;l<n.length;l++){var c=n[l];s(c.value,{componentStack:c.stack})}}finally{H.T=t,te.p=i}}ta&3&&or(),qt(e),i=e.pendingLanes,a&261930&&i&42?e===Kc?Gi++:(Gi=0,Kc=e):Gi=0,ws(0)}}function mp(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,ys(t)))}function or(){return dp(),hp(),fp(),pp()}function pp(){if(Oe!==5)return!1;var e=ka,t=Vc;Vc=0;var a=Eo(ta),n=H.T,i=te.p;try{te.p=32>a?32:a,H.T=null,a=Yc,Yc=null;var s=ka,l=ta;if(Oe=0,ei=ka=null,ta=0,ee&6)throw Error(j(331));var c=ee;if(ee|=4,Fm(s.current),Pm(s,s.current,l,a),ee=c,ws(0,!1),ct&&typeof ct.onPostCommitFiberRoot=="function")try{ct.onPostCommitFiberRoot(ms,s)}catch{}return!0}finally{te.p=i,H.T=n,mp(e,t)}}function Cd(e,t,a){t=_t(a,t),t=Bc(e.stateNode,t,2),e=Na(e,t,2),e!==null&&(gs(e,2),qt(e))}function ne(e,t,a){if(e.tag===3)Cd(e,e,a);else for(;t!==null;){if(t.tag===3){Cd(t,e,a);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Ta===null||!Ta.has(n))){e=_t(a,e),a=Om(2),n=Na(t,a,2),n!==null&&(zm(a,n,t,e),gs(n,2),qt(n));break}}t=t.return}}function Kr(e,t,a){var n=e.pingCache;if(n===null){n=e.pingCache=new uv;var i=new Set;n.set(t,i)}else i=n.get(t),i===void 0&&(i=new Set,n.set(t,i));i.has(a)||(lu=!0,i.add(a),e=pv.bind(null,e,t,a),t.then(e,e))}function pv(e,t,a){var n=e.pingCache;n!==null&&n.delete(t),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,le===e&&(X&a)===a&&(ye===4||ye===3&&(X&62914560)===X&&300>rt()-lr?!(ee&2)&&ti(e,0):ru|=a,Fn===X&&(Fn=0)),qt(e)}function gp(e,t){t===0&&(t=rf()),e=on(e,t),e!==null&&(gs(e,t),qt(e))}function gv(e){var t=e.memoizedState,a=0;t!==null&&(a=t.retryLane),gp(e,a)}function vv(e,t){var a=0;switch(e.tag){case 31:case 13:var n=e.stateNode,i=e.memoizedState;i!==null&&(a=i.retryLane);break;case 19:n=e.stateNode;break;case 22:n=e.stateNode._retryCache;break;default:throw Error(j(314))}n!==null&&n.delete(t),gp(e,a)}function bv(e,t){return So(e,t)}var Dl=null,wn=null,Ic=!1,Ul=!1,Ir=!1,wa=0;function qt(e){e!==wn&&e.next===null&&(wn===null?Dl=wn=e:wn=wn.next=e),Ul=!0,Ic||(Ic=!0,xv())}function ws(e,t){if(!Ir&&Ul){Ir=!0;do for(var a=!1,n=Dl;n!==null;){if(e!==0){var i=n.pendingLanes;if(i===0)var s=0;else{var l=n.suspendedLanes,c=n.pingedLanes;s=(1<<31-ot(42|e)+1)-1,s&=i&~(l&~c),s=s&201326741?s&201326741|1:s?s|2:0}s!==0&&(a=!0,Dd(n,s))}else s=X,s=Jl(n,n===le?s:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),!(s&3)||ps(n,s)||(a=!0,Dd(n,s));n=n.next}while(a);Ir=!1}}function yv(){vp()}function vp(){Ul=Ic=!1;var e=0;wa!==0&&Ov()&&(e=wa);for(var t=rt(),a=null,n=Dl;n!==null;){var i=n.next,s=bp(n,t);s===0?(n.next=null,a===null?Dl=i:a.next=i,i===null&&(wn=a)):(a=n,(e!==0||s&3)&&(Ul=!0)),n=i}Oe!==0&&Oe!==5||ws(e),wa!==0&&(wa=0)}function bp(e,t){for(var a=e.suspendedLanes,n=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes&-62914561;0<s;){var l=31-ot(s),c=1<<l,o=i[l];o===-1?(!(c&a)||c&n)&&(i[l]=I0(c,t)):o<=t&&(e.expiredLanes|=c),s&=~c}if(t=le,a=X,a=Jl(e,e===t?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),n=e.callbackNode,a===0||e===t&&(ae===2||ae===9)||e.cancelPendingCommit!==null)return n!==null&&n!==null&&xr(n),e.callbackNode=null,e.callbackPriority=0;if(!(a&3)||ps(e,a)){if(t=a&-a,t===e.callbackPriority)return t;switch(n!==null&&xr(n),Eo(a)){case 2:case 8:a=sf;break;case 32:a=vl;break;case 268435456:a=lf;break;default:a=vl}return n=yp.bind(null,e),a=So(a,n),e.callbackPriority=t,e.callbackNode=a,t}return n!==null&&n!==null&&xr(n),e.callbackPriority=2,e.callbackNode=null,2}function yp(e,t){if(Oe!==0&&Oe!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(or()&&e.callbackNode!==a)return null;var n=X;return n=Jl(e,e===le?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),n===0?null:(ip(e,n,t),bp(e,rt()),e.callbackNode!=null&&e.callbackNode===a?yp.bind(null,e):null)}function Dd(e,t){if(or())return null;ip(e,t,!0)}function xv(){Rv(function(){ee&6?So(nf,yv):vp()})}function ou(){if(wa===0){var e=Pn;e===0&&(e=Os,Os<<=1,!(Os&261888)&&(Os=256)),wa=e}return wa}function Ud(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:el(""+e)}function Md(e,t){var a=t.ownerDocument.createElement("input");return a.name=t.name,a.value=t.value,e.id&&a.setAttribute("form",e.id),t.parentNode.insertBefore(a,t),e=new FormData(e),a.parentNode.removeChild(a),e}function _v(e,t,a,n,i){if(t==="submit"&&a&&a.stateNode===i){var s=Ud((i[Fe]||null).action),l=n.submitter;l&&(t=(t=l[Fe]||null)?Ud(t.formAction):l.getAttribute("formAction"),t!==null&&(s=t,l=null));var c=new Pl("action","action",null,n,i);e.push({event:c,listeners:[{instance:null,listener:function(){if(n.defaultPrevented){if(wa!==0){var o=l?Md(i,l):new FormData(i);Mc(a,{pending:!0,data:o,method:i.method,action:s},null,o)}}else typeof s=="function"&&(c.preventDefault(),o=l?Md(i,l):new FormData(i),Mc(a,{pending:!0,data:o,method:i.method,action:s},s,o))},currentTarget:i}]})}}for(var Qr=0;Qr<jc.length;Qr++){var Xr=jc[Qr],wv=Xr.toLowerCase(),Sv=Xr[0].toUpperCase()+Xr.slice(1);Rt(wv,"on"+Sv)}Rt(zf,"onAnimationEnd");Rt(Rf,"onAnimationIteration");Rt(Cf,"onAnimationStart");Rt("dblclick","onDoubleClick");Rt("focusin","onFocus");Rt("focusout","onBlur");Rt(qg,"onTransitionRun");Rt(Hg,"onTransitionStart");Rt($g,"onTransitionCancel");Rt(Df,"onTransitionEnd");Xn("onMouseEnter",["mouseout","mouseover"]);Xn("onMouseLeave",["mouseout","mouseover"]);Xn("onPointerEnter",["pointerout","pointerover"]);Xn("onPointerLeave",["pointerout","pointerover"]);ln("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ln("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ln("onBeforeInput",["compositionend","keypress","textInput","paste"]);ln("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ln("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ln("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ts="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),jv=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ts));function xp(e,t){t=(t&4)!==0;for(var a=0;a<e.length;a++){var n=e[a],i=n.event;n=n.listeners;e:{var s=void 0;if(t)for(var l=n.length-1;0<=l;l--){var c=n[l],o=c.instance,u=c.currentTarget;if(c=c.listener,o!==s&&i.isPropagationStopped())break e;s=c,i.currentTarget=u;try{s(i)}catch(d){yl(d)}i.currentTarget=null,s=o}else for(l=0;l<n.length;l++){if(c=n[l],o=c.instance,u=c.currentTarget,c=c.listener,o!==s&&i.isPropagationStopped())break e;s=c,i.currentTarget=u;try{s(i)}catch(d){yl(d)}i.currentTarget=null,s=o}}}}function I(e,t){var a=t[gc];a===void 0&&(a=t[gc]=new Set);var n=e+"__bubble";a.has(n)||(_p(t,e,2,!1),a.add(n))}function Jr(e,t,a){var n=0;t&&(n|=4),_p(a,e,n,t)}var Hs="_reactListening"+Math.random().toString(36).slice(2);function uu(e){if(!e[Hs]){e[Hs]=!0,hf.forEach(function(a){a!=="selectionchange"&&(jv.has(a)||Jr(a,!1,e),Jr(a,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Hs]||(t[Hs]=!0,Jr("selectionchange",!1,t))}}function _p(e,t,a,n){switch(Dp(t)){case 2:var i=Wv;break;case 8:i=Fv;break;default:i=mu}a=i.bind(null,t,a,e),i=void 0,!_c||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),n?i!==void 0?e.addEventListener(t,a,{capture:!0,passive:i}):e.addEventListener(t,a,!0):i!==void 0?e.addEventListener(t,a,{passive:i}):e.addEventListener(t,a,!1)}function Pr(e,t,a,n,i){var s=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var l=n.tag;if(l===3||l===4){var c=n.stateNode.containerInfo;if(c===i)break;if(l===4)for(l=n.return;l!==null;){var o=l.tag;if((o===3||o===4)&&l.stateNode.containerInfo===i)return;l=l.return}for(;c!==null;){if(l=kn(c),l===null)return;if(o=l.tag,o===5||o===6||o===26||o===27){n=s=l;continue e}c=c.parentNode}}n=n.return}xf(function(){var u=s,d=ko(a),m=[];e:{var h=Uf.get(e);if(h!==void 0){var f=Pl,b=e;switch(e){case"keypress":if(al(a)===0)break e;case"keydown":case"keyup":f=vg;break;case"focusin":b="focus",f=Er;break;case"focusout":b="blur",f=Er;break;case"beforeblur":case"afterblur":f=Er;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=Yu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=sg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=xg;break;case zf:case Rf:case Cf:f=cg;break;case Df:f=wg;break;case"scroll":case"scrollend":f=ng;break;case"wheel":f=jg;break;case"copy":case"cut":case"paste":f=ug;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=Iu;break;case"toggle":case"beforetoggle":f=Ng}var x=(t&4)!==0,w=!x&&(e==="scroll"||e==="scrollend"),g=x?h!==null?h+"Capture":null:h;x=[];for(var p=u,v;p!==null;){var y=p;if(v=y.stateNode,y=y.tag,y!==5&&y!==26&&y!==27||v===null||g===null||(y=Qi(p,g),y!=null&&x.push(as(p,y,v))),w)break;p=p.return}0<x.length&&(h=new f(h,b,null,a,d),m.push({event:h,listeners:x}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",f=e==="mouseout"||e==="pointerout",h&&a!==xc&&(b=a.relatedTarget||a.fromElement)&&(kn(b)||b[si]))break e;if((f||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,f?(b=a.relatedTarget||a.toElement,f=u,b=b?kn(b):null,b!==null&&(w=fs(b),x=b.tag,b!==w||x!==5&&x!==27&&x!==6)&&(b=null)):(f=null,b=u),f!==b)){if(x=Yu,y="onMouseLeave",g="onMouseEnter",p="mouse",(e==="pointerout"||e==="pointerover")&&(x=Iu,y="onPointerLeave",g="onPointerEnter",p="pointer"),w=f==null?h:Ni(f),v=b==null?h:Ni(b),h=new x(y,p+"leave",f,a,d),h.target=w,h.relatedTarget=v,y=null,kn(d)===u&&(x=new x(g,p+"enter",b,a,d),x.target=v,x.relatedTarget=w,y=x),w=y,f&&b)t:{for(x=Ev,g=f,p=b,v=0,y=g;y;y=x(y))v++;y=0;for(var N=p;N;N=x(N))y++;for(;0<v-y;)g=x(g),v--;for(;0<y-v;)p=x(p),y--;for(;v--;){if(g===p||p!==null&&g===p.alternate){x=g;break t}g=x(g),p=x(p)}x=null}else x=null;f!==null&&Ld(m,h,f,x,!1),b!==null&&w!==null&&Ld(m,w,b,x,!0)}}e:{if(h=u?Ni(u):window,f=h.nodeName&&h.nodeName.toLowerCase(),f==="select"||f==="input"&&h.type==="file")var O=Pu;else if(Ju(h))if(Nf)O=Mg;else{O=Dg;var S=Cg}else f=h.nodeName,!f||f.toLowerCase()!=="input"||h.type!=="checkbox"&&h.type!=="radio"?u&&To(u.elementType)&&(O=Pu):O=Ug;if(O&&(O=O(e,u))){Ef(m,O,a,d);break e}S&&S(e,h,u),e==="focusout"&&u&&h.type==="number"&&u.memoizedProps.value!=null&&yc(h,"number",h.value)}switch(S=u?Ni(u):window,e){case"focusin":(Ju(S)||S.contentEditable==="true")&&(zn=S,wc=u,Ci=null);break;case"focusout":Ci=wc=zn=null;break;case"mousedown":Sc=!0;break;case"contextmenu":case"mouseup":case"dragend":Sc=!1,td(m,a,d);break;case"selectionchange":if(Bg)break;case"keydown":case"keyup":td(m,a,d)}var k;if(zo)e:{switch(e){case"compositionstart":var z="onCompositionStart";break e;case"compositionend":z="onCompositionEnd";break e;case"compositionupdate":z="onCompositionUpdate";break e}z=void 0}else On?Sf(e,a)&&(z="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(z="onCompositionStart");z&&(wf&&a.locale!=="ko"&&(On||z!=="onCompositionStart"?z==="onCompositionEnd"&&On&&(k=_f()):(ya=d,Ao="value"in ya?ya.value:ya.textContent,On=!0)),S=Ml(u,z),0<S.length&&(z=new Ku(z,e,null,a,d),m.push({event:z,listeners:S}),k?z.data=k:(k=jf(a),k!==null&&(z.data=k)))),(k=kg?Ag(e,a):Og(e,a))&&(z=Ml(u,"onBeforeInput"),0<z.length&&(S=new Ku("onBeforeInput","beforeinput",null,a,d),m.push({event:S,listeners:z}),S.data=k)),_v(m,e,u,a,d)}xp(m,t)})}function as(e,t,a){return{instance:e,listener:t,currentTarget:a}}function Ml(e,t){for(var a=t+"Capture",n=[];e!==null;){var i=e,s=i.stateNode;if(i=i.tag,i!==5&&i!==26&&i!==27||s===null||(i=Qi(e,a),i!=null&&n.unshift(as(e,i,s)),i=Qi(e,t),i!=null&&n.push(as(e,i,s))),e.tag===3)return n;e=e.return}return[]}function Ev(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Ld(e,t,a,n,i){for(var s=t._reactName,l=[];a!==null&&a!==n;){var c=a,o=c.alternate,u=c.stateNode;if(c=c.tag,o!==null&&o===n)break;c!==5&&c!==26&&c!==27||u===null||(o=u,i?(u=Qi(a,s),u!=null&&l.unshift(as(a,u,o))):i||(u=Qi(a,s),u!=null&&l.push(as(a,u,o)))),a=a.return}l.length!==0&&e.push({event:t,listeners:l})}var Nv=/\r\n?/g,Tv=/\u0000|\uFFFD/g;function Bd(e){return(typeof e=="string"?e:""+e).replace(Nv,`
`).replace(Tv,"")}function wp(e,t){return t=Bd(t),Bd(e)===t}function ie(e,t,a,n,i,s){switch(a){case"children":typeof n=="string"?t==="body"||t==="textarea"&&n===""||Jn(e,n):(typeof n=="number"||typeof n=="bigint")&&t!=="body"&&Jn(e,""+n);break;case"className":Cs(e,"class",n);break;case"tabIndex":Cs(e,"tabindex",n);break;case"dir":case"role":case"viewBox":case"width":case"height":Cs(e,a,n);break;case"style":yf(e,n,s);break;case"data":if(t!=="object"){Cs(e,"data",n);break}case"src":case"href":if(n===""&&(t!=="a"||a!=="href")){e.removeAttribute(a);break}if(n==null||typeof n=="function"||typeof n=="symbol"||typeof n=="boolean"){e.removeAttribute(a);break}n=el(""+n),e.setAttribute(a,n);break;case"action":case"formAction":if(typeof n=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof s=="function"&&(a==="formAction"?(t!=="input"&&ie(e,t,"name",i.name,i,null),ie(e,t,"formEncType",i.formEncType,i,null),ie(e,t,"formMethod",i.formMethod,i,null),ie(e,t,"formTarget",i.formTarget,i,null)):(ie(e,t,"encType",i.encType,i,null),ie(e,t,"method",i.method,i,null),ie(e,t,"target",i.target,i,null)));if(n==null||typeof n=="symbol"||typeof n=="boolean"){e.removeAttribute(a);break}n=el(""+n),e.setAttribute(a,n);break;case"onClick":n!=null&&(e.onclick=Zt);break;case"onScroll":n!=null&&I("scroll",e);break;case"onScrollEnd":n!=null&&I("scrollend",e);break;case"dangerouslySetInnerHTML":if(n!=null){if(typeof n!="object"||!("__html"in n))throw Error(j(61));if(a=n.__html,a!=null){if(i.children!=null)throw Error(j(60));e.innerHTML=a}}break;case"multiple":e.multiple=n&&typeof n!="function"&&typeof n!="symbol";break;case"muted":e.muted=n&&typeof n!="function"&&typeof n!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(n==null||typeof n=="function"||typeof n=="boolean"||typeof n=="symbol"){e.removeAttribute("xlink:href");break}a=el(""+n),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":n!=null&&typeof n!="function"&&typeof n!="symbol"?e.setAttribute(a,""+n):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":n&&typeof n!="function"&&typeof n!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":n===!0?e.setAttribute(a,""):n!==!1&&n!=null&&typeof n!="function"&&typeof n!="symbol"?e.setAttribute(a,n):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":n!=null&&typeof n!="function"&&typeof n!="symbol"&&!isNaN(n)&&1<=n?e.setAttribute(a,n):e.removeAttribute(a);break;case"rowSpan":case"start":n==null||typeof n=="function"||typeof n=="symbol"||isNaN(n)?e.removeAttribute(a):e.setAttribute(a,n);break;case"popover":I("beforetoggle",e),I("toggle",e),Fs(e,"popover",n);break;case"xlinkActuate":Gt(e,"http://www.w3.org/1999/xlink","xlink:actuate",n);break;case"xlinkArcrole":Gt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",n);break;case"xlinkRole":Gt(e,"http://www.w3.org/1999/xlink","xlink:role",n);break;case"xlinkShow":Gt(e,"http://www.w3.org/1999/xlink","xlink:show",n);break;case"xlinkTitle":Gt(e,"http://www.w3.org/1999/xlink","xlink:title",n);break;case"xlinkType":Gt(e,"http://www.w3.org/1999/xlink","xlink:type",n);break;case"xmlBase":Gt(e,"http://www.w3.org/XML/1998/namespace","xml:base",n);break;case"xmlLang":Gt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",n);break;case"xmlSpace":Gt(e,"http://www.w3.org/XML/1998/namespace","xml:space",n);break;case"is":Fs(e,"is",n);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=tg.get(a)||a,Fs(e,a,n))}}function Qc(e,t,a,n,i,s){switch(a){case"style":yf(e,n,s);break;case"dangerouslySetInnerHTML":if(n!=null){if(typeof n!="object"||!("__html"in n))throw Error(j(61));if(a=n.__html,a!=null){if(i.children!=null)throw Error(j(60));e.innerHTML=a}}break;case"children":typeof n=="string"?Jn(e,n):(typeof n=="number"||typeof n=="bigint")&&Jn(e,""+n);break;case"onScroll":n!=null&&I("scroll",e);break;case"onScrollEnd":n!=null&&I("scrollend",e);break;case"onClick":n!=null&&(e.onclick=Zt);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ff.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(i=a.endsWith("Capture"),t=a.slice(2,i?a.length-7:void 0),s=e[Fe]||null,s=s!=null?s[a]:null,typeof s=="function"&&e.removeEventListener(t,s,i),typeof n=="function")){typeof s!="function"&&s!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(t,n,i);break e}a in e?e[a]=n:n===!0?e.setAttribute(a,""):Fs(e,a,n)}}}function $e(e,t,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":I("error",e),I("load",e);var n=!1,i=!1,s;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];if(l!=null)switch(s){case"src":n=!0;break;case"srcSet":i=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(j(137,t));default:ie(e,t,s,l,a,null)}}i&&ie(e,t,"srcSet",a.srcSet,a,null),n&&ie(e,t,"src",a.src,a,null);return;case"input":I("invalid",e);var c=s=l=i=null,o=null,u=null;for(n in a)if(a.hasOwnProperty(n)){var d=a[n];if(d!=null)switch(n){case"name":i=d;break;case"type":l=d;break;case"checked":o=d;break;case"defaultChecked":u=d;break;case"value":s=d;break;case"defaultValue":c=d;break;case"children":case"dangerouslySetInnerHTML":if(d!=null)throw Error(j(137,t));break;default:ie(e,t,n,d,a,null)}}gf(e,s,c,o,u,l,i,!1);return;case"select":I("invalid",e),n=l=s=null;for(i in a)if(a.hasOwnProperty(i)&&(c=a[i],c!=null))switch(i){case"value":s=c;break;case"defaultValue":l=c;break;case"multiple":n=c;default:ie(e,t,i,c,a,null)}t=s,a=l,e.multiple=!!n,t!=null?Hn(e,!!n,t,!1):a!=null&&Hn(e,!!n,a,!0);return;case"textarea":I("invalid",e),s=i=n=null;for(l in a)if(a.hasOwnProperty(l)&&(c=a[l],c!=null))switch(l){case"value":n=c;break;case"defaultValue":i=c;break;case"children":s=c;break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(j(91));break;default:ie(e,t,l,c,a,null)}bf(e,n,i,s);return;case"option":for(o in a)if(a.hasOwnProperty(o)&&(n=a[o],n!=null))switch(o){case"selected":e.selected=n&&typeof n!="function"&&typeof n!="symbol";break;default:ie(e,t,o,n,a,null)}return;case"dialog":I("beforetoggle",e),I("toggle",e),I("cancel",e),I("close",e);break;case"iframe":case"object":I("load",e);break;case"video":case"audio":for(n=0;n<ts.length;n++)I(ts[n],e);break;case"image":I("error",e),I("load",e);break;case"details":I("toggle",e);break;case"embed":case"source":case"link":I("error",e),I("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in a)if(a.hasOwnProperty(u)&&(n=a[u],n!=null))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(j(137,t));default:ie(e,t,u,n,a,null)}return;default:if(To(t)){for(d in a)a.hasOwnProperty(d)&&(n=a[d],n!==void 0&&Qc(e,t,d,n,a,void 0));return}}for(c in a)a.hasOwnProperty(c)&&(n=a[c],n!=null&&ie(e,t,c,n,a,null))}function kv(e,t,a,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,s=null,l=null,c=null,o=null,u=null,d=null;for(f in a){var m=a[f];if(a.hasOwnProperty(f)&&m!=null)switch(f){case"checked":break;case"value":break;case"defaultValue":o=m;default:n.hasOwnProperty(f)||ie(e,t,f,null,n,m)}}for(var h in n){var f=n[h];if(m=a[h],n.hasOwnProperty(h)&&(f!=null||m!=null))switch(h){case"type":s=f;break;case"name":i=f;break;case"checked":u=f;break;case"defaultChecked":d=f;break;case"value":l=f;break;case"defaultValue":c=f;break;case"children":case"dangerouslySetInnerHTML":if(f!=null)throw Error(j(137,t));break;default:f!==m&&ie(e,t,h,f,n,m)}}bc(e,l,c,o,u,d,s,i);return;case"select":f=l=c=h=null;for(s in a)if(o=a[s],a.hasOwnProperty(s)&&o!=null)switch(s){case"value":break;case"multiple":f=o;default:n.hasOwnProperty(s)||ie(e,t,s,null,n,o)}for(i in n)if(s=n[i],o=a[i],n.hasOwnProperty(i)&&(s!=null||o!=null))switch(i){case"value":h=s;break;case"defaultValue":c=s;break;case"multiple":l=s;default:s!==o&&ie(e,t,i,s,n,o)}t=c,a=l,n=f,h!=null?Hn(e,!!a,h,!1):!!n!=!!a&&(t!=null?Hn(e,!!a,t,!0):Hn(e,!!a,a?[]:"",!1));return;case"textarea":f=h=null;for(c in a)if(i=a[c],a.hasOwnProperty(c)&&i!=null&&!n.hasOwnProperty(c))switch(c){case"value":break;case"children":break;default:ie(e,t,c,null,n,i)}for(l in n)if(i=n[l],s=a[l],n.hasOwnProperty(l)&&(i!=null||s!=null))switch(l){case"value":h=i;break;case"defaultValue":f=i;break;case"children":break;case"dangerouslySetInnerHTML":if(i!=null)throw Error(j(91));break;default:i!==s&&ie(e,t,l,i,n,s)}vf(e,h,f);return;case"option":for(var b in a)if(h=a[b],a.hasOwnProperty(b)&&h!=null&&!n.hasOwnProperty(b))switch(b){case"selected":e.selected=!1;break;default:ie(e,t,b,null,n,h)}for(o in n)if(h=n[o],f=a[o],n.hasOwnProperty(o)&&h!==f&&(h!=null||f!=null))switch(o){case"selected":e.selected=h&&typeof h!="function"&&typeof h!="symbol";break;default:ie(e,t,o,h,n,f)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var x in a)h=a[x],a.hasOwnProperty(x)&&h!=null&&!n.hasOwnProperty(x)&&ie(e,t,x,null,n,h);for(u in n)if(h=n[u],f=a[u],n.hasOwnProperty(u)&&h!==f&&(h!=null||f!=null))switch(u){case"children":case"dangerouslySetInnerHTML":if(h!=null)throw Error(j(137,t));break;default:ie(e,t,u,h,n,f)}return;default:if(To(t)){for(var w in a)h=a[w],a.hasOwnProperty(w)&&h!==void 0&&!n.hasOwnProperty(w)&&Qc(e,t,w,void 0,n,h);for(d in n)h=n[d],f=a[d],!n.hasOwnProperty(d)||h===f||h===void 0&&f===void 0||Qc(e,t,d,h,n,f);return}}for(var g in a)h=a[g],a.hasOwnProperty(g)&&h!=null&&!n.hasOwnProperty(g)&&ie(e,t,g,null,n,h);for(m in n)h=n[m],f=a[m],!n.hasOwnProperty(m)||h===f||h==null&&f==null||ie(e,t,m,h,n,f)}function qd(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Av(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,a=performance.getEntriesByType("resource"),n=0;n<a.length;n++){var i=a[n],s=i.transferSize,l=i.initiatorType,c=i.duration;if(s&&c&&qd(l)){for(l=0,c=i.responseEnd,n+=1;n<a.length;n++){var o=a[n],u=o.startTime;if(u>c)break;var d=o.transferSize,m=o.initiatorType;d&&qd(m)&&(o=o.responseEnd,l+=d*(o<c?1:(c-u)/(o-u)))}if(--n,t+=8*(s+l)/(i.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Xc=null,Jc=null;function Ll(e){return e.nodeType===9?e:e.ownerDocument}function Hd(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Sp(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Pc(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Zr=null;function Ov(){var e=window.event;return e&&e.type==="popstate"?e===Zr?!1:(Zr=e,!0):(Zr=null,!1)}var jp=typeof setTimeout=="function"?setTimeout:void 0,zv=typeof clearTimeout=="function"?clearTimeout:void 0,$d=typeof Promise=="function"?Promise:void 0,Rv=typeof queueMicrotask=="function"?queueMicrotask:typeof $d<"u"?function(e){return $d.resolve(null).then(e).catch(Cv)}:jp;function Cv(e){setTimeout(function(){throw e})}function La(e){return e==="head"}function Gd(e,t){var a=t,n=0;do{var i=a.nextSibling;if(e.removeChild(a),i&&i.nodeType===8)if(a=i.data,a==="/$"||a==="/&"){if(n===0){e.removeChild(i),ni(t);return}n--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")n++;else if(a==="html")Vi(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,Vi(a);for(var s=a.firstChild;s;){var l=s.nextSibling,c=s.nodeName;s[vs]||c==="SCRIPT"||c==="STYLE"||c==="LINK"&&s.rel.toLowerCase()==="stylesheet"||a.removeChild(s),s=l}}else a==="body"&&Vi(e.ownerDocument.body);a=i}while(a);ni(t)}function Vd(e,t){var a=e;e=0;do{var n=a.nextSibling;if(a.nodeType===1?t?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(t?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),n&&n.nodeType===8)if(a=n.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=n}while(a)}function Zc(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var a=t;switch(t=t.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Zc(a),No(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function Dv(e,t,a,n){for(;e.nodeType===1;){var i=a;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!n&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(n){if(!e[vs])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(s=e.getAttribute("rel"),s==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(s!==i.rel||e.getAttribute("href")!==(i.href==null||i.href===""?null:i.href)||e.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin)||e.getAttribute("title")!==(i.title==null?null:i.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(s=e.getAttribute("src"),(s!==(i.src==null?null:i.src)||e.getAttribute("type")!==(i.type==null?null:i.type)||e.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin))&&s&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var s=i.name==null?null:""+i.name;if(i.type==="hidden"&&e.getAttribute("name")===s)return e}else return e;if(e=jt(e.nextSibling),e===null)break}return null}function Uv(e,t,a){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=jt(e.nextSibling),e===null))return null;return e}function Ep(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=jt(e.nextSibling),e===null))return null;return e}function Wc(e){return e.data==="$?"||e.data==="$~"}function Fc(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Mv(e,t){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||a.readyState!=="loading")t();else{var n=function(){t(),a.removeEventListener("DOMContentLoaded",n)};a.addEventListener("DOMContentLoaded",n),e._reactRetry=n}}function jt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var eo=null;function Yd(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(t===0)return jt(e.nextSibling);t--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||t++}e=e.nextSibling}return null}function Kd(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(t===0)return e;t--}else a!=="/$"&&a!=="/&"||t++}e=e.previousSibling}return null}function Np(e,t,a){switch(t=Ll(a),e){case"html":if(e=t.documentElement,!e)throw Error(j(452));return e;case"head":if(e=t.head,!e)throw Error(j(453));return e;case"body":if(e=t.body,!e)throw Error(j(454));return e;default:throw Error(j(451))}}function Vi(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);No(e)}var Et=new Map,Id=new Set;function Bl(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var ra=te.d;te.d={f:Lv,r:Bv,D:qv,C:Hv,L:$v,m:Gv,X:Yv,S:Vv,M:Kv};function Lv(){var e=ra.f(),t=rr();return e||t}function Bv(e){var t=li(e);t!==null&&t.tag===5&&t.type==="form"?ym(t):ra.r(e)}var ui=typeof document>"u"?null:document;function Tp(e,t,a){var n=ui;if(n&&typeof t=="string"&&t){var i=xt(t);i='link[rel="'+e+'"][href="'+i+'"]',typeof a=="string"&&(i+='[crossorigin="'+a+'"]'),Id.has(i)||(Id.add(i),e={rel:e,crossOrigin:a,href:t},n.querySelector(i)===null&&(t=n.createElement("link"),$e(t,"link",e),Ce(t),n.head.appendChild(t)))}}function qv(e){ra.D(e),Tp("dns-prefetch",e,null)}function Hv(e,t){ra.C(e,t),Tp("preconnect",e,t)}function $v(e,t,a){ra.L(e,t,a);var n=ui;if(n&&e&&t){var i='link[rel="preload"][as="'+xt(t)+'"]';t==="image"&&a&&a.imageSrcSet?(i+='[imagesrcset="'+xt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(i+='[imagesizes="'+xt(a.imageSizes)+'"]')):i+='[href="'+xt(e)+'"]';var s=i;switch(t){case"style":s=ai(e);break;case"script":s=di(e)}Et.has(s)||(e=he({rel:"preload",href:t==="image"&&a&&a.imageSrcSet?void 0:e,as:t},a),Et.set(s,e),n.querySelector(i)!==null||t==="style"&&n.querySelector(Ss(s))||t==="script"&&n.querySelector(js(s))||(t=n.createElement("link"),$e(t,"link",e),Ce(t),n.head.appendChild(t)))}}function Gv(e,t){ra.m(e,t);var a=ui;if(a&&e){var n=t&&typeof t.as=="string"?t.as:"script",i='link[rel="modulepreload"][as="'+xt(n)+'"][href="'+xt(e)+'"]',s=i;switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":s=di(e)}if(!Et.has(s)&&(e=he({rel:"modulepreload",href:e},t),Et.set(s,e),a.querySelector(i)===null)){switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(js(s)))return}n=a.createElement("link"),$e(n,"link",e),Ce(n),a.head.appendChild(n)}}}function Vv(e,t,a){ra.S(e,t,a);var n=ui;if(n&&e){var i=qn(n).hoistableStyles,s=ai(e);t=t||"default";var l=i.get(s);if(!l){var c={loading:0,preload:null};if(l=n.querySelector(Ss(s)))c.loading=5;else{e=he({rel:"stylesheet",href:e,"data-precedence":t},a),(a=Et.get(s))&&du(e,a);var o=l=n.createElement("link");Ce(o),$e(o,"link",e),o._p=new Promise(function(u,d){o.onload=u,o.onerror=d}),o.addEventListener("load",function(){c.loading|=1}),o.addEventListener("error",function(){c.loading|=2}),c.loading|=4,ul(l,t,n)}l={type:"stylesheet",instance:l,count:1,state:c},i.set(s,l)}}}function Yv(e,t){ra.X(e,t);var a=ui;if(a&&e){var n=qn(a).hoistableScripts,i=di(e),s=n.get(i);s||(s=a.querySelector(js(i)),s||(e=he({src:e,async:!0},t),(t=Et.get(i))&&hu(e,t),s=a.createElement("script"),Ce(s),$e(s,"link",e),a.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},n.set(i,s))}}function Kv(e,t){ra.M(e,t);var a=ui;if(a&&e){var n=qn(a).hoistableScripts,i=di(e),s=n.get(i);s||(s=a.querySelector(js(i)),s||(e=he({src:e,async:!0,type:"module"},t),(t=Et.get(i))&&hu(e,t),s=a.createElement("script"),Ce(s),$e(s,"link",e),a.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},n.set(i,s))}}function Qd(e,t,a,n){var i=(i=Sa.current)?Bl(i):null;if(!i)throw Error(j(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(t=ai(a.href),a=qn(i).hoistableStyles,n=a.get(t),n||(n={type:"style",instance:null,count:0,state:null},a.set(t,n)),n):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=ai(a.href);var s=qn(i).hoistableStyles,l=s.get(e);if(l||(i=i.ownerDocument||i,l={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},s.set(e,l),(s=i.querySelector(Ss(e)))&&!s._p&&(l.instance=s,l.state.loading=5),Et.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Et.set(e,a),s||Iv(i,e,a,l.state))),t&&n===null)throw Error(j(528,""));return l}if(t&&n!==null)throw Error(j(529,""));return null;case"script":return t=a.async,a=a.src,typeof a=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=di(a),a=qn(i).hoistableScripts,n=a.get(t),n||(n={type:"script",instance:null,count:0,state:null},a.set(t,n)),n):{type:"void",instance:null,count:0,state:null};default:throw Error(j(444,e))}}function ai(e){return'href="'+xt(e)+'"'}function Ss(e){return'link[rel="stylesheet"]['+e+"]"}function kp(e){return he({},e,{"data-precedence":e.precedence,precedence:null})}function Iv(e,t,a,n){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?n.loading=1:(t=e.createElement("link"),n.preload=t,t.addEventListener("load",function(){return n.loading|=1}),t.addEventListener("error",function(){return n.loading|=2}),$e(t,"link",a),Ce(t),e.head.appendChild(t))}function di(e){return'[src="'+xt(e)+'"]'}function js(e){return"script[async]"+e}function Xd(e,t,a){if(t.count++,t.instance===null)switch(t.type){case"style":var n=e.querySelector('style[data-href~="'+xt(a.href)+'"]');if(n)return t.instance=n,Ce(n),n;var i=he({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return n=(e.ownerDocument||e).createElement("style"),Ce(n),$e(n,"style",i),ul(n,a.precedence,e),t.instance=n;case"stylesheet":i=ai(a.href);var s=e.querySelector(Ss(i));if(s)return t.state.loading|=4,t.instance=s,Ce(s),s;n=kp(a),(i=Et.get(i))&&du(n,i),s=(e.ownerDocument||e).createElement("link"),Ce(s);var l=s;return l._p=new Promise(function(c,o){l.onload=c,l.onerror=o}),$e(s,"link",n),t.state.loading|=4,ul(s,a.precedence,e),t.instance=s;case"script":return s=di(a.src),(i=e.querySelector(js(s)))?(t.instance=i,Ce(i),i):(n=a,(i=Et.get(s))&&(n=he({},a),hu(n,i)),e=e.ownerDocument||e,i=e.createElement("script"),Ce(i),$e(i,"link",n),e.head.appendChild(i),t.instance=i);case"void":return null;default:throw Error(j(443,t.type))}else t.type==="stylesheet"&&!(t.state.loading&4)&&(n=t.instance,t.state.loading|=4,ul(n,a.precedence,e));return t.instance}function ul(e,t,a){for(var n=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=n.length?n[n.length-1]:null,s=i,l=0;l<n.length;l++){var c=n[l];if(c.dataset.precedence===t)s=c;else if(s!==i)break}s?s.parentNode.insertBefore(e,s.nextSibling):(t=a.nodeType===9?a.head:a,t.insertBefore(e,t.firstChild))}function du(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function hu(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var dl=null;function Jd(e,t,a){if(dl===null){var n=new Map,i=dl=new Map;i.set(a,n)}else i=dl,n=i.get(a),n||(n=new Map,i.set(a,n));if(n.has(e))return n;for(n.set(e,null),a=a.getElementsByTagName(e),i=0;i<a.length;i++){var s=a[i];if(!(s[vs]||s[Be]||e==="link"&&s.getAttribute("rel")==="stylesheet")&&s.namespaceURI!=="http://www.w3.org/2000/svg"){var l=s.getAttribute(t)||"";l=e+l;var c=n.get(l);c?c.push(s):n.set(l,[s])}}return n}function Pd(e,t,a){e=e.ownerDocument||e,e.head.insertBefore(a,t==="title"?e.querySelector("head > title"):null)}function Qv(e,t,a){if(a===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function Ap(e){return!(e.type==="stylesheet"&&!(e.state.loading&3))}function Xv(e,t,a,n){if(a.type==="stylesheet"&&(typeof n.media!="string"||matchMedia(n.media).matches!==!1)&&!(a.state.loading&4)){if(a.instance===null){var i=ai(n.href),s=t.querySelector(Ss(i));if(s){t=s._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=ql.bind(e),t.then(e,e)),a.state.loading|=4,a.instance=s,Ce(s);return}s=t.ownerDocument||t,n=kp(n),(i=Et.get(i))&&du(n,i),s=s.createElement("link"),Ce(s);var l=s;l._p=new Promise(function(c,o){l.onload=c,l.onerror=o}),$e(s,"link",n),a.instance=s}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,t),(t=a.state.preload)&&!(a.state.loading&3)&&(e.count++,a=ql.bind(e),t.addEventListener("load",a),t.addEventListener("error",a))}}var Wr=0;function Jv(e,t){return e.stylesheets&&e.count===0&&hl(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var n=setTimeout(function(){if(e.stylesheets&&hl(e,e.stylesheets),e.unsuspend){var s=e.unsuspend;e.unsuspend=null,s()}},6e4+t);0<e.imgBytes&&Wr===0&&(Wr=62500*Av());var i=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&hl(e,e.stylesheets),e.unsuspend)){var s=e.unsuspend;e.unsuspend=null,s()}},(e.imgBytes>Wr?50:800)+t);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(n),clearTimeout(i)}}:null}function ql(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)hl(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Hl=null;function hl(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Hl=new Map,t.forEach(Pv,e),Hl=null,ql.call(e))}function Pv(e,t){if(!(t.state.loading&4)){var a=Hl.get(e);if(a)var n=a.get(null);else{a=new Map,Hl.set(e,a);for(var i=e.querySelectorAll("link[data-precedence],style[data-precedence]"),s=0;s<i.length;s++){var l=i[s];(l.nodeName==="LINK"||l.getAttribute("media")!=="not all")&&(a.set(l.dataset.precedence,l),n=l)}n&&a.set(null,n)}i=t.instance,l=i.getAttribute("data-precedence"),s=a.get(l)||n,s===n&&a.set(null,i),a.set(l,i),this.count++,n=ql.bind(this),i.addEventListener("load",n),i.addEventListener("error",n),s?s.parentNode.insertBefore(i,s.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(i,e.firstChild)),t.state.loading|=4}}var ns={$$typeof:Pt,Provider:null,Consumer:null,_currentValue:Ja,_currentValue2:Ja,_threadCount:0};function Zv(e,t,a,n,i,s,l,c,o){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=_r(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_r(0),this.hiddenUpdates=_r(null),this.identifierPrefix=n,this.onUncaughtError=i,this.onCaughtError=s,this.onRecoverableError=l,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=o,this.incompleteTransitions=new Map}function Op(e,t,a,n,i,s,l,c,o,u,d,m){return e=new Zv(e,t,a,l,o,u,d,m,c),t=1,s===!0&&(t|=24),s=it(3,null,null,t),e.current=s,s.stateNode=e,t=Bo(),t.refCount++,e.pooledCache=t,t.refCount++,s.memoizedState={element:n,isDehydrated:a,cache:t},$o(s),e}function zp(e){return e?(e=Dn,e):Dn}function Rp(e,t,a,n,i,s){i=zp(i),n.context===null?n.context=i:n.pendingContext=i,n=Ea(t),n.payload={element:a},s=s===void 0?null:s,s!==null&&(n.callback=s),a=Na(e,n,t),a!==null&&(We(a,e,t),Ui(a,e,t))}function Zd(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<t?a:t}}function fu(e,t){Zd(e,t),(e=e.alternate)&&Zd(e,t)}function Cp(e){if(e.tag===13||e.tag===31){var t=on(e,67108864);t!==null&&We(t,e,67108864),fu(e,67108864)}}function Wd(e){if(e.tag===13||e.tag===31){var t=ut();t=jo(t);var a=on(e,t);a!==null&&We(a,e,t),fu(e,t)}}var $l=!0;function Wv(e,t,a,n){var i=H.T;H.T=null;var s=te.p;try{te.p=2,mu(e,t,a,n)}finally{te.p=s,H.T=i}}function Fv(e,t,a,n){var i=H.T;H.T=null;var s=te.p;try{te.p=8,mu(e,t,a,n)}finally{te.p=s,H.T=i}}function mu(e,t,a,n){if($l){var i=to(n);if(i===null)Pr(e,t,n,Gl,a),Fd(e,n);else if(tb(i,e,t,a,n))n.stopPropagation();else if(Fd(e,n),t&4&&-1<eb.indexOf(e)){for(;i!==null;){var s=li(i);if(s!==null)switch(s.tag){case 3:if(s=s.stateNode,s.current.memoizedState.isDehydrated){var l=Ga(s.pendingLanes);if(l!==0){var c=s;for(c.pendingLanes|=2,c.entangledLanes|=2;l;){var o=1<<31-ot(l);c.entanglements[1]|=o,l&=~o}qt(s),!(ee&6)&&(zl=rt()+500,ws(0))}}break;case 31:case 13:c=on(s,2),c!==null&&We(c,s,2),rr(),fu(s,2)}if(s=to(n),s===null&&Pr(e,t,n,Gl,a),s===i)break;i=s}i!==null&&n.stopPropagation()}else Pr(e,t,n,null,a)}}function to(e){return e=ko(e),pu(e)}var Gl=null;function pu(e){if(Gl=null,e=kn(e),e!==null){var t=fs(e);if(t===null)e=null;else{var a=t.tag;if(a===13){if(e=Wh(t),e!==null)return e;e=null}else if(a===31){if(e=Fh(t),e!==null)return e;e=null}else if(a===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Gl=e,null}function Dp(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(q0()){case nf:return 2;case sf:return 8;case vl:case H0:return 32;case lf:return 268435456;default:return 32}default:return 32}}var ao=!1,Aa=null,Oa=null,za=null,is=new Map,ss=new Map,ga=[],eb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Fd(e,t){switch(e){case"focusin":case"focusout":Aa=null;break;case"dragenter":case"dragleave":Oa=null;break;case"mouseover":case"mouseout":za=null;break;case"pointerover":case"pointerout":is.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ss.delete(t.pointerId)}}function wi(e,t,a,n,i,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:a,eventSystemFlags:n,nativeEvent:s,targetContainers:[i]},t!==null&&(t=li(t),t!==null&&Cp(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function tb(e,t,a,n,i){switch(t){case"focusin":return Aa=wi(Aa,e,t,a,n,i),!0;case"dragenter":return Oa=wi(Oa,e,t,a,n,i),!0;case"mouseover":return za=wi(za,e,t,a,n,i),!0;case"pointerover":var s=i.pointerId;return is.set(s,wi(is.get(s)||null,e,t,a,n,i)),!0;case"gotpointercapture":return s=i.pointerId,ss.set(s,wi(ss.get(s)||null,e,t,a,n,i)),!0}return!1}function Up(e){var t=kn(e.target);if(t!==null){var a=fs(t);if(a!==null){if(t=a.tag,t===13){if(t=Wh(a),t!==null){e.blockedOn=t,Lu(e.priority,function(){Wd(a)});return}}else if(t===31){if(t=Fh(a),t!==null){e.blockedOn=t,Lu(e.priority,function(){Wd(a)});return}}else if(t===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function fl(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var a=to(e.nativeEvent);if(a===null){a=e.nativeEvent;var n=new a.constructor(a.type,a);xc=n,a.target.dispatchEvent(n),xc=null}else return t=li(a),t!==null&&Cp(t),e.blockedOn=a,!1;t.shift()}return!0}function eh(e,t,a){fl(e)&&a.delete(t)}function ab(){ao=!1,Aa!==null&&fl(Aa)&&(Aa=null),Oa!==null&&fl(Oa)&&(Oa=null),za!==null&&fl(za)&&(za=null),is.forEach(eh),ss.forEach(eh)}function $s(e,t){e.blockedOn===t&&(e.blockedOn=null,ao||(ao=!0,ze.unstable_scheduleCallback(ze.unstable_NormalPriority,ab)))}var Gs=null;function th(e){Gs!==e&&(Gs=e,ze.unstable_scheduleCallback(ze.unstable_NormalPriority,function(){Gs===e&&(Gs=null);for(var t=0;t<e.length;t+=3){var a=e[t],n=e[t+1],i=e[t+2];if(typeof n!="function"){if(pu(n||a)===null)continue;break}var s=li(a);s!==null&&(e.splice(t,3),t-=3,Mc(s,{pending:!0,data:i,method:a.method,action:n},n,i))}}))}function ni(e){function t(o){return $s(o,e)}Aa!==null&&$s(Aa,e),Oa!==null&&$s(Oa,e),za!==null&&$s(za,e),is.forEach(t),ss.forEach(t);for(var a=0;a<ga.length;a++){var n=ga[a];n.blockedOn===e&&(n.blockedOn=null)}for(;0<ga.length&&(a=ga[0],a.blockedOn===null);)Up(a),a.blockedOn===null&&ga.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(n=0;n<a.length;n+=3){var i=a[n],s=a[n+1],l=i[Fe]||null;if(typeof s=="function")l||th(a);else if(l){var c=null;if(s&&s.hasAttribute("formAction")){if(i=s,l=s[Fe]||null)c=l.formAction;else if(pu(i)!==null)continue}else c=l.action;typeof c=="function"?a[n+1]=c:(a.splice(n,3),n-=3),th(a)}}}function Mp(){function e(s){s.canIntercept&&s.info==="react-transition"&&s.intercept({handler:function(){return new Promise(function(l){return i=l})},focusReset:"manual",scroll:"manual"})}function t(){i!==null&&(i(),i=null),n||setTimeout(a,20)}function a(){if(!n&&!navigation.transition){var s=navigation.currentEntry;s&&s.url!=null&&navigation.navigate(s.url,{state:s.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var n=!1,i=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(a,100),function(){n=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),i!==null&&(i(),i=null)}}}function gu(e){this._internalRoot=e}ur.prototype.render=gu.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(j(409));var a=t.current,n=ut();Rp(a,n,e,t,null,null)};ur.prototype.unmount=gu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Rp(e.current,2,null,e,null,null),rr(),t[si]=null}};function ur(e){this._internalRoot=e}ur.prototype.unstable_scheduleHydration=function(e){if(e){var t=df();e={blockedOn:null,target:e,priority:t};for(var a=0;a<ga.length&&t!==0&&t<ga[a].priority;a++);ga.splice(a,0,e),a===0&&Up(e)}};var ah=Ph.version;if(ah!=="19.2.4")throw Error(j(527,ah,"19.2.4"));te.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(j(188)):(e=Object.keys(e).join(","),Error(j(268,e)));return e=R0(t),e=e!==null?ef(e):null,e=e===null?null:e.stateNode,e};var nb={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Vs=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Vs.isDisabled&&Vs.supportsFiber)try{ms=Vs.inject(nb),ct=Vs}catch{}}Ql.createRoot=function(e,t){if(!Zh(e))throw Error(j(299));var a=!1,n="",i=Tm,s=km,l=Am;return t!=null&&(t.unstable_strictMode===!0&&(a=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onUncaughtError!==void 0&&(i=t.onUncaughtError),t.onCaughtError!==void 0&&(s=t.onCaughtError),t.onRecoverableError!==void 0&&(l=t.onRecoverableError)),t=Op(e,1,!1,null,null,a,n,null,i,s,l,Mp),e[si]=t.current,uu(e),new gu(t)};Ql.hydrateRoot=function(e,t,a){if(!Zh(e))throw Error(j(299));var n=!1,i="",s=Tm,l=km,c=Am,o=null;return a!=null&&(a.unstable_strictMode===!0&&(n=!0),a.identifierPrefix!==void 0&&(i=a.identifierPrefix),a.onUncaughtError!==void 0&&(s=a.onUncaughtError),a.onCaughtError!==void 0&&(l=a.onCaughtError),a.onRecoverableError!==void 0&&(c=a.onRecoverableError),a.formState!==void 0&&(o=a.formState)),t=Op(e,1,!0,t,a??null,n,i,o,s,l,c,Mp),t.context=zp(null),a=t.current,n=ut(),n=jo(n),i=Ea(n),i.callback=null,Na(a,i,n),a=n,t.current.lanes=a,gs(t,a),qt(t),e[si]=t.current,uu(e),new ur(t)};Ql.version="19.2.4";function Lp(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Lp)}catch(e){console.error(e)}}Lp(),Yh.exports=Ql;var ib=Yh.exports;const sb=Ch(ib);var zt=(e=>(e.LIVE="LIVE",e.UPCOMING="UPCOMING",e.SOLD_OUT="SOLD_OUT",e))(zt||{}),Ze=(e=>(e.PENDING="pending",e.APPROVED="approved",e.REJECTED="rejected",e))(Ze||{}),vu=(e=>(e.PICKUP="PICKUP",e.EVENT="EVENT",e))(vu||{}),bu=(e=>(e.TASTER="Taster",e.REGULAR="Regular",e.INSIDER="Insider",e.TASTEMAKER="Tastemaker",e))(bu||{});const lb=({user:e,onLogin:t,onLogout:a,cartCount:n})=>{const i=l=>window.location.hash=l,s=l=>{var c;l.preventDefault(),window.location.hash==="#/"||window.location.hash===""?(c=document.getElementById("live-drops"))==null||c.scrollIntoView({behavior:"smooth"}):(i("/"),setTimeout(()=>{var o;(o=document.getElementById("live-drops"))==null||o.scrollIntoView({behavior:"smooth"})},100))};return r.jsx("header",{className:"sticky top-0 z-50 w-full bg-black/95 backdrop-blur-xl border-b border-zinc-900/50 px-6 py-4",children:r.jsxs("div",{className:"max-w-7xl mx-auto flex items-center justify-between",children:[r.jsxs("div",{onClick:()=>i("/"),className:"flex items-center gap-2 cursor-pointer group",children:[r.jsx("div",{className:"w-10 h-10 bg-fuchsia-500 text-black flex items-center justify-center font-bold text-2xl skew-x-[-12deg] group-hover:bg-white transition-all duration-300 shadow-[2px_2px_0px_0px_rgba(255,255,255,1)]",children:"f"}),r.jsx("span",{className:"font-heading text-2xl font-black tracking-tighter italic uppercase",children:"foodiedrops"})]}),r.jsxs("nav",{className:"hidden md:flex items-center gap-8 text-[11px] font-bold uppercase tracking-[0.2em]",children:[r.jsx("a",{href:"/#/",onClick:s,className:"hover:text-fuchsia-400 transition-colors",children:"Drops"}),(e==null?void 0:e.isAdmin)&&r.jsx("a",{href:"/#/admin",onClick:l=>{l.preventDefault(),i("/admin")},className:"text-orange-400 hover:text-orange-300 transition-colors",children:"Admin"}),r.jsx("div",{className:"h-4 w-[1px] bg-zinc-800"}),e?r.jsxs("div",{className:"flex items-center gap-6",children:[r.jsx("button",{onClick:()=>i("/profile"),className:"hover:text-fuchsia-400 transition-colors",children:e.name}),r.jsx("button",{onClick:a,className:"text-zinc-600 hover:text-red-500 transition-colors text-[9px] tracking-widest",children:"Logout"})]}):r.jsx("button",{onClick:()=>i("/login"),className:"hover:text-fuchsia-400 transition-colors border-b-2 border-transparent hover:border-fuchsia-500 pb-1",children:"Log In"}),r.jsx("button",{onClick:()=>i("/studio"),className:"hover:text-fuchsia-400 transition-colors border-l border-zinc-800 pl-8 flex items-center gap-2 group",children:"For Restaurants"})]}),r.jsx("div",{className:"flex items-center gap-4",children:r.jsxs("button",{className:"p-2 hover:bg-zinc-800 rounded-full transition-colors relative group",children:[r.jsx("svg",{className:"w-6 h-6 group-hover:scale-110 group-hover:text-fuchsia-500 transition-all",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"})}),n>0&&r.jsx("span",{className:"absolute -top-1 -right-1 w-5 h-5 bg-fuchsia-500 text-[10px] flex items-center justify-center rounded-full text-black font-black",children:n})]})})]})})},no=({targetDate:e,prefix:t="",className:a=""})=>{const n=()=>{const u=new Date(e).getTime()-new Date().getTime();return u<=0?null:{days:Math.floor(u/864e5),hours:Math.floor(u/36e5%24),minutes:Math.floor(u/1e3/60%60),seconds:Math.floor(u/1e3%60)}},[i,s]=A.useState(n());if(A.useEffect(()=>{const u=setInterval(()=>{s(n())},1e3);return()=>clearInterval(u)},[e]),!i)return null;const l=u=>{const d=[];return u.days>0&&d.push(`${u.days}d`),d.push(`${String(u.hours).padStart(2,"0")}h`),d.push(`${String(u.minutes).padStart(2,"0")}m`),d.push(`${String(u.seconds).padStart(2,"0")}s`),d.join(":")},c="font-mono font-black uppercase tracking-widest",o=a.includes("text-")?`${c} ${a}`:`${c} text-[11px] ${a}`;return r.jsxs("div",{className:o,children:[t&&r.jsx("span",{className:"mr-1",children:t}),l(i)]})},Bp=({drop:e,onClick:t})=>{const[a,n]=A.useState(new Date);A.useEffect(()=>{const h=setInterval(()=>n(new Date),1e3);return()=>clearInterval(h)},[]);const i=new Date(e.start_date),s=new Date(e.end_date),l=a<i,c=a>=i&&a<s,o=a>=s,u=e.quantity_remaining===0,d=u||o,m=e.accent_color||"#d946ef";return r.jsxs("div",{onClick:()=>t(e.id),className:"group relative cursor-pointer overflow-hidden bg-zinc-950 border border-zinc-900 transition-all duration-300 hover:border-zinc-500/50",style:{boxShadow:`0 0 40px -10px ${m}33`},children:[r.jsxs("div",{className:"aspect-[4/5] overflow-hidden relative",children:[r.jsx("img",{src:e.image,alt:e.name,className:`h-full w-full object-cover transition-transform duration-700 group-hover:scale-105 ${u?"grayscale blur-[2px]":"grayscale-[40%] group-hover:grayscale-0"}`}),u&&r.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/40 z-20",children:r.jsx("div",{className:"bg-red-600 text-white border-4 border-white px-8 py-3 transform -rotate-12 shadow-[0_0_30px_rgba(220,38,38,0.6)]",children:r.jsx("span",{className:"text-3xl font-heading font-black italic uppercase tracking-tighter block whitespace-nowrap",children:"SOLD OUT"})})}),r.jsxs("div",{className:"absolute left-4 top-4 flex flex-col gap-2 z-10",children:[d?u?r.jsx("span",{className:"bg-red-600 px-3 py-1 text-xs font-black uppercase tracking-widest text-white border border-red-500",children:"Sold Out"}):r.jsx("span",{className:"bg-zinc-800 px-3 py-1 text-xs font-black uppercase tracking-widest text-zinc-400",children:"Archived"}):l?r.jsx("span",{className:"bg-violet-600 px-3 py-1 text-xs font-black uppercase tracking-widest text-white",children:"Incoming"}):r.jsx("span",{className:"px-3 py-1 text-xs font-black uppercase tracking-widest text-black shadow-lg",style:{backgroundColor:m},children:"Live"}),r.jsx("span",{className:"bg-black/90 px-3 py-1 text-[10px] font-black uppercase tracking-widest text-white backdrop-blur-md border border-white/10",children:e.type===vu.PICKUP?"Pickup":"Event"})]}),c&&!u&&r.jsxs("div",{className:"absolute bottom-4 left-4 right-4 z-10",children:[r.jsxs("div",{className:"flex justify-between items-end mb-1",children:[r.jsx("span",{className:"text-[10px] uppercase font-black text-white drop-shadow-lg tracking-tighter",children:e.quantity_remaining<20?"Critical Supply":"Limited Run"}),r.jsxs("span",{className:"text-[10px] font-black text-white drop-shadow-lg",children:[e.quantity_remaining,"/",e.total_quantity," Left"]})]}),r.jsx("div",{className:"h-1.5 w-full bg-white/10 overflow-hidden rounded-full",children:r.jsx("div",{className:"h-full transition-all duration-700 ease-out",style:{width:`${e.quantity_remaining/e.total_quantity*100}%`,backgroundColor:m}})})]})]}),r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"flex justify-between items-start mb-2",children:[r.jsx("h3",{className:`font-heading text-2xl font-black uppercase leading-[0.9] tracking-tighter transition-colors italic ${u?"text-zinc-500 line-through decoration-red-500 decoration-4":"group-hover:text-white"}`,style:u?{}:{color:m},children:e.name}),r.jsxs("span",{className:`text-xl font-heading font-black border-b-2 ${u?"text-zinc-600 border-zinc-800":"text-white"}`,style:u?{}:{borderColor:m},children:["$",e.price]})]}),r.jsxs("p",{className:"text-zinc-500 text-xs font-bold uppercase tracking-widest mb-4",children:[e.chef,"  ",e.location]}),r.jsxs("div",{className:"pt-4 border-t border-zinc-900 h-8 flex items-center",children:[l&&r.jsx(no,{targetDate:e.start_date,prefix:"",className:"text-violet-400"}),c&&!u&&r.jsx(no,{targetDate:e.end_date,prefix:"",className:"text-fuchsia-400"}),u&&r.jsx("span",{className:"font-mono text-xs font-black uppercase tracking-widest text-red-500 animate-pulse",children:"Inventory Depleted"}),!u&&o&&r.jsx("span",{className:"font-mono text-xs font-black uppercase tracking-widest text-zinc-600",children:"Manifest Closed"})]})]})]})},Z=({children:e,variant:t="primary",size:a="md",isLoading:n,className:i,...s})=>{const l="inline-flex items-center justify-center font-heading font-bold transition-all duration-200 uppercase tracking-wider disabled:opacity-50 disabled:cursor-not-allowed transform",c={primary:"bg-fuchsia-500 text-black hover:bg-fuchsia-400 active:scale-95 shadow-[4px_4px_0px_0px_rgba(255,255,255,1)] hover:shadow-none hover:translate-x-[2px] hover:translate-y-[2px]",secondary:"bg-violet-600 text-white hover:bg-violet-700 active:scale-95",outline:"bg-transparent border-2 border-fuchsia-500 text-fuchsia-500 hover:bg-fuchsia-500 hover:text-black",danger:"bg-red-600 text-white hover:bg-red-700"},o={sm:"px-4 py-2 text-xs",md:"px-6 py-3 text-sm",lg:"px-8 py-4 text-base",xl:"px-10 py-5 text-lg"};return r.jsxs("button",{className:`${l} ${c[t]} ${o[a]} ${i}`,disabled:n||s.disabled,...s,children:[n?r.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[r.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),r.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):null,e]})},rb=["ALL","BBQ","Japanese","Drinks","Fusion","Pantry","Vegan","Dessert"],pt=({children:e})=>{const[t,a]=A.useState(!1),n=A.useRef(null);return A.useEffect(()=>{const i=new IntersectionObserver(s=>{s.forEach(l=>{l.isIntersecting&&(a(!0),i.unobserve(l.target))})},{threshold:.1});return n.current&&i.observe(n.current),()=>i.disconnect()},[]),r.jsx("div",{ref:n,className:`transition-all duration-1000 transform ${t?"opacity-100 translate-y-0":"opacity-0 translate-y-10"}`,children:e})},Ys=({user:e,drops:t,onSelectDrop:a,onPartnerClick:n})=>{const[i,s]=A.useState("ALL"),[l,c]=A.useState("NEWEST"),[o,u]=A.useState(""),d=A.useMemo(()=>{const h=t.filter(b=>b.status===zt.LIVE||b.status===zt.UPCOMING);let f=i==="ALL"?h:h.filter(b=>b.category===i);if(o){const b=o.toLowerCase();f=f.filter(x=>x.name.toLowerCase().includes(b)||x.chef.toLowerCase().includes(b)||x.location.toLowerCase().includes(b))}switch(l){case"PRICE_LOW":return[...f].sort((b,x)=>Number(b.price)-Number(x.price));case"FASTEST":return[...f].sort((b,x)=>b.quantity_remaining/b.total_quantity-x.quantity_remaining/x.total_quantity);case"DATE":return[...f].sort((b,x)=>new Date(b.start_date).getTime()-new Date(x.start_date).getTime());default:return[...f].sort((b,x)=>{const w=b.status===zt.LIVE?0:1,g=x.status===zt.LIVE?0:1;return w!==g?w-g:b.status===zt.LIVE?new Date(b.end_date).getTime()-new Date(x.end_date).getTime():new Date(b.start_date).getTime()-new Date(x.start_date).getTime()})}},[t,i,l,o]),m=e!=null&&e.isVendor?"Create a Drop":"Apply to Drop";return r.jsxs("div",{className:"min-h-screen bg-[#050505]",children:[r.jsxs("section",{className:"relative h-screen min-h-[600px] w-full flex items-center justify-center overflow-hidden",children:[r.jsxs("div",{className:"absolute inset-0 z-0",children:[r.jsx("img",{src:"https://images.unsplash.com/photo-1514355315815-2b64b0216b14?auto=format&fit=crop&q=80&w=2000",alt:"Hero background",className:"w-full h-full object-cover opacity-30 contrast-125 grayscale"}),r.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-[#050505] via-[#050505]/50 to-[#050505]/20"})]}),r.jsxs("div",{className:"relative z-10 text-center px-6 max-w-4xl",children:[r.jsx(pt,{children:r.jsxs("h1",{className:"font-heading text-5xl md:text-7xl font-black tracking-tighter mb-6 leading-tight",children:["Limited Food Drops.",r.jsx("br",{}),"Order Before The Cutoff."]})}),r.jsx(pt,{children:r.jsxs("p",{className:"text-zinc-300 text-base md:text-lg font-medium max-w-2xl mx-auto mb-10 leading-relaxed",children:["Special menu releases from real restaurants.",r.jsx("br",{}),"Order once. Pickup when its ready."]})}),r.jsx(pt,{children:r.jsx("div",{className:"flex justify-center",children:r.jsx(Z,{size:"lg",onClick:()=>{var h;return(h=document.getElementById("live-drops"))==null?void 0:h.scrollIntoView({behavior:"smooth"})},children:"View The Drops"})})})]})]}),r.jsx("section",{className:"bg-black py-8 border-y border-zinc-900",children:r.jsx("div",{className:"max-w-7xl mx-auto px-6",children:r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-8 text-center",children:["Support Local Kitchens","Limited Runs Only","More Money to Restaurants","No Algorithms","Pickup & Local Delivery"].map(h=>r.jsx("div",{className:"text-zinc-500 text-[9px] font-bold uppercase tracking-widest",children:h},h))})})}),r.jsx("div",{className:"sticky top-[73px] z-40 bg-black/95 backdrop-blur-2xl border-b border-zinc-900 px-6 py-4",children:r.jsx("div",{className:"max-w-7xl mx-auto flex flex-col lg:flex-row lg:items-center justify-between gap-8",children:r.jsx("div",{className:"flex items-center gap-3 overflow-x-auto pb-2 lg:pb-0 no-scrollbar",children:rb.map(h=>r.jsx("button",{onClick:()=>s(h),className:`px-4 py-1.5 text-[9px] font-bold uppercase tracking-widest border transition-all duration-300 whitespace-nowrap ${i===h?"bg-white text-black border-white":"bg-transparent text-zinc-400 border-zinc-800 hover:border-white hover:text-white"}`,children:h},h))})})}),r.jsxs("section",{id:"live-drops",className:"max-w-7xl mx-auto px-6 py-20",children:[r.jsx(pt,{children:r.jsx("div",{className:"flex items-end gap-6 mb-12",children:r.jsx("div",{children:r.jsx("h2",{className:"font-heading text-4xl md:text-6xl font-black tracking-tighter leading-none",children:"Live & Incoming"})})})}),d.length>0?r.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-12",children:d.map(h=>r.jsx(pt,{children:r.jsx(Bp,{drop:h,onClick:a})},h.id))}):r.jsx("div",{className:"text-center py-32 border-2 border-dashed border-zinc-900",children:r.jsx("p",{className:"text-zinc-600 text-xl font-bold",children:"No drops found matching your criteria."})})]}),r.jsx("section",{className:"bg-zinc-950 py-20 px-6 border-y border-zinc-900",children:r.jsx("div",{className:"max-w-3xl mx-auto text-center",children:r.jsxs(pt,{children:[r.jsx("h2",{className:"font-heading text-4xl md:text-6xl font-black tracking-tighter leading-tight mb-6",children:"Not Your Typical Takeout."}),r.jsx("p",{className:"text-zinc-400 text-base leading-relaxed mb-8",children:"A drop is a limited-release menu created by a restaurant for a short window  sometimes a weekend, sometimes just a day. Chefs use drops to test new ideas, bring back cult favorites, and cook without constraints. You get access to food most people never even hear about. When it sells out, its gone."}),r.jsx(Z,{size:"lg",onClick:()=>{var h;return(h=document.getElementById("live-drops"))==null?void 0:h.scrollIntoView({behavior:"smooth"})},children:" Browse The Drops"})]})})}),r.jsx("section",{className:"py-20 px-6",children:r.jsxs("div",{className:"max-w-7xl mx-auto",children:[r.jsx(pt,{children:r.jsx("h2",{className:"font-heading text-center text-4xl font-black tracking-tighter mb-12",children:"Why People Love Drops"})}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-12",children:[{title:"Limited by design",desc:"Small batches mean higher quality and more creativity."},{title:"Worth planning for",desc:"These arent everyday menus  theyre events."},{title:"Support local without thinking twice",desc:"Your order directly fuels independent kitchens."},{title:"Discovery built in",desc:"Find chefs before everyone else does."}].map(h=>r.jsx(pt,{children:r.jsxs("div",{className:"border-t-4 border-fuchsia-500 pt-6",children:[r.jsx("h3",{className:"font-heading text-xl font-bold mb-2",children:h.title}),r.jsx("p",{className:"text-zinc-400 text-sm",children:h.desc})]})},h.title))})]})}),r.jsx("section",{className:"bg-zinc-950 py-20 px-6 border-y border-zinc-900",children:r.jsxs("div",{className:"max-w-7xl mx-auto",children:[r.jsx(pt,{children:r.jsx("h2",{className:"font-heading text-center text-4xl font-black tracking-tighter mb-12",children:"Kitchens People Are Watching"})}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-12",children:[{quote:"Drops let us cook the food we actually get excited about.",author:"Chef Marco, Ostia"},{quote:"Our last drop sold out in 6 hours.",author:"Pitmaster Jax"},{quote:"We made more in one weekend than a typical weeknight service.",author:"Neon Sushi"}].map(({quote:h,author:f})=>r.jsx(pt,{children:r.jsxs("figure",{className:"text-center",children:[r.jsxs("blockquote",{className:"text-xl font-medium mb-4",children:["",h,""]}),r.jsx("figcaption",{className:"text-fuchsia-400 font-bold uppercase text-[10px] tracking-widest",children:f})]})},f))})]})}),r.jsx("section",{className:"bg-fuchsia-500 text-black py-20 px-6",children:r.jsx("div",{className:"max-w-4xl mx-auto text-center",children:r.jsxs(pt,{children:[r.jsx("h2",{className:"font-heading text-4xl md:text-6xl font-black tracking-tighter leading-tight mb-4",children:"Run a Drop. Keep More Revenue. Reach People Who Show Up Hungry."}),r.jsx("p",{className:"font-heading text-3xl font-bold italic tracking-tighter text-black/90 mb-6",children:"Restaurants"}),r.jsx("p",{className:"text-black/80 text-base leading-relaxed mb-8 font-medium",children:"Foodie Drops gives restaurants a launchpad  not a toll booth. No massive commissions. No fighting algorithms. No discount pressure. Just a direct line to customers who want what you make."}),r.jsx(Z,{size:"xl",onClick:n,className:"bg-black text-white hover:bg-zinc-800 shadow-none",children:m})]})})}),r.jsx("footer",{className:"bg-black border-t-2 border-zinc-900 py-16 px-6",children:r.jsx("div",{className:"max-w-7xl mx-auto text-center",children:r.jsxs(pt,{children:[r.jsxs("div",{className:"flex items-center justify-center gap-3 mb-6",children:[r.jsx("div",{className:"w-8 h-8 bg-white text-black flex items-center justify-center font-bold text-lg",children:"f"}),r.jsx("span",{className:"font-heading text-xl font-black tracking-tighter uppercase",children:"foodiedrops"})]}),r.jsx("p",{className:"text-zinc-500 text-base max-w-2xl mx-auto mb-4 font-medium",children:"The New Standard for Independent Food Releases."}),r.jsx("p",{className:"text-zinc-600 text-xs max-w-3xl mx-auto mb-8",children:"Foodie Drops is building the modern marketplace for limited-run dining  where chefs create freely and customers discover the extraordinary. Launching city by city. Kitchen by kitchen. Drop by drop."}),r.jsx("p",{className:"text-zinc-700 text-[10px] font-bold uppercase tracking-widest",children:" 2024 FOODIEDROPS. EAT RARE."})]})})})]})},Fr=e=>e?e.replace(/[<>]/g,"").replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;").trim():"",cb=e=>/^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,6}$/.test(e),nh=()=>"idemp_"+Math.random().toString(36).substr(2,9)+"_"+Date.now(),ob=({drop:e,quantity:t,deliveryRequested:a,totalPrice:n,isOpen:i,onClose:s,onConfirm:l})=>{const[c,o]=A.useState("DETAILS"),[u,d]=A.useState({name:"",email:"",deliveryAddress:""}),[m,h]=A.useState(!1),[f,b]=A.useState(null),[x,w]=A.useState(null),g=A.useRef(nh());A.useEffect(()=>{if(!i){setTimeout(()=>{o("DETAILS"),d({name:"",email:"",deliveryAddress:""}),h(!1),b(null),w(null),g.current=nh()},300);return}const S=k=>{k.key==="Escape"&&!m&&c!=="SUCCESS"&&s()};return window.addEventListener("keydown",S),()=>{window.removeEventListener("keydown",S)}},[i,s,m,c]);const p=()=>{b(null);const S=Fr(u.name),k=Fr(u.email),z=Fr(u.deliveryAddress);return S.length<2?(b("Please enter a valid name."),!1):cb(k)?a&&z.length<5?(b("Please enter a valid delivery address."),!1):(d({name:S,email:k,deliveryAddress:z}),!0):(b("Please enter a valid email address."),!1)},v=S=>{S.preventDefault(),p()&&o("PAYMENT")},y=[...e.quantity_tiers||[]].reverse().find(S=>t>=S.threshold),N=async()=>{if(!m){h(!0),b(null);try{const S=await l(u.name,u.email,a?u.deliveryAddress:void 0);w(S),o("SUCCESS"),window.location.assign(S)}catch(S){console.error("Payment Error:",S),b(S.message||"Payment failed. Please try again.")}finally{h(!1)}}},O=()=>{s(),window.location.hash="/profile"};return i?r.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/98 backdrop-blur-2xl p-4",role:"dialog","aria-modal":"true","aria-labelledby":"checkout-modal-title",children:r.jsxs("div",{className:"w-full max-w-2xl bg-zinc-950 border-8 border-black relative overflow-hidden shadow-2xl",children:[c!=="SUCCESS"&&!m&&r.jsx("button",{onClick:s,className:"absolute top-8 right-8 text-zinc-700 hover:text-white transition-colors z-10 p-2",children:r.jsx("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"4",d:"M6 18L18 6M6 6l12 12"})})}),r.jsxs("div",{className:"p-12 md:p-20",children:[c==="DETAILS"&&r.jsxs("form",{onSubmit:v,className:"space-y-12",children:[r.jsx("h2",{id:"checkout-modal-title",className:"font-heading text-4xl md:text-5xl font-black italic uppercase tracking-tighter leading-none",children:"Confirm Your Details"}),r.jsxs("div",{className:"space-y-8",children:[r.jsx("div",{children:r.jsx("input",{required:!0,className:"w-full bg-zinc-900 border-4 border-black p-6 text-white font-black uppercase italic tracking-tighter text-2xl outline-none focus:border-fuchsia-500 transition-colors",placeholder:"YOUR NAME",value:u.name,onChange:S=>d({...u,name:S.target.value})})}),r.jsx("div",{children:r.jsx("input",{required:!0,type:"email",className:"w-full bg-zinc-900 border-4 border-black p-6 text-white font-black uppercase italic tracking-tighter text-2xl outline-none focus:border-fuchsia-500 transition-colors",placeholder:"YOUR EMAIL",value:u.email,onChange:S=>d({...u,email:S.target.value})})}),a&&r.jsxs("div",{className:"animate-in fade-in slide-in-from-top-4 space-y-4",children:[r.jsx("label",{className:"text-[10px] font-black uppercase tracking-[0.4em] text-fuchsia-500",children:"Delivery Address"}),r.jsx("input",{required:!0,className:"w-full bg-zinc-900 border-4 border-fuchsia-500/30 p-6 text-white font-black uppercase italic tracking-tighter text-2xl outline-none focus:border-fuchsia-500 transition-colors",placeholder:"STREET ADDRESS",value:u.deliveryAddress,onChange:S=>d({...u,deliveryAddress:S.target.value})})]}),f&&r.jsx("div",{className:"p-4 bg-red-900/20 border-2 border-red-500 text-red-500 font-bold uppercase text-xs tracking-widest text-center animate-pulse",children:f})]}),r.jsxs("div",{className:"bg-zinc-900 p-8 border-4 border-zinc-800 space-y-4",children:[r.jsxs("div",{className:"flex justify-between text-2xl font-black uppercase italic pt-2",children:[r.jsx("span",{className:"text-zinc-500",children:"Order Total"}),r.jsxs("span",{children:["$",n.toFixed(2)]})]}),r.jsxs("p",{className:"text-[10px] font-black uppercase tracking-widest text-zinc-600 italic",children:["Includes ",t," item(s) and all selected options."]})]}),r.jsx(Z,{size:"xl",type:"submit",className:"w-full bg-fuchsia-500 text-black",children:"Continue to Payment"})]}),c==="PAYMENT"&&r.jsxs("div",{className:"space-y-16 text-center py-10",children:[r.jsx("h2",{className:"font-heading text-4xl md:text-6xl font-black italic uppercase tracking-tighter leading-none",children:"Confirm."}),r.jsxs("div",{className:"bg-zinc-900 p-8 border-4 border-black",children:[r.jsxs("p",{className:"text-5xl font-black italic tracking-tighter uppercase mb-2",children:["$",n.toFixed(2)]}),r.jsx("p",{className:"text-[10px] font-black uppercase tracking-[0.5em] text-zinc-500",children:"Total charge"})]}),f&&r.jsx("div",{className:"p-4 bg-red-900/20 border-2 border-red-500 text-red-500 font-bold uppercase text-xs tracking-widest text-center",children:f}),r.jsxs("div",{className:"space-y-4",children:[r.jsx(Z,{size:"xl",className:"w-full",onClick:N,isLoading:m,disabled:m,children:m?"Processing Transaction...":"Reserve & Pay"}),!m&&r.jsx("button",{onClick:()=>o("DETAILS"),className:"text-zinc-500 text-xs font-black uppercase tracking-widest hover:text-white underline decoration-zinc-700",children:"Back to Details"})]})]}),c==="SUCCESS"&&r.jsxs("div",{className:"text-center py-12 space-y-10",children:[r.jsx("div",{className:"w-24 h-24 bg-green-500 text-black flex items-center justify-center mx-auto mb-8 shadow-[8px_8px_0px_0px_#fff] transform -rotate-12 animate-in zoom-in duration-300",children:r.jsx("svg",{className:"w-12 h-12",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"5",d:"M5 13l4 4L19 7"})})}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("h2",{className:"font-heading text-4xl font-black italic uppercase tracking-tighter text-white leading-none",children:"Reservation Secured."}),x?r.jsxs("div",{className:"bg-zinc-900 p-6 border-2 border-fuchsia-500/50",children:[r.jsx("p",{className:"text-fuchsia-400 font-black uppercase tracking-widest text-xs mb-4",children:"Action Required"}),r.jsx("p",{className:"text-white text-sm mb-6 max-w-sm mx-auto",children:"Your items are reserved. Please complete payment to finalize your order."}),r.jsx(Z,{size:"xl",className:"w-full bg-fuchsia-500 text-black animate-pulse",onClick:()=>window.location.assign(x),children:"Pay Now via Stripe"})]}):r.jsx("p",{className:"text-zinc-500 font-black uppercase tracking-[0.2em] max-w-md mx-auto italic text-center",children:"Your order is confirmed. Please follow the chef's instructions for payment/pickup."}),r.jsxs("div",{className:"space-y-2 flex flex-col items-center pt-4",children:[a&&r.jsx("div",{className:"bg-zinc-800 text-zinc-300 p-2 font-black uppercase italic tracking-tighter text-xs transform skew-x-12 inline-block px-4",children:"Delivery Scheduled"}),y&&r.jsxs("div",{className:"bg-orange-600 text-black p-4 font-black uppercase italic tracking-tighter text-xl transform -skew-x-12 block mt-2",children:["BONUS UNLOCKED: ",y.reward]})]})]}),r.jsx("div",{className:"pt-8",children:r.jsx(Z,{size:"md",variant:"outline",className:"w-full border-zinc-700 text-zinc-400 hover:text-white",onClick:O,children:"View My Order"})})]})]})]})}):null};function dr(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(a[n[i]]=e[n[i]]);return a}function ub(e,t,a,n){function i(s){return s instanceof a?s:new a(function(l){l(s)})}return new(a||(a=Promise))(function(s,l){function c(d){try{u(n.next(d))}catch(m){l(m)}}function o(d){try{u(n.throw(d))}catch(m){l(m)}}function u(d){d.done?s(d.value):i(d.value).then(c,o)}u((n=n.apply(e,t||[])).next())})}const db=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class yu extends Error{constructor(t,a="FunctionsError",n){super(t),this.name=a,this.context=n}}class hb extends yu{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class ih extends yu{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class sh extends yu{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var io;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(io||(io={}));class fb{constructor(t,{headers:a={},customFetch:n,region:i=io.Any}={}){this.url=t,this.headers=a,this.region=i,this.fetch=db(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return ub(this,arguments,void 0,function*(a,n={}){var i;let s,l;try{const{headers:c,method:o,body:u,signal:d,timeout:m}=n;let h={},{region:f}=n;f||(f=this.region);const b=new URL(`${this.url}/${a}`);f&&f!=="any"&&(h["x-region"]=f,b.searchParams.set("forceFunctionRegion",f));let x;u&&(c&&!Object.prototype.hasOwnProperty.call(c,"Content-Type")||!c)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",x=u):typeof u=="string"?(h["Content-Type"]="text/plain",x=u):typeof FormData<"u"&&u instanceof FormData?x=u:(h["Content-Type"]="application/json",x=JSON.stringify(u)):u&&typeof u!="string"&&!(typeof Blob<"u"&&u instanceof Blob)&&!(u instanceof ArrayBuffer)&&!(typeof FormData<"u"&&u instanceof FormData)?x=JSON.stringify(u):x=u;let w=d;m&&(l=new AbortController,s=setTimeout(()=>l.abort(),m),d?(w=l.signal,d.addEventListener("abort",()=>l.abort())):w=l.signal);const g=yield this.fetch(b.toString(),{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),c),body:x,signal:w}).catch(N=>{throw new hb(N)}),p=g.headers.get("x-relay-error");if(p&&p==="true")throw new ih(g);if(!g.ok)throw new sh(g);let v=((i=g.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),y;return v==="application/json"?y=yield g.json():v==="application/octet-stream"||v==="application/pdf"?y=yield g.blob():v==="text/event-stream"?y=g:v==="multipart/form-data"?y=yield g.formData():y=yield g.text(),{data:y,error:null,response:g}}catch(c){return{data:null,error:c,response:c instanceof sh||c instanceof ih?c.context:void 0}}finally{s&&clearTimeout(s)}})}}var mb=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}},pb=class{constructor(e){var t,a,n;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(t=e.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=e.signal,this.isMaybeSingle=(a=e.isMaybeSingle)!==null&&a!==void 0?a:!1,this.urlLengthLimit=(n=e.urlLengthLimit)!==null&&n!==void 0?n:8e3,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){var a=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let i=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async s=>{let l=null,c=null,o=null,u=s.status,d=s.statusText;if(s.ok){var m,h;if(a.method!=="HEAD"){var f;const g=await s.text();g===""||(a.headers.get("Accept")==="text/csv"||a.headers.get("Accept")&&(!((f=a.headers.get("Accept"))===null||f===void 0)&&f.includes("application/vnd.pgrst.plan+text"))?c=g:c=JSON.parse(g))}const x=(m=a.headers.get("Prefer"))===null||m===void 0?void 0:m.match(/count=(exact|planned|estimated)/),w=(h=s.headers.get("content-range"))===null||h===void 0?void 0:h.split("/");x&&w&&w.length>1&&(o=parseInt(w[1])),a.isMaybeSingle&&a.method==="GET"&&Array.isArray(c)&&(c.length>1?(l={code:"PGRST116",details:`Results contain ${c.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},c=null,o=null,u=406,d="Not Acceptable"):c.length===1?c=c[0]:c=null)}else{var b;const x=await s.text();try{l=JSON.parse(x),Array.isArray(l)&&s.status===404&&(c=[],l=null,u=200,d="OK")}catch{s.status===404&&x===""?(u=204,d="No Content"):l={message:x}}if(l&&a.isMaybeSingle&&(!(l==null||(b=l.details)===null||b===void 0)&&b.includes("0 rows"))&&(l=null,u=200,d="OK"),l&&a.shouldThrowOnError)throw new mb(l)}return{error:l,data:c,count:o,status:u,statusText:d}});return this.shouldThrowOnError||(i=i.catch(s=>{var l;let c="",o="",u="";const d=s==null?void 0:s.cause;if(d){var m,h,f,b;const g=(m=d==null?void 0:d.message)!==null&&m!==void 0?m:"",p=(h=d==null?void 0:d.code)!==null&&h!==void 0?h:"";c=`${(f=s==null?void 0:s.name)!==null&&f!==void 0?f:"FetchError"}: ${s==null?void 0:s.message}`,c+=`

Caused by: ${(b=d==null?void 0:d.name)!==null&&b!==void 0?b:"Error"}: ${g}`,p&&(c+=` (${p})`),d!=null&&d.stack&&(c+=`
${d.stack}`)}else{var x;c=(x=s==null?void 0:s.stack)!==null&&x!==void 0?x:""}const w=this.url.toString().length;return(s==null?void 0:s.name)==="AbortError"||(s==null?void 0:s.code)==="ABORT_ERR"?(u="",o="Request was aborted (timeout or manual cancellation)",w>this.urlLengthLimit&&(o+=`. Note: Your request URL is ${w} characters, which may exceed server limits. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [many IDs])), consider using an RPC function to pass values server-side.`)):((d==null?void 0:d.name)==="HeadersOverflowError"||(d==null?void 0:d.code)==="UND_ERR_HEADERS_OVERFLOW")&&(u="",o="HTTP headers exceeded server limits (typically 16KB)",w>this.urlLengthLimit&&(o+=`. Your request URL is ${w} characters. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [200+ IDs])), consider using an RPC function instead.`)),{error:{message:`${(l=s==null?void 0:s.name)!==null&&l!==void 0?l:"FetchError"}: ${s==null?void 0:s.message}`,details:c,hint:o,code:u},data:null,count:null,status:0,statusText:""}})),i.then(e,t)}returns(){return this}overrideTypes(){return this}},gb=class extends pb{select(e){let t=!1;const a=(e??"*").split("").map(n=>/\s/.test(n)&&!t?"":(n==='"'&&(t=!t),n)).join("");return this.url.searchParams.set("select",a),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:a,foreignTable:n,referencedTable:i=n}={}){const s=i?`${i}.order`:"order",l=this.url.searchParams.get(s);return this.url.searchParams.set(s,`${l?`${l},`:""}${e}.${t?"asc":"desc"}${a===void 0?"":a?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:a=t}={}){const n=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(n,`${e}`),this}range(e,t,{foreignTable:a,referencedTable:n=a}={}){const i=typeof n>"u"?"offset":`${n}.offset`,s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(s,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:a=!1,buffers:n=!1,wal:i=!1,format:s="text"}={}){var l;const c=[e?"analyze":null,t?"verbose":null,a?"settings":null,n?"buffers":null,i?"wal":null].filter(Boolean).join("|"),o=(l=this.headers.get("Accept"))!==null&&l!==void 0?l:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${s}; for="${o}"; options=${c};`),s==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};const lh=new RegExp("[,()]");var Sn=class extends gb{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}regexMatch(e,t){return this.url.searchParams.append(e,`match.${t}`),this}regexIMatch(e,t){return this.url.searchParams.append(e,`imatch.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}isDistinct(e,t){return this.url.searchParams.append(e,`isdistinct.${t}`),this}in(e,t){const a=Array.from(new Set(t)).map(n=>typeof n=="string"&&lh.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`in.(${a})`),this}notIn(e,t){const a=Array.from(new Set(t)).map(n=>typeof n=="string"&&lh.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`not.in.(${a})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:a,type:n}={}){let i="";n==="plain"?i="pl":n==="phrase"?i="ph":n==="websearch"&&(i="w");const s=a===void 0?"":`(${a})`;return this.url.searchParams.append(e,`${i}fts${s}.${t}`),this}match(e){return Object.entries(e).forEach(([t,a])=>{this.url.searchParams.append(t,`eq.${a}`)}),this}not(e,t,a){return this.url.searchParams.append(e,`not.${t}.${a}`),this}or(e,{foreignTable:t,referencedTable:a=t}={}){const n=a?`${a}.or`:"or";return this.url.searchParams.append(n,`(${e})`),this}filter(e,t,a){return this.url.searchParams.append(e,`${t}.${a}`),this}},vb=class{constructor(e,{headers:t={},schema:a,fetch:n,urlLengthLimit:i=8e3}){this.url=e,this.headers=new Headers(t),this.schema=a,this.fetch=n,this.urlLengthLimit=i}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(e,t){const{head:a=!1,count:n}=t??{},i=a?"HEAD":"GET";let s=!1;const l=(e??"*").split("").map(u=>/\s/.test(u)&&!s?"":(u==='"'&&(s=!s),u)).join(""),{url:c,headers:o}=this.cloneRequestState();return c.searchParams.set("select",l),n&&o.append("Prefer",`count=${n}`),new Sn({method:i,url:c,headers:o,schema:this.schema,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}insert(e,{count:t,defaultToNull:a=!0}={}){var n;const i="POST",{url:s,headers:l}=this.cloneRequestState();if(t&&l.append("Prefer",`count=${t}`),a||l.append("Prefer","missing=default"),Array.isArray(e)){const c=e.reduce((o,u)=>o.concat(Object.keys(u)),[]);if(c.length>0){const o=[...new Set(c)].map(u=>`"${u}"`);s.searchParams.set("columns",o.join(","))}}return new Sn({method:i,url:s,headers:l,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch,urlLengthLimit:this.urlLengthLimit})}upsert(e,{onConflict:t,ignoreDuplicates:a=!1,count:n,defaultToNull:i=!0}={}){var s;const l="POST",{url:c,headers:o}=this.cloneRequestState();if(o.append("Prefer",`resolution=${a?"ignore":"merge"}-duplicates`),t!==void 0&&c.searchParams.set("on_conflict",t),n&&o.append("Prefer",`count=${n}`),i||o.append("Prefer","missing=default"),Array.isArray(e)){const u=e.reduce((d,m)=>d.concat(Object.keys(m)),[]);if(u.length>0){const d=[...new Set(u)].map(m=>`"${m}"`);c.searchParams.set("columns",d.join(","))}}return new Sn({method:l,url:c,headers:o,schema:this.schema,body:e,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch,urlLengthLimit:this.urlLengthLimit})}update(e,{count:t}={}){var a;const n="PATCH",{url:i,headers:s}=this.cloneRequestState();return t&&s.append("Prefer",`count=${t}`),new Sn({method:n,url:i,headers:s,schema:this.schema,body:e,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch,urlLengthLimit:this.urlLengthLimit})}delete({count:e}={}){var t;const a="DELETE",{url:n,headers:i}=this.cloneRequestState();return e&&i.append("Prefer",`count=${e}`),new Sn({method:a,url:n,headers:i,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch,urlLengthLimit:this.urlLengthLimit})}};function ls(e){"@babel/helpers - typeof";return ls=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ls(e)}function bb(e,t){if(ls(e)!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var n=a.call(e,t);if(ls(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function yb(e){var t=bb(e,"string");return ls(t)=="symbol"?t:t+""}function xb(e,t,a){return(t=yb(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function rh(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),a.push.apply(a,n)}return a}function Ks(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?rh(Object(a),!0).forEach(function(n){xb(e,n,a[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):rh(Object(a)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))})}return e}var _b=class qp{constructor(t,{headers:a={},schema:n,fetch:i,timeout:s,urlLengthLimit:l=8e3}={}){this.url=t,this.headers=new Headers(a),this.schemaName=n,this.urlLengthLimit=l;const c=i??globalThis.fetch;s!==void 0&&s>0?this.fetch=(o,u)=>{const d=new AbortController,m=setTimeout(()=>d.abort(),s),h=u==null?void 0:u.signal;if(h){if(h.aborted)return clearTimeout(m),c(o,u);const f=()=>{clearTimeout(m),d.abort()};return h.addEventListener("abort",f,{once:!0}),c(o,Ks(Ks({},u),{},{signal:d.signal})).finally(()=>{clearTimeout(m),h.removeEventListener("abort",f)})}return c(o,Ks(Ks({},u),{},{signal:d.signal})).finally(()=>clearTimeout(m))}:this.fetch=c}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new vb(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}schema(t){return new qp(this.url,{headers:this.headers,schema:t,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}rpc(t,a={},{head:n=!1,get:i=!1,count:s}={}){var l;let c;const o=new URL(`${this.url}/rpc/${t}`);let u;const d=f=>f!==null&&typeof f=="object"&&(!Array.isArray(f)||f.some(d)),m=n&&Object.values(a).some(d);m?(c="POST",u=a):n||i?(c=n?"HEAD":"GET",Object.entries(a).filter(([f,b])=>b!==void 0).map(([f,b])=>[f,Array.isArray(b)?`{${b.join(",")}}`:`${b}`]).forEach(([f,b])=>{o.searchParams.append(f,b)})):(c="POST",u=a);const h=new Headers(this.headers);return m?h.set("Prefer",s?`count=${s},return=minimal`:"return=minimal"):s&&h.set("Prefer",`count=${s}`),new Sn({method:c,url:o,headers:h,schema:this.schemaName,body:u,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch,urlLengthLimit:this.urlLengthLimit})}};class wb{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const a=globalThis.process;if(a){const n=a.versions;if(n&&n.node){const i=n.node,s=parseInt(i.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let a=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(a+=`

Suggested solution: ${t.workaround}`),new Error(a)}static createWebSocket(t,a){const n=this.getWebSocketConstructor();return new n(t,a)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const Sb="2.94.0",jb=`realtime-js/${Sb}`,Eb="1.0.0",Hp="2.0.0",ch=Hp,so=1e4,Nb=1e3,Tb=100;var ha;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(ha||(ha={}));var Ae;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Ae||(Ae={}));var Ot;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Ot||(Ot={}));var lo;(function(e){e.websocket="websocket"})(lo||(lo={}));var Ia;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Ia||(Ia={}));class kb{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,a){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return a(this._binaryEncodeUserBroadcastPush(t));let n=[t.join_ref,t.ref,t.topic,t.event,t.payload];return a(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(t){var a;return this._isArrayBuffer((a=t.payload)===null||a===void 0?void 0:a.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var a,n;const i=(n=(a=t.payload)===null||a===void 0?void 0:a.payload)!==null&&n!==void 0?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,i)}_encodeJsonUserBroadcastPush(t){var a,n;const i=(n=(a=t.payload)===null||a===void 0?void 0:a.payload)!==null&&n!==void 0?n:{},l=new TextEncoder().encode(JSON.stringify(i)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,l)}_encodeUserBroadcastPush(t,a,n){var i,s;const l=t.topic,c=(i=t.ref)!==null&&i!==void 0?i:"",o=(s=t.join_ref)!==null&&s!==void 0?s:"",u=t.payload.event,d=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},m=Object.keys(d).length===0?"":JSON.stringify(d);if(o.length>255)throw new Error(`joinRef length ${o.length} exceeds maximum of 255`);if(c.length>255)throw new Error(`ref length ${c.length} exceeds maximum of 255`);if(l.length>255)throw new Error(`topic length ${l.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`userEvent length ${u.length} exceeds maximum of 255`);if(m.length>255)throw new Error(`metadata length ${m.length} exceeds maximum of 255`);const h=this.USER_BROADCAST_PUSH_META_LENGTH+o.length+c.length+l.length+u.length+m.length,f=new ArrayBuffer(this.HEADER_LENGTH+h);let b=new DataView(f),x=0;b.setUint8(x++,this.KINDS.userBroadcastPush),b.setUint8(x++,o.length),b.setUint8(x++,c.length),b.setUint8(x++,l.length),b.setUint8(x++,u.length),b.setUint8(x++,m.length),b.setUint8(x++,a),Array.from(o,g=>b.setUint8(x++,g.charCodeAt(0))),Array.from(c,g=>b.setUint8(x++,g.charCodeAt(0))),Array.from(l,g=>b.setUint8(x++,g.charCodeAt(0))),Array.from(u,g=>b.setUint8(x++,g.charCodeAt(0))),Array.from(m,g=>b.setUint8(x++,g.charCodeAt(0)));var w=new Uint8Array(f.byteLength+n.byteLength);return w.set(new Uint8Array(f),0),w.set(new Uint8Array(n),f.byteLength),w.buffer}decode(t,a){if(this._isArrayBuffer(t)){let n=this._binaryDecode(t);return a(n)}if(typeof t=="string"){const n=JSON.parse(t),[i,s,l,c,o]=n;return a({join_ref:i,ref:s,topic:l,event:c,payload:o})}return a({})}_binaryDecode(t){const a=new DataView(t),n=a.getUint8(0),i=new TextDecoder;switch(n){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,a,i)}}_decodeUserBroadcast(t,a,n){const i=a.getUint8(1),s=a.getUint8(2),l=a.getUint8(3),c=a.getUint8(4);let o=this.HEADER_LENGTH+4;const u=n.decode(t.slice(o,o+i));o=o+i;const d=n.decode(t.slice(o,o+s));o=o+s;const m=n.decode(t.slice(o,o+l));o=o+l;const h=t.slice(o,t.byteLength),f=c===this.JSON_ENCODING?JSON.parse(n.decode(h)):h,b={type:this.BROADCAST_EVENT,event:d,payload:f};return l>0&&(b.meta=JSON.parse(m)),{join_ref:null,ref:null,topic:u,event:this.BROADCAST_EVENT,payload:b}}_isArrayBuffer(t){var a;return t instanceof ArrayBuffer||((a=t==null?void 0:t.constructor)===null||a===void 0?void 0:a.name)==="ArrayBuffer"}_pick(t,a){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([n])=>a.includes(n)))}}class $p{constructor(t,a){this.callback=t,this.timerCalc=a,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=a}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var re;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(re||(re={}));const oh=(e,t,a={})=>{var n;const i=(n=a.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((s,l)=>(s[l]=Ab(l,e,t,i),s),{}):{}},Ab=(e,t,a,n)=>{const i=t.find(c=>c.name===e),s=i==null?void 0:i.type,l=a[e];return s&&!n.includes(s)?Gp(s,l):ro(l)},Gp=(e,t)=>{if(e.charAt(0)==="_"){const a=e.slice(1,e.length);return Cb(t,a)}switch(e){case re.bool:return Ob(t);case re.float4:case re.float8:case re.int2:case re.int4:case re.int8:case re.numeric:case re.oid:return zb(t);case re.json:case re.jsonb:return Rb(t);case re.timestamp:return Db(t);case re.abstime:case re.date:case re.daterange:case re.int4range:case re.int8range:case re.money:case re.reltime:case re.text:case re.time:case re.timestamptz:case re.timetz:case re.tsrange:case re.tstzrange:return ro(t);default:return ro(t)}},ro=e=>e,Ob=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},zb=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},Rb=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e},Cb=(e,t)=>{if(typeof e!="string")return e;const a=e.length-1,n=e[a];if(e[0]==="{"&&n==="}"){let s;const l=e.slice(1,a);try{s=JSON.parse("["+l+"]")}catch{s=l?l.split(","):[]}return s.map(c=>Gp(t,c))}return e},Db=e=>typeof e=="string"?e.replace(" ","T"):e,Vp=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class ec{constructor(t,a,n={},i=so){this.channel=t,this.event=a,this.payload=n,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,a){var n;return this._hasReceived(t)&&a((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:a}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=a=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=a,this._matchReceive(a)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,a){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:a})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:a}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(a))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var uh;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(uh||(uh={}));class Yi{constructor(t,a){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(a==null?void 0:a.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},i=>{const{onJoin:s,onLeave:l,onSync:c}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Yi.syncState(this.state,i,s,l),this.pendingDiffs.forEach(o=>{this.state=Yi.syncDiff(this.state,o,s,l)}),this.pendingDiffs=[],c()}),this.channel._on(n.diff,{},i=>{const{onJoin:s,onLeave:l,onSync:c}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Yi.syncDiff(this.state,i,s,l),c())}),this.onJoin((i,s,l)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:s,newPresences:l})}),this.onLeave((i,s,l)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:s,leftPresences:l})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,a,n,i){const s=this.cloneDeep(t),l=this.transformState(a),c={},o={};return this.map(s,(u,d)=>{l[u]||(o[u]=d)}),this.map(l,(u,d)=>{const m=s[u];if(m){const h=d.map(w=>w.presence_ref),f=m.map(w=>w.presence_ref),b=d.filter(w=>f.indexOf(w.presence_ref)<0),x=m.filter(w=>h.indexOf(w.presence_ref)<0);b.length>0&&(c[u]=b),x.length>0&&(o[u]=x)}else c[u]=d}),this.syncDiff(s,{joins:c,leaves:o},n,i)}static syncDiff(t,a,n,i){const{joins:s,leaves:l}={joins:this.transformState(a.joins),leaves:this.transformState(a.leaves)};return n||(n=()=>{}),i||(i=()=>{}),this.map(s,(c,o)=>{var u;const d=(u=t[c])!==null&&u!==void 0?u:[];if(t[c]=this.cloneDeep(o),d.length>0){const m=t[c].map(f=>f.presence_ref),h=d.filter(f=>m.indexOf(f.presence_ref)<0);t[c].unshift(...h)}n(c,d,o)}),this.map(l,(c,o)=>{let u=t[c];if(!u)return;const d=o.map(m=>m.presence_ref);u=u.filter(m=>d.indexOf(m.presence_ref)<0),t[c]=u,i(c,u,o),u.length===0&&delete t[c]}),t}static map(t,a){return Object.getOwnPropertyNames(t).map(n=>a(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((a,n)=>{const i=t[n];return"metas"in i?a[n]=i.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):a[n]=i,a},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var dh;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(dh||(dh={}));var Ki;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Ki||(Ki={}));var Qt;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Qt||(Qt={}));class Bn{constructor(t,a={config:{}},n){var i,s;if(this.topic=t,this.params=a,this.socket=n,this.bindings={},this.state=Ae.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},a.config),this.timeout=this.socket.timeout,this.joinPush=new ec(this,Ot.join,this.params,this.timeout),this.rejoinTimer=new $p(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ae.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(l=>l.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ae.closed,this.socket._remove(this)}),this._onError(l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=Ae.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ae.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=Ae.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ot.reply,{},(l,c)=>{this._trigger(this._replyEventName(c),l)}),this.presence=new Yi(this),this.broadcastEndpointURL=Vp(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((s=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||s===void 0)&&s.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,a=this.timeout){var n,i,s;if(this.socket.isConnected()||this.socket.connect(),this.state==Ae.closed){const{config:{broadcast:l,presence:c,private:o}}=this.params,u=(i=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(f=>f.filter))!==null&&i!==void 0?i:[],d=!!this.bindings[Ki.PRESENCE]&&this.bindings[Ki.PRESENCE].length>0||((s=this.params.config.presence)===null||s===void 0?void 0:s.enabled)===!0,m={},h={broadcast:l,presence:Object.assign(Object.assign({},c),{enabled:d}),postgres_changes:u,private:o};this.socket.accessTokenValue&&(m.access_token=this.socket.accessTokenValue),this._onError(f=>t==null?void 0:t(Qt.CHANNEL_ERROR,f)),this._onClose(()=>t==null?void 0:t(Qt.CLOSED)),this.updateJoinPayload(Object.assign({config:h},m)),this.joinedOnce=!0,this._rejoin(a),this.joinPush.receive("ok",async({postgres_changes:f})=>{var b;if(this.socket._isManualToken()||this.socket.setAuth(),f===void 0){t==null||t(Qt.SUBSCRIBED);return}else{const x=this.bindings.postgres_changes,w=(b=x==null?void 0:x.length)!==null&&b!==void 0?b:0,g=[];for(let p=0;p<w;p++){const v=x[p],{filter:{event:y,schema:N,table:O,filter:S}}=v,k=f&&f[p];if(k&&k.event===y&&Bn.isFilterValueEqual(k.schema,N)&&Bn.isFilterValueEqual(k.table,O)&&Bn.isFilterValueEqual(k.filter,S))g.push(Object.assign(Object.assign({},v),{id:k.id}));else{this.unsubscribe(),this.state=Ae.errored,t==null||t(Qt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=g,t&&t(Qt.SUBSCRIBED);return}}).receive("error",f=>{this.state=Ae.errored,t==null||t(Qt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(f).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Qt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,a={}){return await this.send({type:"presence",event:"track",payload:t},a.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,a,n){return this.state===Ae.joined&&t===Ki.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,a,n)}async httpSend(t,a,n={}){var i;if(a==null)return Promise.reject("Payload is required for httpSend()");const s={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(s.Authorization=`Bearer ${this.socket.accessTokenValue}`);const l={method:"POST",headers:s,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:a,private:this.private}]})},c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(i=n.timeout)!==null&&i!==void 0?i:this.timeout);if(c.status===202)return{success:!0};let o=c.statusText;try{const u=await c.json();o=u.error||u.message||o}catch{}return Promise.reject(new Error(o))}async send(t,a={}){var n,i;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:s,payload:l}=t,c={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(c.Authorization=`Bearer ${this.socket.accessTokenValue}`);const o={method:"POST",headers:c,body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:l,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(n=a.timeout)!==null&&n!==void 0?n:this.timeout);return await((i=u.body)===null||i===void 0?void 0:i.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var l,c,o;const u=this._push(t.type,t,a.timeout||this.timeout);t.type==="broadcast"&&!(!((o=(c=(l=this.params)===null||l===void 0?void 0:l.config)===null||c===void 0?void 0:c.broadcast)===null||o===void 0)&&o.ack)&&s("ok"),u.receive("ok",()=>s("ok")),u.receive("error",()=>s("error")),u.receive("timeout",()=>s("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Ae.leaving;const a=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ot.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(i=>{n=new ec(this,Ot.leave,{},t),n.receive("ok",()=>{a(),i("ok")}).receive("timeout",()=>{a(),i("timed out")}).receive("error",()=>{i("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Ae.closed,this.bindings={}}async _fetchWithTimeout(t,a,n){const i=new AbortController,s=setTimeout(()=>i.abort(),n),l=await this.socket.fetch(t,Object.assign(Object.assign({},a),{signal:i.signal}));return clearTimeout(s),l}_push(t,a,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new ec(this,t,a,n);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>Tb){const a=this.pushBuffer.shift();a&&(a.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${a.event}`,a.payload))}}_onMessage(t,a,n){return a}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,a,n){var i,s;const l=t.toLocaleLowerCase(),{close:c,error:o,leave:u,join:d}=Ot;if(n&&[c,o,u,d].indexOf(l)>=0&&n!==this._joinRef())return;let h=this._onMessage(l,a,n);if(a&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(l)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(f=>{var b,x,w;return((b=f.filter)===null||b===void 0?void 0:b.event)==="*"||((w=(x=f.filter)===null||x===void 0?void 0:x.event)===null||w===void 0?void 0:w.toLocaleLowerCase())===l}).map(f=>f.callback(h,n)):(s=this.bindings[l])===null||s===void 0||s.filter(f=>{var b,x,w,g,p,v;if(["broadcast","presence","postgres_changes"].includes(l))if("id"in f){const y=f.id,N=(b=f.filter)===null||b===void 0?void 0:b.event;return y&&((x=a.ids)===null||x===void 0?void 0:x.includes(y))&&(N==="*"||(N==null?void 0:N.toLocaleLowerCase())===((w=a.data)===null||w===void 0?void 0:w.type.toLocaleLowerCase()))}else{const y=(p=(g=f==null?void 0:f.filter)===null||g===void 0?void 0:g.event)===null||p===void 0?void 0:p.toLocaleLowerCase();return y==="*"||y===((v=a==null?void 0:a.event)===null||v===void 0?void 0:v.toLocaleLowerCase())}else return f.type.toLocaleLowerCase()===l}).map(f=>{if(typeof h=="object"&&"ids"in h){const b=h.data,{schema:x,table:w,commit_timestamp:g,type:p,errors:v}=b;h=Object.assign(Object.assign({},{schema:x,table:w,commit_timestamp:g,eventType:p,new:{},old:{},errors:v}),this._getPayloadRecords(b))}f.callback(h,n)})}_isClosed(){return this.state===Ae.closed}_isJoined(){return this.state===Ae.joined}_isJoining(){return this.state===Ae.joining}_isLeaving(){return this.state===Ae.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,a,n){const i=t.toLocaleLowerCase(),s={type:i,filter:a,callback:n};return this.bindings[i]?this.bindings[i].push(s):this.bindings[i]=[s],this}_off(t,a){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(i=>{var s;return!(((s=i.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===n&&Bn.isEqual(i.filter,a))})),this}static isEqual(t,a){if(Object.keys(t).length!==Object.keys(a).length)return!1;for(const n in t)if(t[n]!==a[n])return!1;return!0}static isFilterValueEqual(t,a){return(t??void 0)===(a??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Ot.close,{},t)}_onError(t){this._on(Ot.error,{},a=>t(a))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ae.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const a={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(a.new=oh(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(a.old=oh(t.columns,t.old_record)),a}}const tc=()=>{},Is={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Ub=[1e3,2e3,5e3,1e4],Mb=1e4,Lb=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Bb{constructor(t,a){var n;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=so,this.transport=null,this.heartbeatIntervalMs=Is.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=tc,this.ref=0,this.reconnectTimer=null,this.vsn=ch,this.logger=tc,this.conn=null,this.sendBuffer=[],this.serializer=new kb,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=i=>i?(...s)=>i(...s):(...s)=>fetch(...s),!(!((n=a==null?void 0:a.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=a.params.apikey,this.endPoint=`${t}/${lo.websocket}`,this.httpEndpoint=Vp(t),this._initializeOptions(a),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(a==null?void 0:a.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=wb.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const a=t.message;throw a.includes("Node.js")?new Error(`${a}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${a}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,a){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,a??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const a=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),a}async removeAllChannels(){const t=await Promise.all(this.channels.map(a=>a.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,a,n){this.logger(t,a,n)}connectionState(){switch(this.conn&&this.conn.readyState){case ha.connecting:return Ia.Connecting;case ha.open:return Ia.Open;case ha.closing:return Ia.Closing;default:return Ia.Closed}}isConnected(){return this.connectionState()===Ia.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,a={config:{}}){const n=`realtime:${t}`,i=this.getChannels().find(s=>s.topic===n);if(i)return i;{const s=new Bn(`realtime:${t}`,a,this);return this.channels.push(s),s}}push(t){const{topic:a,event:n,payload:i,ref:s}=t,l=()=>{this.encode(t,c=>{var o;(o=this.conn)===null||o===void 0||o.send(c)})};this.log("push",`${a} ${n} (${s})`,i),this.isConnected()?l():this.sendBuffer.push(l)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(a){this.log("error","error in heartbeat callback",a)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(a){this.log("error","error in heartbeat callback",a)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(Nb,"heartbeat timeout"),setTimeout(()=>{var a;this.isConnected()||(a=this.reconnectTimer)===null||a===void 0||a.scheduleTimeout()},Is.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(a){this.log("error","error in heartbeat callback",a)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let a=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));a&&(this.log("transport",`leaving duplicate topic "${t}"`),a.unsubscribe())}_remove(t){this.channels=this.channels.filter(a=>a.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,a=>{if(a.topic==="phoenix"&&a.event==="phx_reply"&&a.ref&&a.ref===this.pendingHeartbeatRef){const u=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(a.payload.status==="ok"?"ok":"error",u)}catch(d){this.log("error","error in heartbeat callback",d)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:n,event:i,payload:s,ref:l}=a,c=l?`(${l})`:"",o=s.status||"";this.log("receive",`${o} ${n} ${i} ${c}`.trim(),s),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(i,s,l)),this._triggerStateCallbacks("message",a)})}_clearTimer(t){var a;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((a=this.reconnectTimer)===null||a===void 0||a.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===ha.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===ha.open||this.conn.readyState===ha.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(a=>{this.log("error","error waiting for auth on connect",a),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=a=>{this.log("worker","worker error",a.message),this._terminateWorker()},this.workerRef.onmessage=a=>{a.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var a;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(a=this.reconnectTimer)===null||a===void 0||a.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t);try{this.heartbeatCallback("error")}catch(a){this.log("error","error in heartbeat callback",a)}}_triggerChanError(){this.channels.forEach(t=>t._trigger(Ot.error))}_appendParams(t,a){if(Object.keys(a).length===0)return t;const n=t.match(/\?/)?"&":"?",i=new URLSearchParams(a);return`${t}${n}${i}`}_workerObjectUrl(t){let a;if(t)a=t;else{const n=new Blob([Lb],{type:"application/javascript"});a=URL.createObjectURL(n)}return a}_setConnectionState(t,a=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=a)}async _performAuth(t=null){let a,n=!1;if(t)a=t,n=!0;else if(this.accessToken)try{a=await this.accessToken()}catch(i){this.log("error","Error fetching access token from callback",i),a=this.accessTokenValue}else a=this.accessTokenValue;n?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=a&&(this.accessTokenValue=a,this.channels.forEach(i=>{const s={access_token:a,version:jb};a&&i.updateJoinPayload(s),i.joinedOnce&&i._isJoined()&&i._push(Ot.access_token,{access_token:a})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(a=>{this.log("error",`Error setting auth in ${t}`,a)})}_triggerStateCallbacks(t,a){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(a)}catch(i){this.log("error",`error in ${t} callback`,i)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new $p(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Is.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var a,n,i,s,l,c,o,u,d,m,h,f;switch(this.transport=(a=t==null?void 0:t.transport)!==null&&a!==void 0?a:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:so,this.heartbeatIntervalMs=(i=t==null?void 0:t.heartbeatIntervalMs)!==null&&i!==void 0?i:Is.HEARTBEAT_INTERVAL,this.worker=(s=t==null?void 0:t.worker)!==null&&s!==void 0?s:!1,this.accessToken=(l=t==null?void 0:t.accessToken)!==null&&l!==void 0?l:null,this.heartbeatCallback=(c=t==null?void 0:t.heartbeatCallback)!==null&&c!==void 0?c:tc,this.vsn=(o=t==null?void 0:t.vsn)!==null&&o!==void 0?o:ch,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=t==null?void 0:t.reconnectAfterMs)!==null&&u!==void 0?u:b=>Ub[b-1]||Mb,this.vsn){case Eb:this.encode=(d=t==null?void 0:t.encode)!==null&&d!==void 0?d:(b,x)=>x(JSON.stringify(b)),this.decode=(m=t==null?void 0:t.decode)!==null&&m!==void 0?m:(b,x)=>x(JSON.parse(b));break;case Hp:this.encode=(h=t==null?void 0:t.encode)!==null&&h!==void 0?h:this.serializer.encode.bind(this.serializer),this.decode=(f=t==null?void 0:t.decode)!==null&&f!==void 0?f:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}var rs=class extends Error{constructor(e,t){var a;super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&((a=t.icebergType)==null?void 0:a.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function qb(e,t,a){const n=new URL(t,e);if(a)for(const[i,s]of Object.entries(a))s!==void 0&&n.searchParams.set(i,s);return n.toString()}async function Hb(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function $b(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:a,path:n,query:i,body:s,headers:l}){const c=qb(e.baseUrl,n,i),o=await Hb(e.auth),u=await t(c,{method:a,headers:{...s?{"Content-Type":"application/json"}:{},...o,...l},body:s?JSON.stringify(s):void 0}),d=await u.text(),m=(u.headers.get("content-type")||"").includes("application/json"),h=m&&d?JSON.parse(d):d;if(!u.ok){const f=m?h:void 0,b=f==null?void 0:f.error;throw new rs((b==null?void 0:b.message)??`Request failed with status ${u.status}`,{status:u.status,icebergType:b==null?void 0:b.type,icebergCode:b==null?void 0:b.code,details:f})}return{status:u.status,headers:u.headers,data:h}}}}function Qs(e){return e.join("")}var Gb=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:Qs(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(n=>({namespace:n}))}async createNamespace(e,t){const a={namespace:e.namespace,properties:t==null?void 0:t.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:a})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Qs(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Qs(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Qs(e.namespace)}`}),!0}catch(t){if(t instanceof rs&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(a){if(a instanceof rs&&a.status===409)return;throw a}}};function mn(e){return e.join("")}var Vb=class{constructor(e,t="",a){this.client=e,this.prefix=t,this.accessDelegation=a}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${mn(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const a={};return this.accessDelegation&&(a["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${mn(e.namespace)}/tables`,body:t,headers:a})).data.metadata}async updateTable(e,t){const a=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${mn(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":a.data["metadata-location"],metadata:a.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${mn(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String((t==null?void 0:t.purge)??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${mn(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${mn(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(a){if(a instanceof rs&&a.status===404)return!1;throw a}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(a){if(a instanceof rs&&a.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw a}}},Yb=class{constructor(e){var n;let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const a=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=$b({baseUrl:a,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=(n=e.accessDelegation)==null?void 0:n.join(","),this.namespaceOps=new Gb(this.client,t),this.tableOps=new Vb(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}},hr=class extends Error{constructor(e,t="storage",a,n){super(e),this.__isStorageError=!0,this.namespace=t,this.name=t==="vectors"?"StorageVectorsError":"StorageError",this.status=a,this.statusCode=n}};function fr(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var Xs=class extends hr{constructor(e,t,a,n="storage"){super(e,n,t,a),this.name=n==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=t,this.statusCode=a}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Yp=class extends hr{constructor(e,t,a="storage"){super(e,a),this.name=a==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=t}};const Kb=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),Ib=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},co=e=>{if(Array.isArray(e))return e.map(a=>co(a));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([a,n])=>{const i=a.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));t[i]=co(n)}),t},Qb=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e);function cs(e){"@babel/helpers - typeof";return cs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cs(e)}function Xb(e,t){if(cs(e)!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var n=a.call(e,t);if(cs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Jb(e){var t=Xb(e,"string");return cs(t)=="symbol"?t:t+""}function Pb(e,t,a){return(t=Jb(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function hh(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),a.push.apply(a,n)}return a}function q(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?hh(Object(a),!0).forEach(function(n){Pb(e,n,a[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):hh(Object(a)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))})}return e}const fh=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},Zb=async(e,t,a,n)=>{if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(a!=null&&a.noResolveJson)){const i=e,s=i.status||500;if(typeof i.json=="function")i.json().then(l=>{const c=(l==null?void 0:l.statusCode)||(l==null?void 0:l.code)||s+"";t(new Xs(fh(l),s,c,n))}).catch(()=>{if(n==="vectors"){const l=s+"";t(new Xs(i.statusText||`HTTP ${s} error`,s,l,n))}else{const l=s+"";t(new Xs(i.statusText||`HTTP ${s} error`,s,l,n))}});else{const l=s+"";t(new Xs(i.statusText||`HTTP ${s} error`,s,l,n))}}else t(new Yp(fh(e),e,n))},Wb=(e,t,a,n)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||e==="HEAD"||!n?q(q({},i),a):(Ib(n)?(i.headers=q({"Content-Type":"application/json"},t==null?void 0:t.headers),i.body=JSON.stringify(n)):i.body=n,t!=null&&t.duplex&&(i.duplex=t.duplex),q(q({},i),a))};async function Si(e,t,a,n,i,s,l){return new Promise((c,o)=>{e(a,Wb(t,n,i,s)).then(u=>{if(!u.ok)throw u;if(n!=null&&n.noResolveJson)return u;if(l==="vectors"){const d=u.headers.get("content-type");if(u.headers.get("content-length")==="0"||u.status===204)return{};if(!d||!d.includes("application/json"))return{}}return u.json()}).then(u=>c(u)).catch(u=>Zb(u,o,n,l))})}function Kp(e="storage"){return{get:async(t,a,n,i)=>Si(t,"GET",a,n,i,void 0,e),post:async(t,a,n,i,s)=>Si(t,"POST",a,i,s,n,e),put:async(t,a,n,i,s)=>Si(t,"PUT",a,i,s,n,e),head:async(t,a,n,i)=>Si(t,"HEAD",a,q(q({},n),{},{noResolveJson:!0}),i,void 0,e),remove:async(t,a,n,i,s)=>Si(t,"DELETE",a,i,s,n,e)}}const Fb=Kp("storage"),{get:os,post:kt,put:oo,head:ey,remove:xu}=Fb,st=Kp("vectors");var hi=class{constructor(e,t={},a,n="storage"){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.fetch=Kb(a),this.namespace=n}throwOnError(){return this.shouldThrowOnError=!0,this}async handleOperation(e){var t=this;try{return{data:await e(),error:null}}catch(a){if(t.shouldThrowOnError)throw a;if(fr(a))return{data:null,error:a};throw a}}},ty=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}async execute(){var e=this;try{return{data:(await e.downloadFn()).body,error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(fr(t))return{data:null,error:t};throw t}}};let Ip;Ip=Symbol.toStringTag;var ay=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[Ip]="BlobDownloadBuilder",this.promise=null}asStream(){return new ty(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var e=this;try{return{data:await(await e.downloadFn()).blob(),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(fr(t))return{data:null,error:t};throw t}}};const ny={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},mh={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var iy=class extends hi{constructor(e,t={},a,n){super(e,t,n,"storage"),this.bucketId=a}async uploadOrUpdate(e,t,a,n){var i=this;return i.handleOperation(async()=>{let s;const l=q(q({},mh),n);let c=q(q({},i.headers),e==="POST"&&{"x-upsert":String(l.upsert)});const o=l.metadata;typeof Blob<"u"&&a instanceof Blob?(s=new FormData,s.append("cacheControl",l.cacheControl),o&&s.append("metadata",i.encodeMetadata(o)),s.append("",a)):typeof FormData<"u"&&a instanceof FormData?(s=a,s.has("cacheControl")||s.append("cacheControl",l.cacheControl),o&&!s.has("metadata")&&s.append("metadata",i.encodeMetadata(o))):(s=a,c["cache-control"]=`max-age=${l.cacheControl}`,c["content-type"]=l.contentType,o&&(c["x-metadata"]=i.toBase64(i.encodeMetadata(o))),(typeof ReadableStream<"u"&&s instanceof ReadableStream||s&&typeof s=="object"&&"pipe"in s&&typeof s.pipe=="function")&&!l.duplex&&(l.duplex="half")),n!=null&&n.headers&&(c=q(q({},c),n.headers));const u=i._removeEmptyFolders(t),d=i._getFinalPath(u),m=await(e=="PUT"?oo:kt)(i.fetch,`${i.url}/object/${d}`,s,q({headers:c},l!=null&&l.duplex?{duplex:l.duplex}:{}));return{path:u,id:m.Id,fullPath:m.Key}})}async upload(e,t,a){return this.uploadOrUpdate("POST",e,t,a)}async uploadToSignedUrl(e,t,a,n){var i=this;const s=i._removeEmptyFolders(e),l=i._getFinalPath(s),c=new URL(i.url+`/object/upload/sign/${l}`);return c.searchParams.set("token",t),i.handleOperation(async()=>{let o;const u=q({upsert:mh.upsert},n),d=q(q({},i.headers),{"x-upsert":String(u.upsert)});return typeof Blob<"u"&&a instanceof Blob?(o=new FormData,o.append("cacheControl",u.cacheControl),o.append("",a)):typeof FormData<"u"&&a instanceof FormData?(o=a,o.append("cacheControl",u.cacheControl)):(o=a,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType),{path:s,fullPath:(await oo(i.fetch,c.toString(),o,{headers:d})).Key}})}async createSignedUploadUrl(e,t){var a=this;return a.handleOperation(async()=>{let n=a._getFinalPath(e);const i=q({},a.headers);t!=null&&t.upsert&&(i["x-upsert"]="true");const s=await kt(a.fetch,`${a.url}/object/upload/sign/${n}`,{},{headers:i}),l=new URL(a.url+s.url),c=l.searchParams.get("token");if(!c)throw new hr("No token returned by API");return{signedUrl:l.toString(),path:e,token:c}})}async update(e,t,a){return this.uploadOrUpdate("PUT",e,t,a)}async move(e,t,a){var n=this;return n.handleOperation(async()=>await kt(n.fetch,`${n.url}/object/move`,{bucketId:n.bucketId,sourceKey:e,destinationKey:t,destinationBucket:a==null?void 0:a.destinationBucket},{headers:n.headers}))}async copy(e,t,a){var n=this;return n.handleOperation(async()=>({path:(await kt(n.fetch,`${n.url}/object/copy`,{bucketId:n.bucketId,sourceKey:e,destinationKey:t,destinationBucket:a==null?void 0:a.destinationBucket},{headers:n.headers})).Key}))}async createSignedUrl(e,t,a){var n=this;return n.handleOperation(async()=>{let i=n._getFinalPath(e),s=await kt(n.fetch,`${n.url}/object/sign/${i}`,q({expiresIn:t},a!=null&&a.transform?{transform:a.transform}:{}),{headers:n.headers});const l=a!=null&&a.download?`&download=${a.download===!0?"":a.download}`:"";return{signedUrl:encodeURI(`${n.url}${s.signedURL}${l}`)}})}async createSignedUrls(e,t,a){var n=this;return n.handleOperation(async()=>{const i=await kt(n.fetch,`${n.url}/object/sign/${n.bucketId}`,{expiresIn:t,paths:e},{headers:n.headers}),s=a!=null&&a.download?`&download=${a.download===!0?"":a.download}`:"";return i.map(l=>q(q({},l),{},{signedUrl:l.signedURL?encodeURI(`${n.url}${l.signedURL}${s}`):null}))})}download(e,t){const a=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",n=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),i=n?`?${n}`:"",s=this._getFinalPath(e),l=()=>os(this.fetch,`${this.url}/${a}/${s}${i}`,{headers:this.headers,noResolveJson:!0});return new ay(l,this.shouldThrowOnError)}async info(e){var t=this;const a=t._getFinalPath(e);return t.handleOperation(async()=>co(await os(t.fetch,`${t.url}/object/info/${a}`,{headers:t.headers})))}async exists(e){var t=this;const a=t._getFinalPath(e);try{return await ey(t.fetch,`${t.url}/object/${a}`,{headers:t.headers}),{data:!0,error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(fr(n)&&n instanceof Yp){const i=n.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:n}}throw n}}getPublicUrl(e,t){const a=this._getFinalPath(e),n=[],i=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";i!==""&&n.push(i);const s=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});l!==""&&n.push(l);let c=n.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${s}/public/${a}${c}`)}}}async remove(e){var t=this;return t.handleOperation(async()=>await xu(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:e},{headers:t.headers}))}async list(e,t,a){var n=this;return n.handleOperation(async()=>{const i=q(q(q({},ny),t),{},{prefix:e||""});return await kt(n.fetch,`${n.url}/object/list/${n.bucketId}`,i,{headers:n.headers},a)})}async listV2(e,t){var a=this;return a.handleOperation(async()=>{const n=q({},e);return await kt(a.fetch,`${a.url}/object/list-v2/${a.bucketId}`,n,{headers:a.headers},t)})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}};const sy="2.94.0",Es={"X-Client-Info":`storage-js/${sy}`};var ly=class extends hi{constructor(e,t={},a,n){const i=new URL(e);n!=null&&n.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase."));const s=i.href.replace(/\/$/,""),l=q(q({},Es),t);super(s,l,a,"storage")}async listBuckets(e){var t=this;return t.handleOperation(async()=>{const a=t.listBucketOptionsToQueryString(e);return await os(t.fetch,`${t.url}/bucket${a}`,{headers:t.headers})})}async getBucket(e){var t=this;return t.handleOperation(async()=>await os(t.fetch,`${t.url}/bucket/${e}`,{headers:t.headers}))}async createBucket(e,t={public:!1}){var a=this;return a.handleOperation(async()=>await kt(a.fetch,`${a.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:a.headers}))}async updateBucket(e,t){var a=this;return a.handleOperation(async()=>await oo(a.fetch,`${a.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:a.headers}))}async emptyBucket(e){var t=this;return t.handleOperation(async()=>await kt(t.fetch,`${t.url}/bucket/${e}/empty`,{},{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await xu(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},ry=class extends hi{constructor(e,t={},a){const n=e.replace(/\/$/,""),i=q(q({},Es),t);super(n,i,a,"storage")}async createBucket(e){var t=this;return t.handleOperation(async()=>await kt(t.fetch,`${t.url}/bucket`,{name:e},{headers:t.headers}))}async listBuckets(e){var t=this;return t.handleOperation(async()=>{const a=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&a.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&a.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&a.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&a.set("sortOrder",e.sortOrder),e!=null&&e.search&&a.set("search",e.search);const n=a.toString(),i=n?`${t.url}/bucket?${n}`:`${t.url}/bucket`;return await os(t.fetch,i,{headers:t.headers})})}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await xu(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}from(e){var t=this;if(!Qb(e))throw new hr("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const a=new Yb({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),n=this.shouldThrowOnError;return new Proxy(a,{get(i,s){const l=i[s];return typeof l!="function"?l:async(...c)=>{try{return{data:await l.apply(i,c),error:null}}catch(o){if(n)throw o;return{data:null,error:o}}}}})}},cy=class extends hi{constructor(e,t={},a){const n=e.replace(/\/$/,""),i=q(q({},Es),{},{"Content-Type":"application/json"},t);super(n,i,a,"vectors")}async createIndex(e){var t=this;return t.handleOperation(async()=>await st.post(t.fetch,`${t.url}/CreateIndex`,e,{headers:t.headers})||{})}async getIndex(e,t){var a=this;return a.handleOperation(async()=>await st.post(a.fetch,`${a.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:a.headers}))}async listIndexes(e){var t=this;return t.handleOperation(async()=>await st.post(t.fetch,`${t.url}/ListIndexes`,e,{headers:t.headers}))}async deleteIndex(e,t){var a=this;return a.handleOperation(async()=>await st.post(a.fetch,`${a.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:a.headers})||{})}},oy=class extends hi{constructor(e,t={},a){const n=e.replace(/\/$/,""),i=q(q({},Es),{},{"Content-Type":"application/json"},t);super(n,i,a,"vectors")}async putVectors(e){var t=this;if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return t.handleOperation(async()=>await st.post(t.fetch,`${t.url}/PutVectors`,e,{headers:t.headers})||{})}async getVectors(e){var t=this;return t.handleOperation(async()=>await st.post(t.fetch,`${t.url}/GetVectors`,e,{headers:t.headers}))}async listVectors(e){var t=this;if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return t.handleOperation(async()=>await st.post(t.fetch,`${t.url}/ListVectors`,e,{headers:t.headers}))}async queryVectors(e){var t=this;return t.handleOperation(async()=>await st.post(t.fetch,`${t.url}/QueryVectors`,e,{headers:t.headers}))}async deleteVectors(e){var t=this;if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return t.handleOperation(async()=>await st.post(t.fetch,`${t.url}/DeleteVectors`,e,{headers:t.headers})||{})}},uy=class extends hi{constructor(e,t={},a){const n=e.replace(/\/$/,""),i=q(q({},Es),{},{"Content-Type":"application/json"},t);super(n,i,a,"vectors")}async createBucket(e){var t=this;return t.handleOperation(async()=>await st.post(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}async getBucket(e){var t=this;return t.handleOperation(async()=>await st.post(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:e},{headers:t.headers}))}async listBuckets(e={}){var t=this;return t.handleOperation(async()=>await st.post(t.fetch,`${t.url}/ListVectorBuckets`,e,{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await st.post(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}},dy=class extends uy{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new hy(this.url,this.headers,e,this.fetch)}async createBucket(e){var t=()=>super.createBucket,a=this;return t().call(a,e)}async getBucket(e){var t=()=>super.getBucket,a=this;return t().call(a,e)}async listBuckets(e={}){var t=()=>super.listBuckets,a=this;return t().call(a,e)}async deleteBucket(e){var t=()=>super.deleteBucket,a=this;return t().call(a,e)}},hy=class extends cy{constructor(e,t,a,n){super(e,t,n),this.vectorBucketName=a}async createIndex(e){var t=()=>super.createIndex,a=this;return t().call(a,q(q({},e),{},{vectorBucketName:a.vectorBucketName}))}async listIndexes(e={}){var t=()=>super.listIndexes,a=this;return t().call(a,q(q({},e),{},{vectorBucketName:a.vectorBucketName}))}async getIndex(e){var t=()=>super.getIndex,a=this;return t().call(a,a.vectorBucketName,e)}async deleteIndex(e){var t=()=>super.deleteIndex,a=this;return t().call(a,a.vectorBucketName,e)}index(e){return new fy(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},fy=class extends oy{constructor(e,t,a,n,i){super(e,t,i),this.vectorBucketName=a,this.indexName=n}async putVectors(e){var t=()=>super.putVectors,a=this;return t().call(a,q(q({},e),{},{vectorBucketName:a.vectorBucketName,indexName:a.indexName}))}async getVectors(e){var t=()=>super.getVectors,a=this;return t().call(a,q(q({},e),{},{vectorBucketName:a.vectorBucketName,indexName:a.indexName}))}async listVectors(e={}){var t=()=>super.listVectors,a=this;return t().call(a,q(q({},e),{},{vectorBucketName:a.vectorBucketName,indexName:a.indexName}))}async queryVectors(e){var t=()=>super.queryVectors,a=this;return t().call(a,q(q({},e),{},{vectorBucketName:a.vectorBucketName,indexName:a.indexName}))}async deleteVectors(e){var t=()=>super.deleteVectors,a=this;return t().call(a,q(q({},e),{},{vectorBucketName:a.vectorBucketName,indexName:a.indexName}))}},my=class extends ly{constructor(e,t={},a,n){super(e,t,a,n)}from(e){return new iy(this.url,this.headers,e,this.fetch)}get vectors(){return new dy(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new ry(this.url+"/iceberg",this.headers,this.fetch)}};const Qp="2.94.0",jn=30*1e3,uo=3,ac=uo*jn,py="http://localhost:9999",gy="supabase.auth.token",vy={"X-Client-Info":`gotrue-js/${Qp}`},ho="X-Supabase-Api-Version",Xp={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},by=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,yy=10*60*1e3;class us extends Error{constructor(t,a,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=a,this.code=n}}function U(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class xy extends us{constructor(t,a,n){super(t,a,n),this.name="AuthApiError",this.status=a,this.code=n}}function _y(e){return U(e)&&e.name==="AuthApiError"}class Qa extends us{constructor(t,a){super(t),this.name="AuthUnknownError",this.originalError=a}}class ca extends us{constructor(t,a,n,i){super(t,n,i),this.name=a,this.status=n}}class tt extends ca{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function nc(e){return U(e)&&e.name==="AuthSessionMissingError"}class pn extends ca{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Js extends ca{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Ps extends ca{constructor(t,a=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=a}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function wy(e){return U(e)&&e.name==="AuthImplicitGrantRedirectError"}class ph extends ca{constructor(t,a=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=a}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Sy extends ca{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class fo extends ca{constructor(t,a){super(t,"AuthRetryableFetchError",a,void 0)}}function ic(e){return U(e)&&e.name==="AuthRetryableFetchError"}class gh extends ca{constructor(t,a,n){super(t,"AuthWeakPasswordError",a,"weak_password"),this.reasons=n}}class mo extends ca{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Vl="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),vh=` 	
\r=`.split(""),jy=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<vh.length;t+=1)e[vh[t].charCodeAt(0)]=-2;for(let t=0;t<Vl.length;t+=1)e[Vl[t].charCodeAt(0)]=t;return e})();function bh(e,t,a){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;a(Vl[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;a(Vl[n]),t.queuedBits-=6}}function Jp(e,t,a){const n=jy[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)a(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function yh(e){const t=[],a=l=>{t.push(String.fromCodePoint(l))},n={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},s=l=>{Ty(l,n,a)};for(let l=0;l<e.length;l+=1)Jp(e.charCodeAt(l),i,s);return t.join("")}function Ey(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function Ny(e,t){for(let a=0;a<e.length;a+=1){let n=e.charCodeAt(a);if(n>55295&&n<=56319){const i=(n-55296)*1024&65535;n=(e.charCodeAt(a+1)-56320&65535|i)+65536,a+=1}Ey(n,t)}}function Ty(e,t,a){if(t.utf8seq===0){if(e<=127){a(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&a(t.codepoint)}}function In(e){const t=[],a={queue:0,queuedBits:0},n=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)Jp(e.charCodeAt(i),a,n);return new Uint8Array(t)}function ky(e){const t=[];return Ny(e,a=>t.push(a)),new Uint8Array(t)}function Xa(e){const t=[],a={queue:0,queuedBits:0},n=i=>{t.push(i)};return e.forEach(i=>bh(i,a,n)),bh(null,a,n),t.join("")}function Ay(e){return Math.round(Date.now()/1e3)+e}function Oy(){return Symbol("auth-callback")}const Me=()=>typeof window<"u"&&typeof document<"u",qa={tested:!1,writable:!1},Pp=()=>{if(!Me())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(qa.tested)return qa.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),qa.tested=!0,qa.writable=!0}catch{qa.tested=!0,qa.writable=!1}return qa.writable};function zy(e){const t={},a=new URL(e);if(a.hash&&a.hash[0]==="#")try{new URLSearchParams(a.hash.substring(1)).forEach((i,s)=>{t[s]=i})}catch{}return a.searchParams.forEach((n,i)=>{t[i]=n}),t}const Zp=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),Ry=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",En=async(e,t,a)=>{await e.setItem(t,JSON.stringify(a))},Ha=async(e,t)=>{const a=await e.getItem(t);if(!a)return null;try{return JSON.parse(a)}catch{return a}},Ue=async(e,t)=>{await e.removeItem(t)};class mr{constructor(){this.promise=new mr.promiseConstructor((t,a)=>{this.resolve=t,this.reject=a})}}mr.promiseConstructor=Promise;function Zs(e){const t=e.split(".");if(t.length!==3)throw new mo("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!by.test(t[n]))throw new mo("JWT not in base64url format");return{header:JSON.parse(yh(t[0])),payload:JSON.parse(yh(t[1])),signature:In(t[2]),raw:{header:t[0],payload:t[1]}}}async function Cy(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function Dy(e,t){return new Promise((n,i)=>{(async()=>{for(let s=0;s<1/0;s++)try{const l=await e(s);if(!t(s,null,l)){n(l);return}}catch(l){if(!t(s,l)){i(l);return}}})()})}function Uy(e){return("0"+e.toString(16)).substr(-2)}function My(){const t=new Uint32Array(56);if(typeof crypto>"u"){const a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=a.length;let i="";for(let s=0;s<56;s++)i+=a.charAt(Math.floor(Math.random()*n));return i}return crypto.getRandomValues(t),Array.from(t,Uy).join("")}async function Ly(e){const a=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",a),i=new Uint8Array(n);return Array.from(i).map(s=>String.fromCharCode(s)).join("")}async function By(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const a=await Ly(e);return btoa(a).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function gn(e,t,a=!1){const n=My();let i=n;a&&(i+="/PASSWORD_RECOVERY"),await En(e,`${t}-code-verifier`,i);const s=await By(n);return[s,n===s?"plain":"s256"]}const qy=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Hy(e){const t=e.headers.get(ho);if(!t||!t.match(qy))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function $y(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function Gy(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Vy=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function vn(e){if(!Vy.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function sc(){const e={};return new Proxy(e,{get:(t,a)=>{if(a==="__isUserNotAvailableProxy")return!0;if(typeof a=="symbol"){const n=a.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${a}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,a)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${a}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,a)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${a}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Yy(e,t){return new Proxy(e,{get:(a,n,i)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const s=n.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)"||s==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(a,n,i)}return!t.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(a,n,i)}})}function xh(e){return JSON.parse(JSON.stringify(e))}const Ka=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Ky=[502,503,504];async function _h(e){var t;if(!Ry(e))throw new fo(Ka(e),0);if(Ky.includes(e.status))throw new fo(Ka(e),e.status);let a;try{a=await e.json()}catch(s){throw new Qa(Ka(s),s)}let n;const i=Hy(e);if(i&&i.getTime()>=Xp["2024-01-01"].timestamp&&typeof a=="object"&&a&&typeof a.code=="string"?n=a.code:typeof a=="object"&&a&&typeof a.error_code=="string"&&(n=a.error_code),n){if(n==="weak_password")throw new gh(Ka(a),e.status,((t=a.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new tt}else if(typeof a=="object"&&a&&typeof a.weak_password=="object"&&a.weak_password&&Array.isArray(a.weak_password.reasons)&&a.weak_password.reasons.length&&a.weak_password.reasons.reduce((s,l)=>s&&typeof l=="string",!0))throw new gh(Ka(a),e.status,a.weak_password.reasons);throw new xy(Ka(a),e.status||500,n)}const Iy=(e,t,a,n)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),a))};async function L(e,t,a,n){var i;const s=Object.assign({},n==null?void 0:n.headers);s[ho]||(s[ho]=Xp["2024-01-01"].name),n!=null&&n.jwt&&(s.Authorization=`Bearer ${n.jwt}`);const l=(i=n==null?void 0:n.query)!==null&&i!==void 0?i:{};n!=null&&n.redirectTo&&(l.redirect_to=n.redirectTo);const c=Object.keys(l).length?"?"+new URLSearchParams(l).toString():"",o=await Qy(e,t,a+c,{headers:s,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(o):{data:Object.assign({},o),error:null}}async function Qy(e,t,a,n,i,s){const l=Iy(t,n,i,s);let c;try{c=await e(a,Object.assign({},l))}catch(o){throw console.error(o),new fo(Ka(o),0)}if(c.ok||await _h(c),n!=null&&n.noResolveJson)return c;try{return await c.json()}catch(o){await _h(o)}}function Tt(e){var t;let a=null;Py(e)&&(a=Object.assign({},e),e.expires_at||(a.expires_at=Ay(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:a,user:n},error:null}}function wh(e){const t=Tt(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((a,n)=>a&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function va(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function Xy(e){return{data:e,error:null}}function Jy(e){const{action_link:t,email_otp:a,hashed_token:n,redirect_to:i,verification_type:s}=e,l=dr(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),c={action_link:t,email_otp:a,hashed_token:n,redirect_to:i,verification_type:s},o=Object.assign({},l);return{data:{properties:c,user:o},error:null}}function Sh(e){return e}function Py(e){return e.access_token&&e.refresh_token&&e.expires_in}const lc=["global","local","others"];class Zy{constructor({url:t="",headers:a={},fetch:n}){this.url=t,this.headers=a,this.fetch=Zp(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,a=lc[0]){if(lc.indexOf(a)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${lc.join(", ")}`);try{return await L(this.fetch,"POST",`${this.url}/logout?scope=${a}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(U(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,a={}){try{return await L(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:a.data},headers:this.headers,redirectTo:a.redirectTo,xform:va})}catch(n){if(U(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:a}=t,n=dr(t,["options"]),i=Object.assign(Object.assign({},n),a);return"newEmail"in n&&(i.new_email=n==null?void 0:n.newEmail,delete i.newEmail),await L(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:Jy,redirectTo:a==null?void 0:a.redirectTo})}catch(a){if(U(a))return{data:{properties:null,user:null},error:a};throw a}}async createUser(t){try{return await L(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:va})}catch(a){if(U(a))return{data:{user:null},error:a};throw a}}async listUsers(t){var a,n,i,s,l,c,o;try{const u={nextPage:null,lastPage:0,total:0},d=await L(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(a=t==null?void 0:t.page)===null||a===void 0?void 0:a.toString())!==null&&n!==void 0?n:"",per_page:(s=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:Sh});if(d.error)throw d.error;const m=await d.json(),h=(l=d.headers.get("x-total-count"))!==null&&l!==void 0?l:0,f=(o=(c=d.headers.get("link"))===null||c===void 0?void 0:c.split(","))!==null&&o!==void 0?o:[];return f.length>0&&(f.forEach(b=>{const x=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(b.split(";")[1].split("=")[1]);u[`${w}Page`]=x}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},m),u),error:null}}catch(u){if(U(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){vn(t);try{return await L(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:va})}catch(a){if(U(a))return{data:{user:null},error:a};throw a}}async updateUserById(t,a){vn(t);try{return await L(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:a,headers:this.headers,xform:va})}catch(n){if(U(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,a=!1){vn(t);try{return await L(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:a},xform:va})}catch(n){if(U(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){vn(t.userId);try{const{data:a,error:n}=await L(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:a,error:n}}catch(a){if(U(a))return{data:null,error:a};throw a}}async _deleteFactor(t){vn(t.userId),vn(t.id);try{return{data:await L(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(a){if(U(a))return{data:null,error:a};throw a}}async _listOAuthClients(t){var a,n,i,s,l,c,o;try{const u={nextPage:null,lastPage:0,total:0},d=await L(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(a=t==null?void 0:t.page)===null||a===void 0?void 0:a.toString())!==null&&n!==void 0?n:"",per_page:(s=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:Sh});if(d.error)throw d.error;const m=await d.json(),h=(l=d.headers.get("x-total-count"))!==null&&l!==void 0?l:0,f=(o=(c=d.headers.get("link"))===null||c===void 0?void 0:c.split(","))!==null&&o!==void 0?o:[];return f.length>0&&(f.forEach(b=>{const x=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(b.split(";")[1].split("=")[1]);u[`${w}Page`]=x}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},m),u),error:null}}catch(u){if(U(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(t){try{return await L(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:a=>({data:a,error:null})})}catch(a){if(U(a))return{data:null,error:a};throw a}}async _getOAuthClient(t){try{return await L(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:a=>({data:a,error:null})})}catch(a){if(U(a))return{data:null,error:a};throw a}}async _updateOAuthClient(t,a){try{return await L(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:a,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(U(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await L(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(a){if(U(a))return{data:null,error:a};throw a}}async _regenerateOAuthClientSecret(t){try{return await L(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:a=>({data:a,error:null})})}catch(a){if(U(a))return{data:null,error:a};throw a}}}function jh(e={}){return{getItem:t=>e[t]||null,setItem:(t,a)=>{e[t]=a},removeItem:t=>{delete e[t]}}}const bn={debug:!!(globalThis&&Pp()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Wp extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class Wy extends Wp{}async function Fy(e,t,a){bn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),bn.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async i=>{if(i){bn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await a()}finally{bn.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw bn.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new Wy(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(bn.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await a()}}))}function ex(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Fp(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function tx(e){return parseInt(e,16)}function ax(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function nx(e){var t;const{chainId:a,domain:n,expirationTime:i,issuedAt:s=new Date,nonce:l,notBefore:c,requestId:o,resources:u,scheme:d,uri:m,version:h}=e;{if(!Number.isInteger(a))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${a}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(l&&l.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${l}`);if(!m)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(h!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${h}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const f=Fp(e.address),b=d?`${d}://${n}`:n,x=e.statement?`${e.statement}
`:"",w=`${b} wants you to sign in with your Ethereum account:
${f}

${x}`;let g=`URI: ${m}
Version: ${h}
Chain ID: ${a}${l?`
Nonce: ${l}`:""}
Issued At: ${s.toISOString()}`;if(i&&(g+=`
Expiration Time: ${i.toISOString()}`),c&&(g+=`
Not Before: ${c.toISOString()}`),o&&(g+=`
Request ID: ${o}`),u){let p=`
Resources:`;for(const v of u){if(!v||typeof v!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${v}`);p+=`
- ${v}`}g+=p}return`${w}
${g}`}class Se extends Error{constructor({message:t,code:a,cause:n,name:i}){var s;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(s=i??(n instanceof Error?n.name:void 0))!==null&&s!==void 0?s:"Unknown Error",this.code=a}}class Yl extends Se{constructor(t,a){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:a,message:t}),this.name="WebAuthnUnknownError",this.originalError=a}}function ix({error:e,options:t}){var a,n,i;const{publicKey:s}=t;if(!s)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Se({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((a=s.authenticatorSelection)===null||a===void 0?void 0:a.requireResidentKey)===!0)return new Se({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=s.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new Se({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((i=s.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new Se({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new Se({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new Se({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return s.pubKeyCredParams.filter(c=>c.type==="public-key").length===0?new Se({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new Se({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const l=window.location.hostname;if(e0(l)){if(s.rp.id!==l)return new Se({message:`The RP ID "${s.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Se({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(s.user.id.byteLength<1||s.user.id.byteLength>64)return new Se({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new Se({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Se({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function sx({error:e,options:t}){const{publicKey:a}=t;if(!a)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Se({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new Se({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if(e0(n)){if(a.rpId!==n)return new Se({message:`The RP ID "${a.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Se({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new Se({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Se({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class lx{createNewAbortSignal(){if(this.controller){const a=new Error("Cancelling existing WebAuthn API call for new one");a.name="AbortError",this.controller.abort(a)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const rx=new lx;function cx(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:a,excludeCredentials:n}=e,i=dr(e,["challenge","user","excludeCredentials"]),s=In(t).buffer,l=Object.assign(Object.assign({},a),{id:In(a.id).buffer}),c=Object.assign(Object.assign({},i),{challenge:s,user:l});if(n&&n.length>0){c.excludeCredentials=new Array(n.length);for(let o=0;o<n.length;o++){const u=n[o];c.excludeCredentials[o]=Object.assign(Object.assign({},u),{id:In(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return c}function ox(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:a}=e,n=dr(e,["challenge","allowCredentials"]),i=In(t).buffer,s=Object.assign(Object.assign({},n),{challenge:i});if(a&&a.length>0){s.allowCredentials=new Array(a.length);for(let l=0;l<a.length;l++){const c=a[l];s.allowCredentials[l]=Object.assign(Object.assign({},c),{id:In(c.id).buffer,type:c.type||"public-key",transports:c.transports})}}return s}function ux(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const a=e;return{id:e.id,rawId:e.id,response:{attestationObject:Xa(new Uint8Array(e.response.attestationObject)),clientDataJSON:Xa(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=a.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function dx(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const a=e,n=e.getClientExtensionResults(),i=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:Xa(new Uint8Array(i.authenticatorData)),clientDataJSON:Xa(new Uint8Array(i.clientDataJSON)),signature:Xa(new Uint8Array(i.signature)),userHandle:i.userHandle?Xa(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=a.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function e0(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function Eh(){var e,t;return!!(Me()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function hx(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Yl("Browser returned unexpected credential type",t)}:{data:null,error:new Yl("Empty credential response",t)}}catch(t){return{data:null,error:ix({error:t,options:e})}}}async function fx(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Yl("Browser returned unexpected credential type",t)}:{data:null,error:new Yl("Empty credential response",t)}}catch(t){return{data:null,error:sx({error:t,options:e})}}}const mx={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},px={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Kl(...e){const t=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),a=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),n={};for(const i of e)if(i)for(const s in i){const l=i[s];if(l!==void 0)if(Array.isArray(l))n[s]=l;else if(a(l))n[s]=l;else if(t(l)){const c=n[s];t(c)?n[s]=Kl(c,l):n[s]=Kl(l)}else n[s]=l}return n}function gx(e,t){return Kl(mx,e,t||{})}function vx(e,t){return Kl(px,e,t||{})}class bx{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:a,friendlyName:n,signal:i},s){var l;try{const{data:c,error:o}=await this.client.mfa.challenge({factorId:t,webauthn:a});if(!c)return{data:null,error:o};const u=i??rx.createNewAbortSignal();if(c.webauthn.type==="create"){const{user:d}=c.webauthn.credential_options.publicKey;if(!d.name){const m=n;if(m)d.name=`${d.id}:${m}`;else{const f=(await this.client.getUser()).data.user,b=((l=f==null?void 0:f.user_metadata)===null||l===void 0?void 0:l.name)||(f==null?void 0:f.email)||(f==null?void 0:f.id)||"User";d.name=`${d.id}:${b}`}}d.displayName||(d.displayName=d.name)}switch(c.webauthn.type){case"create":{const d=gx(c.webauthn.credential_options.publicKey,s==null?void 0:s.create),{data:m,error:h}=await hx({publicKey:d,signal:u});return m?{data:{factorId:t,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:m}},error:null}:{data:null,error:h}}case"request":{const d=vx(c.webauthn.credential_options.publicKey,s==null?void 0:s.request),{data:m,error:h}=await fx(Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:d,signal:u}));return m?{data:{factorId:t,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:m}},error:null}:{data:null,error:h}}}}catch(c){return U(c)?{data:null,error:c}:{data:null,error:new Qa("Unexpected error in challenge",c)}}}async _verify({challengeId:t,factorId:a,webauthn:n}){return this.client.mfa.verify({factorId:a,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:a=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},s){if(!a)return{data:null,error:new us("rpId is required for WebAuthn authentication")};try{if(!Eh())return{data:null,error:new Qa("Browser does not support WebAuthn",null)};const{data:l,error:c}=await this.challenge({factorId:t,webauthn:{rpId:a,rpOrigins:n},signal:i},{request:s});if(!l)return{data:null,error:c};const{webauthn:o}=l;return this._verify({factorId:t,challengeId:l.challengeId,webauthn:{type:o.type,rpId:a,rpOrigins:n,credential_response:o.credential_response}})}catch(l){return U(l)?{data:null,error:l}:{data:null,error:new Qa("Unexpected error in authenticate",l)}}}async _register({friendlyName:t,webauthn:{rpId:a=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},s){if(!a)return{data:null,error:new us("rpId is required for WebAuthn registration")};try{if(!Eh())return{data:null,error:new Qa("Browser does not support WebAuthn",null)};const{data:l,error:c}=await this._enroll({friendlyName:t});if(!l)return await this.client.mfa.listFactors().then(d=>{var m;return(m=d.data)===null||m===void 0?void 0:m.all.find(h=>h.factor_type==="webauthn"&&h.friendly_name===t&&h.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d==null?void 0:d.id}):void 0),{data:null,error:c};const{data:o,error:u}=await this._challenge({factorId:l.id,friendlyName:l.friendly_name,webauthn:{rpId:a,rpOrigins:n},signal:i},{create:s});return o?this._verify({factorId:l.id,challengeId:o.challengeId,webauthn:{rpId:a,rpOrigins:n,type:o.webauthn.type,credential_response:o.webauthn.credential_response}}):{data:null,error:u}}catch(l){return U(l)?{data:null,error:l}:{data:null,error:new Qa("Unexpected error in register",l)}}}}ex();const yx={url:py,storageKey:gy,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:vy,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function Nh(e,t,a){return await a()}const yn={};class ds{get jwks(){var t,a;return(a=(t=yn[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&a!==void 0?a:{keys:[]}}set jwks(t){yn[this.storageKey]=Object.assign(Object.assign({},yn[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,a;return(a=(t=yn[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&a!==void 0?a:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){yn[this.storageKey]=Object.assign(Object.assign({},yn[this.storageKey]),{cachedAt:t})}constructor(t){var a,n,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const s=Object.assign(Object.assign({},yx),t);if(this.storageKey=s.storageKey,this.instanceID=(a=ds.nextInstanceID[this.storageKey])!==null&&a!==void 0?a:0,ds.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.instanceID>0&&Me()){const l=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(l),this.logDebugMessages&&console.trace(l)}if(this.persistSession=s.persistSession,this.autoRefreshToken=s.autoRefreshToken,this.admin=new Zy({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=Zp(s.fetch),this.lock=s.lock||Nh,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,this.throwOnError=s.throwOnError,this.lockAcquireTimeout=s.lockAcquireTimeout,s.lock?this.lock=s.lock:this.persistSession&&Me()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=Fy:this.lock=Nh,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new bx(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:Pp()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=jh(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=jh(this.memoryStorage)),Me()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(l){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",l)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async l=>{this._debug("received broadcast notification from other tab or client",l);try{await this._notifyAllSubscribers(l.data.event,l.data.session,!1)}catch(c){this._debug("#broadcastChannel","error",c)}})}this.initialize().catch(l=>{this._debug("#initialize()","error",l)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Qp}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let a={},n="none";if(Me()&&(a=zy(window.location.href),this._isImplicitGrantCallback(a)?n="implicit":await this._isPKCECallback(a)&&(n="pkce")),Me()&&this.detectSessionInUrl&&n!=="none"){const{data:i,error:s}=await this._getSessionFromURL(a,n);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),wy(s)){const o=(t=s.details)===null||t===void 0?void 0:t.code;if(o==="identity_already_exists"||o==="identity_not_found"||o==="single_identity_not_deletable")return{error:s}}return{error:s}}const{session:l,redirectType:c}=i;return this._debug("#_initialize()","detected session in URL",l,"redirect type",c),await this._saveSession(l),setTimeout(async()=>{c==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",l):await this._notifyAllSubscribers("SIGNED_IN",l)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(a){return U(a)?this._returnResult({error:a}):this._returnResult({error:new Qa("Unexpected error during initialization",a)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var a,n,i;try{const s=await L(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(a=t==null?void 0:t.options)===null||a===void 0?void 0:a.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(i=t==null?void 0:t.options)===null||i===void 0?void 0:i.captchaToken}},xform:Tt}),{data:l,error:c}=s;if(c||!l)return this._returnResult({data:{user:null,session:null},error:c});const o=l.session,u=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",o)),this._returnResult({data:{user:u,session:o},error:null})}catch(s){if(U(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signUp(t){var a,n,i;try{let s;if("email"in t){const{email:d,password:m,options:h}=t;let f=null,b=null;this.flowType==="pkce"&&([f,b]=await gn(this.storage,this.storageKey)),s=await L(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:d,password:m,data:(a=h==null?void 0:h.data)!==null&&a!==void 0?a:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:f,code_challenge_method:b},xform:Tt})}else if("phone"in t){const{phone:d,password:m,options:h}=t;s=await L(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:m,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(i=h==null?void 0:h.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Tt})}else throw new Js("You must provide either an email or phone number and a password");const{data:l,error:c}=s;if(c||!l)return await Ue(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:c});const o=l.session,u=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",o)),this._returnResult({data:{user:u,session:o},error:null})}catch(s){if(await Ue(this.storage,`${this.storageKey}-code-verifier`),U(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithPassword(t){try{let a;if("email"in t){const{email:s,password:l,options:c}=t;a=await L(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:l,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},xform:wh})}else if("phone"in t){const{phone:s,password:l,options:c}=t;a=await L(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:l,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},xform:wh})}else throw new Js("You must provide either an email or phone number and a password");const{data:n,error:i}=a;if(i)return this._returnResult({data:{user:null,session:null},error:i});if(!n||!n.session||!n.user){const s=new pn;return this._returnResult({data:{user:null,session:null},error:s})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:i})}catch(a){if(U(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithOAuth(t){var a,n,i,s;return await this._handleProviderSignIn(t.provider,{redirectTo:(a=t.options)===null||a===void 0?void 0:a.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(s=t.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:a}=t;switch(a){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${a}"`)}}async signInWithEthereum(t){var a,n,i,s,l,c,o,u,d,m,h;let f,b;if("message"in t)f=t.message,b=t.signature;else{const{chain:x,wallet:w,statement:g,options:p}=t;let v;if(Me())if(typeof w=="object")v=w;else{const z=window;if("ethereum"in z&&typeof z.ethereum=="object"&&"request"in z.ethereum&&typeof z.ethereum.request=="function")v=z.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof w!="object"||!(p!=null&&p.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");v=w}const y=new URL((a=p==null?void 0:p.url)!==null&&a!==void 0?a:window.location.href),N=await v.request({method:"eth_requestAccounts"}).then(z=>z).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!N||N.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const O=Fp(N[0]);let S=(n=p==null?void 0:p.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!S){const z=await v.request({method:"eth_chainId"});S=tx(z)}const k={domain:y.host,address:O,statement:g,uri:y.href,version:"1",chainId:S,nonce:(i=p==null?void 0:p.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(l=(s=p==null?void 0:p.signInWithEthereum)===null||s===void 0?void 0:s.issuedAt)!==null&&l!==void 0?l:new Date,expirationTime:(c=p==null?void 0:p.signInWithEthereum)===null||c===void 0?void 0:c.expirationTime,notBefore:(o=p==null?void 0:p.signInWithEthereum)===null||o===void 0?void 0:o.notBefore,requestId:(u=p==null?void 0:p.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(d=p==null?void 0:p.signInWithEthereum)===null||d===void 0?void 0:d.resources};f=nx(k),b=await v.request({method:"personal_sign",params:[ax(f),O]})}try{const{data:x,error:w}=await L(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:f,signature:b},!((m=t.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:(h=t.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:Tt});if(w)throw w;if(!x||!x.session||!x.user){const g=new pn;return this._returnResult({data:{user:null,session:null},error:g})}return x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("SIGNED_IN",x.session)),this._returnResult({data:Object.assign({},x),error:w})}catch(x){if(U(x))return this._returnResult({data:{user:null,session:null},error:x});throw x}}async signInWithSolana(t){var a,n,i,s,l,c,o,u,d,m,h,f;let b,x;if("message"in t)b=t.message,x=t.signature;else{const{chain:w,wallet:g,statement:p,options:v}=t;let y;if(Me())if(typeof g=="object")y=g;else{const O=window;if("solana"in O&&typeof O.solana=="object"&&("signIn"in O.solana&&typeof O.solana.signIn=="function"||"signMessage"in O.solana&&typeof O.solana.signMessage=="function"))y=O.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof g!="object"||!(v!=null&&v.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");y=g}const N=new URL((a=v==null?void 0:v.url)!==null&&a!==void 0?a:window.location.href);if("signIn"in y&&y.signIn){const O=await y.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},v==null?void 0:v.signInWithSolana),{version:"1",domain:N.host,uri:N.href}),p?{statement:p}:null));let S;if(Array.isArray(O)&&O[0]&&typeof O[0]=="object")S=O[0];else if(O&&typeof O=="object"&&"signedMessage"in O&&"signature"in O)S=O;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in S&&"signature"in S&&(typeof S.signedMessage=="string"||S.signedMessage instanceof Uint8Array)&&S.signature instanceof Uint8Array)b=typeof S.signedMessage=="string"?S.signedMessage:new TextDecoder().decode(S.signedMessage),x=S.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in y)||typeof y.signMessage!="function"||!("publicKey"in y)||typeof y!="object"||!y.publicKey||!("toBase58"in y.publicKey)||typeof y.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");b=[`${N.host} wants you to sign in with your Solana account:`,y.publicKey.toBase58(),...p?["",p,""]:[""],"Version: 1",`URI: ${N.href}`,`Issued At: ${(i=(n=v==null?void 0:v.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((s=v==null?void 0:v.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${v.signInWithSolana.notBefore}`]:[],...!((l=v==null?void 0:v.signInWithSolana)===null||l===void 0)&&l.expirationTime?[`Expiration Time: ${v.signInWithSolana.expirationTime}`]:[],...!((c=v==null?void 0:v.signInWithSolana)===null||c===void 0)&&c.chainId?[`Chain ID: ${v.signInWithSolana.chainId}`]:[],...!((o=v==null?void 0:v.signInWithSolana)===null||o===void 0)&&o.nonce?[`Nonce: ${v.signInWithSolana.nonce}`]:[],...!((u=v==null?void 0:v.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${v.signInWithSolana.requestId}`]:[],...!((m=(d=v==null?void 0:v.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||m===void 0)&&m.length?["Resources",...v.signInWithSolana.resources.map(S=>`- ${S}`)]:[]].join(`
`);const O=await y.signMessage(new TextEncoder().encode(b),"utf8");if(!O||!(O instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");x=O}}try{const{data:w,error:g}=await L(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:b,signature:Xa(x)},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(f=t.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:Tt});if(g)throw g;if(!w||!w.session||!w.user){const p=new pn;return this._returnResult({data:{user:null,session:null},error:p})}return w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),this._returnResult({data:Object.assign({},w),error:g})}catch(w){if(U(w))return this._returnResult({data:{user:null,session:null},error:w});throw w}}async _exchangeCodeForSession(t){const a=await Ha(this.storage,`${this.storageKey}-code-verifier`),[n,i]=(a??"").split("/");try{if(!n&&this.flowType==="pkce")throw new Sy;const{data:s,error:l}=await L(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:Tt});if(await Ue(this.storage,`${this.storageKey}-code-verifier`),l)throw l;if(!s||!s.session||!s.user){const c=new pn;return this._returnResult({data:{user:null,session:null,redirectType:null},error:c})}return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),this._returnResult({data:Object.assign(Object.assign({},s),{redirectType:i??null}),error:l})}catch(s){if(await Ue(this.storage,`${this.storageKey}-code-verifier`),U(s))return this._returnResult({data:{user:null,session:null,redirectType:null},error:s});throw s}}async signInWithIdToken(t){try{const{options:a,provider:n,token:i,access_token:s,nonce:l}=t,c=await L(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:i,access_token:s,nonce:l,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Tt}),{data:o,error:u}=c;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!o||!o.session||!o.user){const d=new pn;return this._returnResult({data:{user:null,session:null},error:d})}return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),this._returnResult({data:o,error:u})}catch(a){if(U(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithOtp(t){var a,n,i,s,l;try{if("email"in t){const{email:c,options:o}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await gn(this.storage,this.storageKey));const{error:m}=await L(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:c,data:(a=o==null?void 0:o.data)!==null&&a!==void 0?a:{},create_user:(n=o==null?void 0:o.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:o==null?void 0:o.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:m})}if("phone"in t){const{phone:c,options:o}=t,{data:u,error:d}=await L(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:c,data:(i=o==null?void 0:o.data)!==null&&i!==void 0?i:{},create_user:(s=o==null?void 0:o.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken},channel:(l=o==null?void 0:o.channel)!==null&&l!==void 0?l:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d})}throw new Js("You must provide either an email or phone number.")}catch(c){if(await Ue(this.storage,`${this.storageKey}-code-verifier`),U(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async verifyOtp(t){var a,n;try{let i,s;"options"in t&&(i=(a=t.options)===null||a===void 0?void 0:a.redirectTo,s=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:l,error:c}=await L(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:s}}),redirectTo:i,xform:Tt});if(c)throw c;if(!l)throw new Error("An error occurred on token verification.");const o=l.session,u=l.user;return o!=null&&o.access_token&&(await this._saveSession(o),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",o)),this._returnResult({data:{user:u,session:o},error:null})}catch(i){if(U(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithSSO(t){var a,n,i,s,l;try{let c=null,o=null;this.flowType==="pkce"&&([c,o]=await gn(this.storage,this.storageKey));const u=await L(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(a=t.options)===null||a===void 0?void 0:a.redirectTo)!==null&&n!==void 0?n:void 0}),!((i=t==null?void 0:t.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:c,code_challenge_method:o}),headers:this.headers,xform:Xy});return!((s=u.data)===null||s===void 0)&&s.url&&Me()&&!(!((l=t.options)===null||l===void 0)&&l.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(c){if(await Ue(this.storage,`${this.storageKey}-code-verifier`),U(c))return this._returnResult({data:null,error:c});throw c}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:a},error:n}=t;if(n)throw n;if(!a)throw new tt;const{error:i}=await L(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:a.access_token});return this._returnResult({data:{user:null,session:null},error:i})})}catch(t){if(U(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const a=`${this.url}/resend`;if("email"in t){const{email:n,type:i,options:s}=t,{error:l}=await L(this.fetch,"POST",a,{headers:this.headers,body:{email:n,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},redirectTo:s==null?void 0:s.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:l})}else if("phone"in t){const{phone:n,type:i,options:s}=t,{data:l,error:c}=await L(this.fetch,"POST",a,{headers:this.headers,body:{phone:n,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:l==null?void 0:l.message_id},error:c})}throw new Js("You must provide either an email or phone number and a type")}catch(a){if(U(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async a=>a))}async _acquireLock(t,a){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await n,await a()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=a();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const a=await this.__loadSession();return await t(a)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const a=await Ha(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",a),a!==null&&(this._isValidSession(a)?t=a:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<ac:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const l=await Ha(this.userStorage,this.storageKey+"-user");l!=null&&l.user?t.user=l.user:t.user=sc()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const l={value:this.suppressGetSessionWarning};t.user=Yy(t.user,l),l.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:i,error:s}=await this._callRefreshToken(t.refresh_token);return s?this._returnResult({data:{session:null},error:s}):this._returnResult({data:{session:i},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const a=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return a.data.user&&(this.suppressGetSessionWarning=!0),a}async _getUser(t){try{return t?await L(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:va}):await this._useSession(async a=>{var n,i,s;const{data:l,error:c}=a;if(c)throw c;return!(!((n=l.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new tt}:await L(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(i=l.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0,xform:va})})}catch(a){if(U(a))return nc(a)&&(await this._removeSession(),await Ue(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:a});throw a}}async updateUser(t,a={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(t,a))}async _updateUser(t,a={}){try{return await this._useSession(async n=>{const{data:i,error:s}=n;if(s)throw s;if(!i.session)throw new tt;const l=i.session;let c=null,o=null;this.flowType==="pkce"&&t.email!=null&&([c,o]=await gn(this.storage,this.storageKey));const{data:u,error:d}=await L(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:a==null?void 0:a.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:c,code_challenge_method:o}),jwt:l.access_token,xform:va});if(d)throw d;return l.user=u.user,await this._saveSession(l),await this._notifyAllSubscribers("USER_UPDATED",l),this._returnResult({data:{user:l.user},error:null})})}catch(n){if(await Ue(this.storage,`${this.storageKey}-code-verifier`),U(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new tt;const a=Date.now()/1e3;let n=a,i=!0,s=null;const{payload:l}=Zs(t.access_token);if(l.exp&&(n=l.exp,i=n<=a),i){const{data:c,error:o}=await this._callRefreshToken(t.refresh_token);if(o)return this._returnResult({data:{user:null,session:null},error:o});if(!c)return{data:{user:null,session:null},error:null};s=c}else{const{data:c,error:o}=await this._getUser(t.access_token);if(o)return this._returnResult({data:{user:null,session:null},error:o});s={access_token:t.access_token,refresh_token:t.refresh_token,user:c.user,token_type:"bearer",expires_in:n-a,expires_at:n},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return this._returnResult({data:{user:s.user,session:s},error:null})}catch(a){if(U(a))return this._returnResult({data:{session:null,user:null},error:a});throw a}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async a=>{var n;if(!t){const{data:l,error:c}=a;if(c)throw c;t=(n=l.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new tt;const{data:i,error:s}=await this._callRefreshToken(t.refresh_token);return s?this._returnResult({data:{user:null,session:null},error:s}):i?this._returnResult({data:{user:i.user,session:i},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(a){if(U(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async _getSessionFromURL(t,a){try{if(!Me())throw new Ps("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Ps(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(a){case"implicit":if(this.flowType==="pkce")throw new ph("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Ps("Not a valid implicit grant flow url.");break;default:}if(a==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new ph("No code detected.");const{data:p,error:v}=await this._exchangeCodeForSession(t.code);if(v)throw v;const y=new URL(window.location.href);return y.searchParams.delete("code"),window.history.replaceState(window.history.state,"",y.toString()),{data:{session:p.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:i,access_token:s,refresh_token:l,expires_in:c,expires_at:o,token_type:u}=t;if(!s||!c||!l||!u)throw new Ps("No session defined in URL");const d=Math.round(Date.now()/1e3),m=parseInt(c);let h=d+m;o&&(h=parseInt(o));const f=h-d;f*1e3<=jn&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${f}s, should have been closer to ${m}s`);const b=h-m;d-b>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",b,h,d):d-b<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",b,h,d);const{data:x,error:w}=await this._getUser(s);if(w)throw w;const g={provider_token:n,provider_refresh_token:i,access_token:s,expires_in:m,expires_at:h,refresh_token:l,token_type:u,user:x.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:g,redirectType:t.type},error:null})}catch(n){if(U(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const a=await Ha(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&a)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async a=>{var n;const{data:i,error:s}=a;if(s&&!nc(s))return this._returnResult({error:s});const l=(n=i.session)===null||n===void 0?void 0:n.access_token;if(l){const{error:c}=await this.admin.signOut(l,t);if(c&&!(_y(c)&&(c.status===404||c.status===401||c.status===403)||nc(c)))return this._returnResult({error:c})}return t!=="others"&&(await this._removeSession(),await Ue(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const a=Oy(),n={id:a,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",a),this.stateChangeEmitters.delete(a)}};return this._debug("#onAuthStateChange()","registered callback with id",a),this.stateChangeEmitters.set(a,n),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(a)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async a=>{var n,i;try{const{data:{session:s},error:l}=a;if(l)throw l;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",t,"session",s)}catch(s){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",s),console.error(s)}})}async resetPasswordForEmail(t,a={}){let n=null,i=null;this.flowType==="pkce"&&([n,i]=await gn(this.storage,this.storageKey,!0));try{return await L(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:i,gotrue_meta_security:{captcha_token:a.captchaToken}},headers:this.headers,redirectTo:a.redirectTo})}catch(s){if(await Ue(this.storage,`${this.storageKey}-code-verifier`),U(s))return this._returnResult({data:null,error:s});throw s}}async getUserIdentities(){var t;try{const{data:a,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(t=a.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(a){if(U(a))return this._returnResult({data:null,error:a});throw a}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var a;try{const{data:n,error:i}=await this._useSession(async s=>{var l,c,o,u,d;const{data:m,error:h}=s;if(h)throw h;const f=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(l=t.options)===null||l===void 0?void 0:l.redirectTo,scopes:(c=t.options)===null||c===void 0?void 0:c.scopes,queryParams:(o=t.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:!0});return await L(this.fetch,"GET",f,{headers:this.headers,jwt:(d=(u=m.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(i)throw i;return Me()&&!(!((a=t.options)===null||a===void 0)&&a.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:t.provider,url:n==null?void 0:n.url},error:null})}catch(n){if(U(n))return this._returnResult({data:{provider:t.provider,url:null},error:n});throw n}}async linkIdentityIdToken(t){return await this._useSession(async a=>{var n;try{const{error:i,data:{session:s}}=a;if(i)throw i;const{options:l,provider:c,token:o,access_token:u,nonce:d}=t,m=await L(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=s==null?void 0:s.access_token)!==null&&n!==void 0?n:void 0,body:{provider:c,id_token:o,access_token:u,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Tt}),{data:h,error:f}=m;return f?this._returnResult({data:{user:null,session:null},error:f}):!h||!h.session||!h.user?this._returnResult({data:{user:null,session:null},error:new pn}):(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("USER_UPDATED",h.session)),this._returnResult({data:h,error:f}))}catch(i){if(await Ue(this.storage,`${this.storageKey}-code-verifier`),U(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}async unlinkIdentity(t){try{return await this._useSession(async a=>{var n,i;const{data:s,error:l}=a;if(l)throw l;return await L(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(n=s.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0})})}catch(a){if(U(a))return this._returnResult({data:null,error:a});throw a}}async _refreshAccessToken(t){const a=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(a,"begin");try{const n=Date.now();return await Dy(async i=>(i>0&&await Cy(200*Math.pow(2,i-1)),this._debug(a,"refreshing attempt",i),await L(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Tt})),(i,s)=>{const l=200*Math.pow(2,i);return s&&ic(s)&&Date.now()+l-n<jn})}catch(n){if(this._debug(a,"error",n),U(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(a,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,a){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:a.redirectTo,scopes:a.scopes,queryParams:a.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",a,"url",n),Me()&&!a.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,a;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const i=await Ha(this.storage,this.storageKey);if(i&&this.userStorage){let l=await Ha(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!l&&(l={user:i.user},await En(this.userStorage,this.storageKey+"-user",l)),i.user=(t=l==null?void 0:l.user)!==null&&t!==void 0?t:sc()}else if(i&&!i.user&&!i.user){const l=await Ha(this.storage,this.storageKey+"-user");l&&(l!=null&&l.user)?(i.user=l.user,await Ue(this.storage,this.storageKey+"-user"),await En(this.storage,this.storageKey,i)):i.user=sc()}if(this._debug(n,"session from storage",i),!this._isValidSession(i)){this._debug(n,"session is not valid"),i!==null&&await this._removeSession();return}const s=((a=i.expires_at)!==null&&a!==void 0?a:1/0)*1e3-Date.now()<ac;if(this._debug(n,`session has${s?"":" not"} expired with margin of ${ac}s`),s){if(this.autoRefreshToken&&i.refresh_token){const{error:l}=await this._callRefreshToken(i.refresh_token);l&&(console.error(l),ic(l)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",l),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:l,error:c}=await this._getUser(i.access_token);!c&&(l!=null&&l.user)?(i.user=l.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(l){console.error("Error getting user data:",l),this._debug(n,"error getting user data, skipping SIGNED_IN notification",l)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(n,"error",i),console.error(i);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var a,n;if(!t)throw new tt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new mr;const{data:s,error:l}=await this._refreshAccessToken(t);if(l)throw l;if(!s.session)throw new tt;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const c={data:s.session,error:null};return this.refreshingDeferred.resolve(c),c}catch(s){if(this._debug(i,"error",s),U(s)){const l={data:null,error:s};return ic(s)||await this._removeSession(),(a=this.refreshingDeferred)===null||a===void 0||a.resolve(l),l}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(s),s}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,a,n=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",a,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:a});const s=[],l=Array.from(this.stateChangeEmitters.values()).map(async c=>{try{await c.callback(t,a)}catch(o){s.push(o)}});if(await Promise.all(l),s.length>0){for(let c=0;c<s.length;c+=1)console.error(s[c]);throw s[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await Ue(this.storage,`${this.storageKey}-code-verifier`);const a=Object.assign({},t),n=a.user&&a.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&a.user&&await En(this.userStorage,this.storageKey+"-user",{user:a.user});const i=Object.assign({},a);delete i.user;const s=xh(i);await En(this.storage,this.storageKey,s)}else{const i=xh(a);await En(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await Ue(this.storage,this.storageKey),await Ue(this.storage,this.storageKey+"-code-verifier"),await Ue(this.storage,this.storageKey+"-user"),this.userStorage&&await Ue(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Me()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(a){console.error("removing visibilitychange callback failed",a)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),jn);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t);const a=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=a,a&&typeof a=="object"&&typeof a.unref=="function"?a.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(a)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t);const a=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,a&&clearTimeout(a)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async a=>{const{data:{session:n}}=a;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((n.expires_at*1e3-t)/jn);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${jn}ms, refresh threshold is ${uo} ticks`),i<=uo&&await this._callRefreshToken(n.refresh_token)})}catch(a){console.error("Auto refresh tick failed with error. This is likely a transient error.",a)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Wp)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Me()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(t){this._debug("#visibilityChangedCallback","error",t)}},window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const a=`#_onVisibilityChanged(${t})`;this._debug(a,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(a,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,a,n){const i=[`provider=${encodeURIComponent(a)}`];if(n!=null&&n.redirectTo&&i.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&i.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[s,l]=await gn(this.storage,this.storageKey),c=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(l)}`});i.push(c.toString())}if(n!=null&&n.queryParams){const s=new URLSearchParams(n.queryParams);i.push(s.toString())}return n!=null&&n.skipBrowserRedirect&&i.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async a=>{var n;const{data:i,error:s}=a;return s?this._returnResult({data:null,error:s}):await L(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(a){if(U(a))return this._returnResult({data:null,error:a});throw a}}async _enroll(t){try{return await this._useSession(async a=>{var n,i;const{data:s,error:l}=a;if(l)return this._returnResult({data:null,error:l});const c=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:o,error:u}=await L(this.fetch,"POST",`${this.url}/factors`,{body:c,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return u?this._returnResult({data:null,error:u}):(t.factorType==="totp"&&o.type==="totp"&&(!((i=o==null?void 0:o.totp)===null||i===void 0)&&i.qr_code)&&(o.totp.qr_code=`data:image/svg+xml;utf-8,${o.totp.qr_code}`),this._returnResult({data:o,error:null}))})}catch(a){if(U(a))return this._returnResult({data:null,error:a});throw a}}async _verify(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async a=>{var n;const{data:i,error:s}=a;if(s)return this._returnResult({data:null,error:s});const l=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?ux(t.webauthn.credential_response):dx(t.webauthn.credential_response)})}:{code:t.code}),{data:c,error:o}=await L(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:l,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return o?this._returnResult({data:null,error:o}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+c.expires_in},c)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",c),this._returnResult({data:c,error:o}))})}catch(a){if(U(a))return this._returnResult({data:null,error:a});throw a}})}async _challenge(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async a=>{var n;const{data:i,error:s}=a;if(s)return this._returnResult({data:null,error:s});const l=await L(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});if(l.error)return l;const{data:c}=l;if(c.type!=="webauthn")return{data:c,error:null};switch(c.webauthn.type){case"create":return{data:Object.assign(Object.assign({},c),{webauthn:Object.assign(Object.assign({},c.webauthn),{credential_options:Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:cx(c.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},c),{webauthn:Object.assign(Object.assign({},c.webauthn),{credential_options:Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:ox(c.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(a){if(U(a))return this._returnResult({data:null,error:a});throw a}})}async _challengeAndVerify(t){const{data:a,error:n}=await this._challenge({factorId:t.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:t.factorId,challengeId:a.id,code:t.code})}async _listFactors(){var t;const{data:{user:a},error:n}=await this.getUser();if(n)return{data:null,error:n};const i={all:[],phone:[],totp:[],webauthn:[]};for(const s of(t=a==null?void 0:a.factors)!==null&&t!==void 0?t:[])i.all.push(s),s.status==="verified"&&i[s.factor_type].push(s);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(t){var a,n,i,s;if(t)try{const{payload:f}=Zs(t);let b=null;f.aal&&(b=f.aal);let x=b;const{data:{user:w},error:g}=await this.getUser(t);if(g)return this._returnResult({data:null,error:g});((n=(a=w==null?void 0:w.factors)===null||a===void 0?void 0:a.filter(y=>y.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(x="aal2");const v=f.amr||[];return{data:{currentLevel:b,nextLevel:x,currentAuthenticationMethods:v},error:null}}catch(f){if(U(f))return this._returnResult({data:null,error:f});throw f}const{data:{session:l},error:c}=await this.getSession();if(c)return this._returnResult({data:null,error:c});if(!l)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=Zs(l.access_token);let u=null;o.aal&&(u=o.aal);let d=u;((s=(i=l.user.factors)===null||i===void 0?void 0:i.filter(f=>f.status==="verified"))!==null&&s!==void 0?s:[]).length>0&&(d="aal2");const h=o.amr||[];return{data:{currentLevel:u,nextLevel:d,currentAuthenticationMethods:h},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async a=>{const{data:{session:n},error:i}=a;return i?this._returnResult({data:null,error:i}):n?await L(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:n.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new tt})})}catch(a){if(U(a))return this._returnResult({data:null,error:a});throw a}}async _approveAuthorization(t,a){try{return await this._useSession(async n=>{const{data:{session:i},error:s}=n;if(s)return this._returnResult({data:null,error:s});if(!i)return this._returnResult({data:null,error:new tt});const l=await L(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:c=>({data:c,error:null})});return l.data&&l.data.redirect_url&&Me()&&!(a!=null&&a.skipBrowserRedirect)&&window.location.assign(l.data.redirect_url),l})}catch(n){if(U(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(t,a){try{return await this._useSession(async n=>{const{data:{session:i},error:s}=n;if(s)return this._returnResult({data:null,error:s});if(!i)return this._returnResult({data:null,error:new tt});const l=await L(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:c=>({data:c,error:null})});return l.data&&l.data.redirect_url&&Me()&&!(a!=null&&a.skipBrowserRedirect)&&window.location.assign(l.data.redirect_url),l})}catch(n){if(U(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:a},error:n}=t;return n?this._returnResult({data:null,error:n}):a?await L(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:a.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new tt})})}catch(t){if(U(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async a=>{const{data:{session:n},error:i}=a;return i?this._returnResult({data:null,error:i}):n?(await L(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new tt})})}catch(a){if(U(a))return this._returnResult({data:null,error:a});throw a}}async fetchJwk(t,a={keys:[]}){let n=a.keys.find(c=>c.kid===t);if(n)return n;const i=Date.now();if(n=this.jwks.keys.find(c=>c.kid===t),n&&this.jwks_cached_at+yy>i)return n;const{data:s,error:l}=await L(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(l)throw l;return!s.keys||s.keys.length===0||(this.jwks=s,this.jwks_cached_at=i,n=s.keys.find(c=>c.kid===t),!n)?null:n}async getClaims(t,a={}){try{let n=t;if(!n){const{data:f,error:b}=await this.getSession();if(b||!f.session)return this._returnResult({data:null,error:b});n=f.session.access_token}const{header:i,payload:s,signature:l,raw:{header:c,payload:o}}=Zs(n);a!=null&&a.allowExpired||$y(s.exp);const u=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,a!=null&&a.keys?{keys:a.keys}:a==null?void 0:a.jwks);if(!u){const{error:f}=await this.getUser(n);if(f)throw f;return{data:{claims:s,header:i,signature:l},error:null}}const d=Gy(i.alg),m=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,m,l,ky(`${c}.${o}`)))throw new mo("Invalid JWT signature");return{data:{claims:s,header:i,signature:l},error:null}}catch(n){if(U(n))return this._returnResult({data:null,error:n});throw n}}}ds.nextInstanceID={};const xx=ds,_x="2.94.0";let Ai="";typeof Deno<"u"?Ai="deno":typeof document<"u"?Ai="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Ai="react-native":Ai="node";const wx={"X-Client-Info":`supabase-js-${Ai}/${_x}`},Sx={headers:wx},jx={schema:"public"},Ex={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Nx={};function hs(e){"@babel/helpers - typeof";return hs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hs(e)}function Tx(e,t){if(hs(e)!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var n=a.call(e,t);if(hs(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function kx(e){var t=Tx(e,"string");return hs(t)=="symbol"?t:t+""}function Ax(e,t,a){return(t=kx(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Th(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),a.push.apply(a,n)}return a}function be(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?Th(Object(a),!0).forEach(function(n){Ax(e,n,a[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Th(Object(a)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))})}return e}const Ox=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),zx=()=>Headers,Rx=(e,t,a)=>{const n=Ox(a),i=zx();return async(s,l)=>{var c;const o=(c=await t())!==null&&c!==void 0?c:e;let u=new i(l==null?void 0:l.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${o}`),n(s,be(be({},l),{},{headers:u}))}};function Cx(e){return e.endsWith("/")?e:e+"/"}function Dx(e,t){var a,n;const{db:i,auth:s,realtime:l,global:c}=e,{db:o,auth:u,realtime:d,global:m}=t,h={db:be(be({},o),i),auth:be(be({},u),s),realtime:be(be({},d),l),storage:{},global:be(be(be({},m),c),{},{headers:be(be({},(a=m==null?void 0:m.headers)!==null&&a!==void 0?a:{}),(n=c==null?void 0:c.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}function Ux(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Cx(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var Mx=class extends xx{constructor(e){super(e)}},Lx=class{constructor(e,t,a){var n,i;this.supabaseUrl=e,this.supabaseKey=t;const s=Ux(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",s),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",s),this.storageUrl=new URL("storage/v1",s),this.functionsUrl=new URL("functions/v1",s);const l=`sb-${s.hostname.split(".")[0]}-auth-token`,c={db:jx,realtime:Nx,auth:be(be({},Ex),{},{storageKey:l}),global:Sx},o=Dx(a??{},c);if(this.storageKey=(n=o.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(i=o.global.headers)!==null&&i!==void 0?i:{},o.accessToken)this.accessToken=o.accessToken,this.auth=new Proxy({},{get:(d,m)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(m)} is not possible`)}});else{var u;this.auth=this._initSupabaseAuthClient((u=o.auth)!==null&&u!==void 0?u:{},this.headers,o.global.fetch)}this.fetch=Rx(t,this._getAccessToken.bind(this),o.global.fetch),this.realtime=this._initRealtimeClient(be({headers:this.headers,accessToken:this._getAccessToken.bind(this)},o.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(d=>this.realtime.setAuth(d)).catch(d=>console.warn("Failed to set initial Realtime auth token:",d)),this.rest=new _b(new URL("rest/v1",s).href,{headers:this.headers,schema:o.db.schema,fetch:this.fetch,timeout:o.db.timeout,urlLengthLimit:o.db.urlLengthLimit}),this.storage=new my(this.storageUrl.href,this.headers,this.fetch,a==null?void 0:a.storage),o.accessToken||this._listenForAuthEvents()}get functions(){return new fb(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},a={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,a)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e=this,t,a;if(e.accessToken)return await e.accessToken();const{data:n}=await e.auth.getSession();return(t=(a=n.session)===null||a===void 0?void 0:a.access_token)!==null&&t!==void 0?t:e.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:a,storage:n,userStorage:i,storageKey:s,flowType:l,lock:c,debug:o,throwOnError:u},d,m){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Mx({url:this.authUrl.href,headers:be(be({},h),d),storageKey:s,autoRefreshToken:e,persistSession:t,detectSessionInUrl:a,storage:n,userStorage:i,flowType:l,lock:c,debug:o,throwOnError:u,fetch:m,hasCustomAuthorizationHeader:Object.keys(this.headers).some(f=>f.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new Bb(this.realtimeUrl.href,be(be({},e),{},{params:be(be({},{apikey:this.supabaseKey}),e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",t==null?void 0:t.access_token)})}_handleTokenChanged(e,t,a){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==a?(this.changedAccessToken=a,this.realtime.setAuth(a)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const Bx=(e,t,a)=>new Lx(e,t,a);function qx(){if(typeof window<"u")return!1;const e=globalThis.process;if(!e)return!1;const t=e.version;if(t==null)return!1;const a=t.match(/^v(\d+)\./);return a?parseInt(a[1],10)<=18:!1}qx()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Hx={VITE_SUPABASE_ANON_KEY:"sb_publishable_o5ThNM7RCYYpcPEKhsc5Yg_ITeHGiDH",VITE_SUPABASE_URL:"https://kmgojpqwlshxhscgyxpl.supabase.co"},po=Hx||{},t0=po.VITE_SUPABASE_URL||"",a0=po.VITE_SUPABASE_ANON_KEY||po.VITE_SUPABASE_PUBLISHABLE_DEFAULT_KEY||"";(!t0||!a0)&&console.warn("Supabase URL or API key is missing. Set VITE_SUPABASE_URL and either VITE_SUPABASE_ANON_KEY or VITE_SUPABASE_PUBLISHABLE_DEFAULT_KEY in .env.local.");const pe=Bx(t0||"https://placeholder.supabase.co",a0||"placeholder-key"),$x=e=>({id:e.id,name:e.name||"Foodie",email:e.email,isVendor:e.is_vendor,isAdmin:e.is_admin,isInfluencer:!0,points:100,tier:bu.TASTER,streak:1,unlockedVouchers:0}),Gx=e=>{const{data:{subscription:t}}=pe.auth.onAuthStateChange(async(a,n)=>{var i;if(n!=null&&n.user){const s=await _u(n.user.id);e(s?$x(s):{id:n.user.id,name:((i=n.user.email)==null?void 0:i.split("@")[0])||"User",email:n.user.email,isVendor:!1,isAdmin:!1,isInfluencer:!1,points:0,tier:bu.TASTER,streak:0,unlockedVouchers:0})}else e(null)});return()=>t.unsubscribe()},n0=async(e,t)=>{const{data:a,error:n}=await pe.auth.signInWithPassword({email:e,password:t});if(n)throw n;return a.user},i0=async(e,t)=>{const{data:a,error:n}=await pe.auth.signUp({email:e,password:t});if(n)throw n;if(a.user){const{error:i}=await pe.from("profiles").insert({id:a.user.id,email:e,name:e.split("@")[0],is_vendor:!1,is_admin:!1});i&&console.error("Error creating profile:",i)}return a.user},Vx=async()=>{await pe.auth.signOut()},_u=async e=>{const{data:t,error:a}=await pe.from("profiles").select("*").eq("id",e).single();return a?null:t},Yx=async()=>{const{data:e,error:t}=await pe.from("profiles").select("*");if(t)throw t;return e},Kx=async(e,t)=>{const{data:a,error:n}=await pe.from("profiles").update(t).eq("id",e).select().single();if(n)throw n;return a},Ix=async()=>{const{data:e,error:t}=await pe.from("drops").select("*").eq("approval_status",Ze.APPROVED).order("start_date",{ascending:!0});return t?(console.error("Error fetching drops:",t),[]):e},Qx=async e=>{const{data:t,error:a}=await pe.from("drops").select("*").eq("creator_id",e).order("created_at",{ascending:!1});if(a)throw a;return t},Xx=async()=>{const{data:e,error:t}=await pe.from("drops").select("*").order("created_at",{ascending:!1});if(t)throw t;return e},Jx=async e=>{const t={...e,approval_status:Ze.PENDING},{data:a,error:n}=await pe.from("drops").insert(t).select().single();if(n)throw n;return a},Px=async(e,t)=>{const{approval_status:a,...n}=t,{data:i,error:s}=await pe.from("drops").update(n).eq("id",e).select().single();if(s)throw s;return i},kh=async(e,t)=>{const{data:a,error:n}=await pe.from("drops").update({approval_status:t}).eq("id",e).select().single();if(n)throw n;return a},Zx=async e=>{const{data:t,error:a}=await pe.from("purchases").select("*").eq("user_id",e).order("timestamp",{ascending:!1});if(a)throw a;return t},Wx=async e=>{if(e.length===0)return[];const{data:t,error:a}=await pe.from("purchases").select("*").in("drop_id",e).order("timestamp",{ascending:!1});if(a)throw a;return t},Fx=async(e,t)=>{if(e.approval_status!==Ze.APPROVED)throw new Error("This package is not approved for booking yet.");let a=e.price*t.quantity;if(t.deliveryRequested&&(a+=e.delivery_fee||0),t.selectedItems){let o=0;t.selectedItems.forEach(u=>{u.selectedModifiers.forEach(d=>{d.options.forEach(m=>o+=m.additionalPrice)})}),a+=o*t.quantity}const n={p_drop_id:e.id,p_user_id:t.userId||null,p_customer_name:t.customerName,p_customer_email:t.customerEmail,p_quantity:t.quantity,p_total_paid:a,p_delivery_requested:t.deliveryRequested,p_delivery_address:t.deliveryAddress||null,p_selected_items:t.selectedItems||[],p_drop_name:e.name,p_drop_image:e.image},{data:i,error:s}=await pe.rpc("purchase_drop_item",n);if(s)throw console.error("Purchase RPC Error:",s),new Error(s.message||"Purchase failed.");const{data:l,error:c}=await pe.from("purchases").select("*").eq("id",i.purchase_id).single();if(c)throw c;return l},s0=async e=>{const{data:t,error:a}=await pe.functions.invoke("create-checkout-session",{body:{purchaseId:e}});if(a)throw new Error(a.message||"Unable to create checkout session.");if(!(t!=null&&t.url))throw new Error("Checkout session URL missing from response.");return t.url},e_=async(e,t)=>{const a=e.name.split(".").pop(),n=`${t}/${Date.now()}.${a}`,{error:i}=await pe.storage.from("drop-images").upload(n,e);if(i)throw i;const{data:s}=pe.storage.from("drop-images").getPublicUrl(n);return s.publicUrl},t_=async(e,t,a)=>{const{data:n,error:i}=await pe.from("waitlist").insert({drop_id:e,email:t,user_id:a||null}).select().single();if(i)throw i;return n},a_=async e=>{if(e.length===0)return[];const{data:t,error:a}=await pe.from("waitlist").select("*").in("drop_id",e).order("created_at",{ascending:!1});if(a)throw a;return t},n_=({drop:e,user:t,onBack:a,onPurchaseConfirm:n})=>{var R,E;const[i,s]=A.useState(1),[l,c]=A.useState(!1),[o,u]=A.useState(!1),[d,m]=A.useState("IDLE"),[h,f]=A.useState({}),[b,x]=A.useState((t==null?void 0:t.email)||""),[w,g]=A.useState(!1),[p,v]=A.useState(!1),y=e.status===zt.SOLD_OUT||e.quantity_remaining===0,N=e.status===zt.UPCOMING,O=e.accent_color||"#d946ef",S=(T,M,$,we)=>{f(C=>{const K=C[T]||{},P=K[M]||[];let F;return P.find($t=>$t.id===$.id)?F=P.filter($t=>$t.id!==$.id):we===1?F=[$]:P.length<we?F=[...P,$]:F=P,{...C,[T]:{...K,[M]:F}}})},k=A.useMemo(()=>{let T=0;return e.menu_items.forEach(M=>{let $=M.basePrice;const we=h[M.id]||{};Object.values(we).forEach(C=>{C.forEach(K=>$+=K.additionalPrice)}),T+=$}),e.menu_items.length===0?Number(e.price)*i:T*i},[e.menu_items,e.price,i,h]),z=()=>{var T;for(const M of e.menu_items)for(const $ of M.modifierGroups){const we=((T=h[M.id])==null?void 0:T[$.id])||[];if($.minSelect>0&&we.length<$.minSelect)return alert(`Please select at least ${$.minSelect} option(s) for "${$.name}" in "${M.name}".`),!1}return!0},B=()=>{z()&&c(!0)},me=async(T,M,$)=>{const we=e.menu_items.map(C=>({itemId:C.id,name:C.name,basePrice:C.basePrice,selectedModifiers:C.modifierGroups.map(K=>{var P;return{groupId:K.id,groupName:K.name,options:((P=h[C.id])==null?void 0:P[K.id])||[]}})}));return n(e.id,i,T,M,o,we,$)},Ge=()=>{if(m("CHECKING"),!navigator.geolocation){m("ERROR");return}navigator.geolocation.getCurrentPosition(T=>{if(!e.coordinates){setTimeout(()=>{m("ELIGIBLE"),u(!0)},1e3);return}m("ELIGIBLE"),u(!0)},()=>m("ERROR"))},Ht=async T=>{if(T.preventDefault(),!!b){g(!0);try{await t_(e.id,b,t==null?void 0:t.id),v(!0)}catch{alert("Could not join waitlist. Try again.")}finally{g(!1)}}},Ct=((R=e.quantity_tiers)==null?void 0:R.find(T=>i<T.threshold))||null,Ie=[...e.quantity_tiers||[]].reverse().find(T=>i>=T.threshold);return r.jsxs("div",{className:"min-h-screen bg-[#050505]",children:[r.jsx("button",{onClick:a,className:"fixed top-28 left-6 z-50 text-black p-4 hover:bg-white transition-all border-2 border-black shadow-[4px_4px_0px_0px_rgba(0,0,0,1)]",style:{backgroundColor:O},children:r.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"4",d:"M15 19l-7-7 7-7"})})}),r.jsxs("section",{className:"relative h-[50vh] md:h-[65vh] overflow-hidden",children:[r.jsx("img",{src:e.image,className:"w-full h-full object-cover grayscale-[20%]",alt:e.name}),r.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-[#050505] via-transparent"}),r.jsx("div",{className:"absolute bottom-16 left-0 w-full px-6",children:r.jsxs("div",{className:"max-w-7xl mx-auto",children:[r.jsx("h1",{className:"font-heading text-5xl md:text-7xl font-black italic tracking-tighter uppercase leading-[0.8] mb-6",children:e.name}),r.jsxs("p",{className:"text-2xl md:text-3xl font-heading font-black text-white italic tracking-tighter",children:["By ",r.jsx("span",{className:"underline decoration-[4px]",style:{textDecorationColor:O},children:e.chef})]})]})})]}),r.jsxs("section",{className:"max-w-7xl mx-auto px-6 py-24 grid grid-cols-1 lg:grid-cols-12 gap-20",children:[r.jsxs("div",{className:"lg:col-span-7 space-y-20",children:[r.jsxs("div",{children:[r.jsxs("h2",{className:"text-[10px] font-black uppercase tracking-[0.4em] mb-8 flex items-center gap-4",style:{color:O},children:[r.jsx("span",{className:"w-12 h-1",style:{backgroundColor:O}})," The Story"]}),r.jsxs("p",{className:"text-3xl md:text-4xl font-heading font-black leading-[1] mb-8 italic tracking-tighter uppercase text-zinc-100",children:['"',e.hype_story,'"']}),r.jsx("p",{className:"text-zinc-500 font-bold max-w-2xl leading-relaxed text-sm",children:e.description})]}),r.jsxs("div",{className:"space-y-10",children:[r.jsx("h3",{className:"text-xl font-black uppercase italic tracking-tighter border-b-4 pb-4 border-zinc-900 inline-block",children:"The Menu"}),r.jsx("div",{className:"space-y-12",children:e.menu_items.map(T=>r.jsxs("div",{className:"bg-zinc-950/50 border-l-4 border-zinc-900 pl-6 py-2 space-y-6",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"flex justify-between items-end mb-2",children:[r.jsx("h4",{className:"text-xl font-black uppercase italic tracking-tighter text-white",children:T.name}),r.jsxs("span",{className:"text-zinc-500 font-black text-sm",children:["$",T.basePrice," Base"]})]}),r.jsx("p",{className:"text-zinc-600 text-[10px] font-bold uppercase tracking-widest",children:T.description})]}),r.jsx("div",{className:"space-y-8",children:T.modifierGroups.map(M=>r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("label",{className:"text-[9px] font-black uppercase tracking-widest text-fuchsia-500",children:M.name}),M.minSelect>0?r.jsx("span",{className:"text-[8px] font-bold uppercase bg-red-500/20 text-red-500 px-1.5 py-0.5 rounded",children:"Required"}):r.jsx("span",{className:"text-[8px] font-bold uppercase bg-zinc-800 text-zinc-500 px-1.5 py-0.5 rounded",children:"Optional"})]}),r.jsxs("span",{className:"text-[8px] font-black text-zinc-700 uppercase",children:[M.minSelect>0?`Select ${M.minSelect}`:""," ",M.maxSelect>1?M.minSelect>0?` - ${M.maxSelect}`:`Max ${M.maxSelect}`:""]})]}),r.jsx("div",{className:"flex flex-wrap gap-2",children:M.options.map($=>{var C,K;const we=!!((K=(C=h[T.id])==null?void 0:C[M.id])!=null&&K.find(P=>P.id===$.id));return r.jsxs("button",{onClick:()=>S(T.id,M.id,$,M.maxSelect),className:`px-3 py-1.5 text-[9px] font-black uppercase tracking-widest border-2 transition-all ${we?"bg-white text-black border-white shadow-[0_0_15px_rgba(255,255,255,0.3)]":"bg-transparent text-zinc-600 border-zinc-900 hover:border-zinc-500"}`,children:[$.name," ",$.additionalPrice>0&&`(+$${$.additionalPrice})`]},$.id)})})]},M.id))})]},T.id))})]}),r.jsxs("div",{className:"bg-zinc-950 border-4 border-zinc-900 p-8 space-y-8",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsx("span",{className:"text-[9px] font-black uppercase tracking-[0.4em] text-fuchsia-500",children:"Pickup & Details"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"text-white font-black uppercase text-xs mb-2 italic",children:"Pickup Location"}),r.jsx("p",{className:"text-zinc-500 text-[11px] font-bold leading-relaxed",children:e.logistics.address})]}),r.jsxs("div",{children:[r.jsx("h4",{className:"text-white font-black uppercase text-xs mb-2 italic",children:"Contact"}),r.jsx("p",{className:"text-zinc-500 text-[11px] font-bold leading-relaxed",children:e.vendor_contact.email}),r.jsx("p",{className:"text-zinc-400 text-[9px] font-black mt-1 uppercase tracking-widest",children:e.vendor_contact.phone})]})]})]}),r.jsxs("div",{className:"pt-6 border-t border-zinc-900",children:[r.jsx("h4",{className:"text-white font-black uppercase text-xs mb-3 italic",children:"Pickup Instructions"}),r.jsx("div",{className:"text-zinc-500 text-[11px] font-bold leading-relaxed space-y-1",children:e.logistics.instructions.split(`
`).map((T,M)=>r.jsx("p",{children:T},M))})]}),r.jsxs("div",{className:"pt-6 border-t border-zinc-900",children:[r.jsx("h4",{className:"text-red-500 font-black uppercase text-xs mb-3 italic",children:"Allergen Information"}),r.jsx("p",{className:"text-zinc-500 text-[11px] font-bold leading-relaxed",children:e.logistics.allergens})]})]})]}),r.jsx("div",{className:"lg:col-span-5 relative",children:r.jsxs("div",{className:"sticky top-40 bg-white text-black p-8 md:p-10 border-8 border-black shadow-[24px_24px_0px_0px_#00000033]",children:[r.jsxs("div",{className:"mb-8",children:[r.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest text-zinc-400 mb-1 block",children:"Order Total"}),r.jsxs("span",{className:"text-6xl font-heading font-black italic tracking-tighter leading-none",children:["$",k.toFixed(2)]})]}),r.jsxs("div",{className:"space-y-6",children:[((E=e.quantity_tiers)==null?void 0:E.length)>0&&!y&&!N&&r.jsxs("div",{className:"bg-zinc-100 p-4 border-4 border-black",children:[r.jsx("span",{className:"block text-[9px] font-black uppercase tracking-[0.2em] text-zinc-500 mb-3",children:"Bonus Rewards"}),Ct?r.jsxs("div",{className:"space-y-2",children:[r.jsx("div",{className:"flex justify-between items-end",children:r.jsxs("span",{className:"text-[10px] font-black uppercase italic",children:["Add ",Ct.threshold-i," more for a reward"]})}),r.jsx("div",{className:"h-2 w-full bg-zinc-300 border-2 border-black",children:r.jsx("div",{className:"h-full bg-orange-600 transition-all duration-500",style:{width:`${i/Ct.threshold*100}%`}})})]}):r.jsxs("div",{className:"text-orange-600 font-black uppercase italic text-xs",children:["MAX REWARDS UNLOCKED: ",Ie==null?void 0:Ie.reward]})]}),N&&r.jsx("div",{className:"bg-zinc-950 p-8 text-center space-y-6 border-2 border-zinc-900",children:r.jsxs("div",{className:"flex flex-col items-center gap-6",children:[r.jsx("div",{className:"relative",children:r.jsx("div",{className:"w-10 h-10 rounded-full bg-zinc-800 border-2 border-zinc-600 flex items-center justify-center shadow-lg",children:r.jsx("div",{className:"w-6 h-6 rounded-full shadow-[0_0_25px_#ef4444]",style:{background:"radial-gradient(circle at 30% 30%, #fca5a5, #ef4444)"}})})}),r.jsx("h3",{className:"text-xl font-black uppercase italic tracking-tighter text-zinc-500",children:"Dropping Soon"}),r.jsx("div",{className:"text-4xl md:text-5xl font-mono font-black text-white tracking-widest",children:r.jsx(no,{targetDate:e.start_date,prefix:"",className:"text-4xl md:text-5xl"})})]})}),!y&&!N&&r.jsx("div",{className:"border-4 border-green-500/20 p-6 bg-zinc-950 relative overflow-hidden",children:r.jsxs("div",{className:"relative space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-center gap-4 mb-4",children:[r.jsx("div",{className:"relative",children:r.jsx("div",{className:"w-8 h-8 rounded-full bg-zinc-800 border-2 border-zinc-600 flex items-center justify-center shadow-lg",children:r.jsx("div",{className:"w-4 h-4 rounded-full shadow-[0_0_20px_#22c55e]",style:{background:"radial-gradient(circle at 30% 30%, #86efac, #15803d)"}})})}),r.jsx("span",{className:"text-green-500 font-black uppercase tracking-[0.3em] text-[10px]",children:"Live Access"})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("label",{className:"block text-[9px] font-black uppercase tracking-[0.3em] text-zinc-500 text-center",children:"Fulfillment Method"}),r.jsxs("div",{className:"grid grid-cols-2 bg-zinc-900 border-2 border-zinc-800 p-1 font-black uppercase tracking-widest text-[9px]",children:[r.jsx("button",{onClick:()=>u(!1),className:`py-3 transition-colors ${o?"text-zinc-500 hover:text-white":"bg-green-500 text-black shadow-[0_0_15px_rgba(34,197,94,0.4)]"}`,children:"Pickup"}),r.jsx("button",{disabled:!e.delivery_available,onClick:()=>d!=="ELIGIBLE"?Ge():u(!0),className:`py-3 transition-colors ${o?"bg-green-500 text-black shadow-[0_0_15px_rgba(34,197,94,0.4)]":"text-zinc-500 hover:text-white"} ${e.delivery_available?"":"opacity-20 cursor-not-allowed"}`,children:"Delivery"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-[9px] font-black uppercase tracking-[0.3em] text-zinc-500 mb-2 text-center",children:"Quantity"}),r.jsxs("div",{className:"flex items-center border-4 border-zinc-800 bg-black font-black h-16 text-3xl",children:[r.jsx("button",{onClick:()=>s(Math.max(1,i-1)),disabled:i<=1,className:"w-16 h-full flex items-center justify-center hover:bg-zinc-900 text-white transition-all disabled:opacity-20 disabled:cursor-not-allowed",children:"-"}),r.jsx("span",{className:"flex-1 text-center border-x-4 border-zinc-800 h-full flex items-center justify-center text-white",children:i}),r.jsx("button",{onClick:()=>s(Math.min(e.quantity_remaining,i+1)),disabled:i>=e.quantity_remaining,className:"w-16 h-full flex items-center justify-center hover:bg-zinc-900 text-white transition-all disabled:opacity-20 disabled:cursor-not-allowed",children:"+"})]})]}),r.jsx(Z,{size:"xl",className:"w-full py-6 text-2xl font-black italic shadow-none border-none hover:scale-[1.02] transition-transform",style:{backgroundColor:O},onClick:B,children:"Reserve & Pay"})]})}),y&&r.jsxs("div",{className:"bg-zinc-100 p-8 border-4 border-black text-center space-y-6",children:[r.jsxs("div",{children:[r.jsx("span",{className:"block text-4xl font-black uppercase italic tracking-tighter text-zinc-400 mb-2 line-through decoration-red-500 decoration-4",children:"Sold Out"}),r.jsx("p",{className:"text-[10px] font-bold uppercase tracking-widest text-zinc-500",children:"This drop has ended."})]}),r.jsx("div",{className:"border-t-2 border-zinc-300 pt-6",children:p?r.jsxs("div",{className:"bg-green-100 border-2 border-green-500 p-4 animate-in fade-in zoom-in",children:[r.jsx("span",{className:"text-green-600 font-black uppercase text-xl italic tracking-tighter block mb-1",children:"You're on the list."}),r.jsx("p",{className:"text-[10px] font-bold text-green-700 uppercase tracking-widest",children:"We'll email you when the next drop goes live."})]}):r.jsxs("form",{onSubmit:Ht,className:"space-y-4",children:[r.jsx("h3",{className:"text-xl font-black italic uppercase tracking-tighter text-black",children:"Missed Out?"}),r.jsxs("p",{className:"text-xs font-bold text-zinc-500",children:["Get notified immediately when ",e.chef," drops again."]}),r.jsx("div",{className:"flex gap-2",children:r.jsx("input",{type:"email",placeholder:"YOUR EMAIL",required:!0,className:"flex-1 bg-white border-2 border-black p-3 font-bold text-sm outline-none focus:bg-fuchsia-50",value:b,onChange:T=>x(T.target.value),disabled:!!t})}),r.jsx(Z,{type:"submit",size:"lg",className:"w-full bg-black text-white hover:bg-zinc-800 shadow-none",isLoading:w,children:"Notify Me Next Time"})]})})]})]})]})})]}),r.jsx(ob,{drop:e,quantity:i,deliveryRequested:o,totalPrice:k+(o&&e.delivery_fee||0),isOpen:l,onClose:()=>c(!1),onConfirm:me})]})},Ah=e=>{if(!e)return"";const t=new Date(e);if(isNaN(t.getTime()))return"";t.setMinutes(t.getMinutes()-t.getTimezoneOffset());try{return t.toISOString().slice(0,16)}catch{return""}},Ws=()=>typeof crypto<"u"&&crypto.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=Math.random()*16|0,a=e=="x"?t:t&3|8;return a.toString(16)}),i_=[{name:"Classic Fuchsia",value:"#d946ef"},{name:"Electric Violet",value:"#8b5cf6"},{name:"Sky High",value:"#38bdf8"},{name:"Lime Punch",value:"#a3e635"},{name:"Hype Orange",value:"#f97316"},{name:"Lava Red",value:"#ef4444"},{name:"Cyber Mint",value:"#6ee7b7"},{name:"Gold Leaf",value:"#eab308"}],s_=({user:e,onProfileUpdate:t,onBack:a,onSave:n,existingDrops:i})=>{var wu,Su,ju,Eu,Nu,Tu,ku;const[s,l]=A.useState(1),[c,o]=A.useState("BUILD"),[u,d]=A.useState(null),[m,h]=A.useState(!1),[f,b]=A.useState(null),[x,w]=A.useState("https://images.unsplash.com/photo-1504674900247-0877df9cc836?auto=format&fit=crop&q=80&w=800"),[g,p]=A.useState(null),v=A.useMemo(()=>i.filter(_=>_.creator_id===e.id),[i,e.id]),[y,N]=A.useState(((wu=v[0])==null?void 0:wu.id)||""),[O,S]=A.useState([]),[k,z]=A.useState([]),[B,me]=A.useState(e.isVendor?e.name:""),[Ge,Ht]=A.useState((e.isVendor,"")),[Ct,Ie]=A.useState(!1),R=()=>{const _=new Date;_.setDate(_.getDate()+1),_.setHours(9,0,0,0);const D=new Date(_);return D.setDate(D.getDate()+7),{name:"",chef:e.name||"",category:"",price:0,total_quantity:50,status:zt.UPCOMING,type:vu.PICKUP,image:"",start_date:_.toISOString(),end_date:D.toISOString(),description:"",hype_story:"",location:"",accent_color:"#d946ef",delivery_available:!1,delivery_fee:5,stripe_payment_link:"",menu_items:[],quantity_tiers:[],vendor_contact:{email:e.email,phone:""},logistics:{address:"",instructions:"",allergens:""}}},[E,T]=A.useState(R());A.useEffect(()=>{(async()=>{if(c==="MANIFEST"&&v.length>0){const D=v.map(ge=>ge.id),Y=await Wx(D);S(Y);const W=await a_(D);z(W)}})()},[c,v]),A.useEffect(()=>{e.isVendor&&s===1&&_u(e.id).then(_=>{_&&T(D=>{var Y;return{...D,chef:_.name||D.chef,vendor_contact:{email:_.email,phone:_.phone||((Y=D.vendor_contact)==null?void 0:Y.phone)||""}}})})},[s,e.isVendor,e.id]);const M=async()=>{if(!B||!Ge){alert("Brand name and phone are required to become a vendor.");return}Ie(!0);try{await Kx(e.id,{name:B,phone:Ge,is_vendor:!0}),await t()}catch(_){console.error("Vendor registration failed:",_),alert("There was an issue registering your vendor profile.")}finally{Ie(!1)}},$=_=>{if(_.target.files&&_.target.files[0]){const D=_.target.files[0];p(D),w(URL.createObjectURL(D))}},we=(_,D)=>{if(D)try{const Y=new Date(D);if(isNaN(Y.getTime()))return;T(W=>({...W,[_]:Y.toISOString()}))}catch{console.warn("Invalid date input ignored")}},C=()=>{const _={id:Ws(),name:"New Product",basePrice:0,description:"",modifierGroups:[]};T(D=>({...D,menu_items:[...D.menu_items||[],_]}))},K=(_,D)=>{T(Y=>{var W;return{...Y,menu_items:(W=Y.menu_items)==null?void 0:W.map(ge=>ge.id===_?{...ge,...D}:ge)}})},P=_=>{T(D=>{var Y;return{...D,menu_items:(Y=D.menu_items)==null?void 0:Y.map(W=>{if(W.id===_){const ge={id:Ws(),name:"Options Group",minSelect:0,maxSelect:1,options:[]};return{...W,modifierGroups:[...W.modifierGroups,ge]}}return W})}})},F=(_,D,Y)=>{T(W=>{var ge;return{...W,menu_items:(ge=W.menu_items)==null?void 0:ge.map(ke=>ke.id===_?{...ke,modifierGroups:ke.modifierGroups.map(mt=>mt.id===D?{...mt,...Y}:mt)}:ke)}})},$t=(_,D)=>{T(Y=>{var W;return{...Y,menu_items:(W=Y.menu_items)==null?void 0:W.map(ge=>ge.id===_?{...ge,modifierGroups:ge.modifierGroups.map(ke=>{if(ke.id===D){const mt={id:Ws(),name:"Option",additionalPrice:0};return{...ke,options:[...ke.options,mt]}}return ke})}:ge)}})},Ns=(_,D,Y,W)=>{T(ge=>{var ke;return{...ge,menu_items:(ke=ge.menu_items)==null?void 0:ke.map(mt=>mt.id===_?{...mt,modifierGroups:mt.modifierGroups.map(dn=>dn.id===D?{...dn,options:dn.options.map(pi=>pi.id===Y?{...pi,...W}:pi)}:dn)}:mt)}})},pr=async()=>{var D,Y;if(!((D=E.vendor_contact)!=null&&D.email)||!((Y=E.vendor_contact)!=null&&Y.phone))return alert("Complete your contact details before submitting a drop.");if(!g&&!E.image)return alert("Please upload an image for your drop.");h(!0);const _=Ws();try{let W=E.image;g&&(W=await e_(g,_));const ge=(E.menu_items||[]).reduce((dn,pi)=>dn+pi.basePrice,0),ke={...E,id:_,image:W,creator_id:e.id,price:ge||E.price||0,quantity_remaining:E.total_quantity,status:new Date(E.start_date)>new Date?zt.UPCOMING:zt.LIVE,approval_status:Ze.PENDING},mt=`DROP SUBMITTED

Name: ${ke.name}
Chef: ${ke.chef}
Items: ${ke.menu_items.length}
Total Qty: ${ke.total_quantity}
Start: ${new Date(ke.start_date).toLocaleString()}

Your drop has been received and is currently under review.`;d(mt),b(_),await n(ke,!0)}catch(W){console.error("Publishing error:",W),alert("Submission error. Please verify and try again.")}finally{h(!1)}},Ts=()=>{d(null),l(1),p(null),w("https://images.unsplash.com/photo-1504674900247-0877df9cc836?auto=format&fit=crop&q=80&w=800"),T({...R(),chef:e.name}),o("MANIFEST"),f&&N(f)},ft=v.find(_=>_.id===y),fi=A.useMemo(()=>O.filter(_=>_.drop_id===y),[O,y]),mi=A.useMemo(()=>k.filter(_=>_.drop_id===y),[k,y]),r0=A.useMemo(()=>({...E,image:x,quantity_remaining:E.total_quantity||100,total_quantity:E.total_quantity||100,price:E.price||(E.menu_items||[]).reduce((_,D)=>_+D.basePrice,0)}),[E,x]);return u?r.jsx("div",{className:"min-h-screen bg-[#050505] flex items-center justify-center p-6",children:r.jsxs("div",{className:"max-w-4xl w-full bg-zinc-950 border-8 border-white p-12 md:p-20 shadow-[24px_24px_0px_0px_#d946ef] animate-in slide-in-from-bottom-12 duration-700",children:[r.jsx("div",{className:"w-20 h-20 bg-fuchsia-500 text-black flex items-center justify-center mb-10 transform -rotate-12 shadow-[4px_4px_0px_0px_#fff]",children:r.jsx("svg",{className:"w-12 h-12",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"6",d:"M5 13l4 4L19 7"})})}),r.jsx("h1",{className:"font-heading text-6xl md:text-8xl font-black italic uppercase tracking-tighter mb-8 leading-none",children:"Drop Submitted."}),r.jsxs("div",{className:"space-y-4 mb-12",children:[r.jsx("span",{className:"text-[10px] font-black uppercase tracking-[0.4em] text-zinc-500 block",children:"Confirmation Receipt"}),r.jsx("div",{className:"bg-black p-8 border-2 border-zinc-900 font-mono text-xs md:text-sm leading-relaxed text-zinc-400 max-h-[400px] overflow-y-auto custom-scrollbar whitespace-pre-wrap",children:u})]}),r.jsxs("div",{className:"flex flex-col md:flex-row gap-8 items-center justify-between border-t border-zinc-900 pt-10",children:[r.jsx("p",{className:"text-zinc-500 font-black uppercase tracking-[0.15em] italic max-w-md",children:"Thank you for your submission. We will reach out soon."}),r.jsx(Z,{size:"xl",onClick:Ts,className:"w-full md:w-auto",children:"Return to Studio"})]})]})}):r.jsx("div",{className:"min-h-screen bg-[#050505] text-white p-6 md:p-16",children:r.jsxs("div",{className:"max-w-7xl mx-auto",children:[r.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center mb-16 gap-10",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center gap-6 mb-4",children:[r.jsx("button",{onClick:a,className:"bg-fuchsia-600 text-black p-3 hover:bg-white transition-all shadow-[4px_4px_0px_0px_#fff]",children:r.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"4",d:"M10 19l-7-7 7-7"})})}),r.jsx("h1",{className:"font-heading text-5xl font-black italic uppercase tracking-tighter leading-none",children:"Restaurant Studio"})]}),r.jsx("p",{className:"text-zinc-500 font-bold uppercase tracking-widest text-[11px] ml-20",children:"Your direct line to the marketplace."})]}),e.isVendor&&r.jsxs("div",{className:"flex bg-zinc-950 p-1 border-2 border-zinc-900",children:[r.jsx("button",{onClick:()=>o("BUILD"),className:`px-10 py-4 text-[11px] font-black uppercase tracking-[0.3em] transition-all ${c==="BUILD"?"bg-fuchsia-500 text-black":"text-zinc-600 hover:text-white"}`,children:"Create Drop"}),r.jsx("button",{onClick:()=>o("MANIFEST"),className:`px-10 py-4 text-[11px] font-black uppercase tracking-[0.3em] transition-all ${c==="MANIFEST"?"bg-fuchsia-500 text-black":"text-zinc-600 hover:text-white"}`,children:"Your Drops"})]})]}),e.isVendor?c==="BUILD"?r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-20",children:[r.jsxs("div",{className:"lg:col-span-8 space-y-16",children:[r.jsx("div",{className:"flex gap-4 mb-20",children:[1,2,3,4,5].map(_=>r.jsx("div",{className:`h-2 flex-1 transition-all rounded-full ${s>=_?"shadow-[0_0_15px_rgba(217,70,239,0.5)]":"bg-zinc-900"}`,style:{backgroundColor:s>=_?E.accent_color:void 0}},_))}),s===1&&r.jsxs("div",{className:"space-y-12 animate-in fade-in slide-in-from-left-6",children:[r.jsx("h2",{className:"text-3xl font-black uppercase italic tracking-tighter text-white border-l-8 pl-8",style:{borderColor:E.accent_color},children:"Step 1: The Basics"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsx("label",{className:"text-[11px] font-black uppercase tracking-[0.3em] text-zinc-500",children:"Drop Name"}),r.jsx("input",{className:"w-full bg-zinc-950 border-4 border-zinc-900 p-6 font-black uppercase italic tracking-tighter text-2xl focus:border-fuchsia-500 outline-none transition-all placeholder-zinc-800",placeholder:"e.g. VOLCANO SASHIMI",value:E.name,onChange:_=>T({...E,name:_.target.value})})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("label",{className:"text-[11px] font-black uppercase tracking-[0.3em] text-zinc-500",children:"Your Brand Name"}),r.jsx("input",{className:"w-full bg-zinc-950 border-4 border-zinc-900 p-6 font-black uppercase italic tracking-tighter text-2xl focus:border-fuchsia-500 outline-none transition-all placeholder-zinc-800",value:E.chef,onChange:_=>T({...E,chef:_.target.value})})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("label",{className:"text-[11px] font-black uppercase tracking-[0.3em] text-zinc-500",children:"Drop Image"}),r.jsx("input",{type:"file",required:!0,accept:"image/*",onChange:$,className:"w-full bg-zinc-950 border-4 border-zinc-900 p-6 file:mr-4 file:py-2 file:px-4 file:border-0 file:text-xs file:font-black file:uppercase file:tracking-widest file:bg-fuchsia-500 file:text-black hover:file:bg-white"})]}),r.jsxs("div",{className:"space-y-6 pt-6",children:[r.jsx("label",{className:"text-[11px] font-black uppercase tracking-[0.3em] text-zinc-500 block",children:"Accent Color"}),r.jsx("div",{className:"flex flex-wrap gap-4",children:i_.map(_=>r.jsx("button",{onClick:()=>T({...E,accent_color:_.value}),className:`w-12 h-12 border-4 transition-all ${E.accent_color===_.value?"border-white scale-110":"border-black"}`,style:{backgroundColor:_.value}},_.value))})]}),r.jsx(Z,{size:"xl",onClick:()=>l(2),children:"Next: The Story"})]}),s===2&&r.jsxs("div",{className:"space-y-12 animate-in fade-in slide-in-from-left-6",children:[r.jsx("h2",{className:"text-3xl font-black uppercase italic tracking-tighter text-white border-l-8 pl-8",style:{borderColor:E.accent_color},children:"Step 2: The Story"}),r.jsxs("div",{className:"space-y-8",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsx("label",{className:"text-[11px] font-black uppercase tracking-[0.3em] text-zinc-500",children:"Short Description"}),r.jsx("textarea",{rows:4,className:"w-full bg-zinc-950 border-4 border-zinc-900 p-6 font-bold text-xl focus:border-fuchsia-500 outline-none resize-none",value:E.description,onChange:_=>T({...E,description:_.target.value})})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("label",{className:"text-[11px] font-black uppercase tracking-[0.3em] text-zinc-500 block",children:"Marketing Copy"}),r.jsx("textarea",{rows:5,className:"w-full bg-zinc-950 border-4 border-zinc-900 p-6 font-bold text-lg focus:border-fuchsia-500 outline-none resize-none italic",value:E.hype_story,onChange:_=>T({...E,hype_story:_.target.value})})]})]}),r.jsxs("div",{className:"flex gap-6",children:[r.jsx(Z,{variant:"outline",size:"xl",onClick:()=>l(1),children:"Back"}),r.jsx(Z,{size:"xl",className:"flex-1",onClick:()=>l(3),children:"Next: Build Menu"})]})]}),s===3&&r.jsxs("div",{className:"space-y-12 animate-in fade-in slide-in-from-left-6",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("h2",{className:"text-3xl font-black uppercase italic tracking-tighter text-white border-l-8 pl-8",style:{borderColor:E.accent_color},children:"Step 3: Build Your Menu"}),r.jsx("button",{onClick:C,className:"bg-white text-black px-6 py-3 font-black uppercase tracking-widest text-[10px] shadow-[4px_4px_0px_0px_#d946ef] transition-all",children:"+ Add Item"})]}),r.jsx("div",{className:"space-y-10",children:(Su=E.menu_items)==null?void 0:Su.map(_=>r.jsxs("div",{className:"bg-zinc-950 border-4 border-zinc-900 p-10 space-y-8",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsx("label",{className:"text-[10px] font-black uppercase text-zinc-600",children:"Item Name"}),r.jsx("input",{className:"w-full bg-zinc-900 border-2 border-zinc-800 p-4 font-black text-xl",value:_.name,onChange:D=>K(_.id,{name:D.target.value})})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("label",{className:"text-[10px] font-black uppercase text-zinc-600",children:"Base Price ($)"}),r.jsx("input",{type:"number",className:"w-full bg-zinc-900 border-2 border-zinc-800 p-4 font-black text-xl",value:_.basePrice,onChange:D=>K(_.id,{basePrice:Number(D.target.value)})})]})]}),r.jsxs("div",{className:"space-y-6 pt-4 border-t border-zinc-900",children:[r.jsxs("div",{className:"flex justify-between items-center",children:[r.jsx("h4",{className:"text-[11px] font-black uppercase tracking-widest text-fuchsia-500",children:"Item Options"}),r.jsx("button",{onClick:()=>P(_.id),className:"text-[9px] font-black uppercase tracking-widest bg-zinc-900 px-3 py-2 hover:bg-white hover:text-black transition-colors",children:"+ Add Group"})]}),r.jsx("div",{className:"space-y-12",children:_.modifierGroups.map(D=>r.jsxs("div",{className:"pl-6 border-l-2 border-zinc-800 space-y-6",children:[r.jsxs("div",{className:"flex items-center gap-6",children:[r.jsx("input",{className:"bg-zinc-900 border border-zinc-800 p-3 font-bold flex-1",placeholder:"Group Name (e.g. Toppings)",value:D.name,onChange:Y=>F(_.id,D.id,{name:Y.target.value})}),r.jsxs("div",{className:"flex items-center gap-3 bg-zinc-900 p-2 border border-zinc-800",children:[r.jsxs("label",{className:"text-[9px] font-black uppercase text-zinc-500 cursor-pointer flex items-center gap-2 select-none",children:[r.jsx("input",{type:"checkbox",checked:D.minSelect>0,onChange:Y=>F(_.id,D.id,{minSelect:Y.target.checked?1:0}),className:"w-4 h-4 accent-fuchsia-500"}),"Required"]}),D.minSelect>0&&r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx("label",{className:"text-[8px] font-black text-zinc-600",children:"MIN"}),r.jsx("input",{type:"number",min:"1",className:"w-10 bg-black border border-zinc-700 p-1 text-center text-[10px]",value:D.minSelect,onChange:Y=>F(_.id,D.id,{minSelect:Math.max(1,Number(Y.target.value))})})]}),r.jsx("div",{className:"w-[1px] h-4 bg-zinc-700 mx-1"}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx("label",{className:"text-[8px] font-black text-zinc-600",children:"MAX"}),r.jsx("input",{type:"number",min:"1",className:"w-10 bg-black border border-zinc-700 p-1 text-center text-[10px]",value:D.maxSelect,onChange:Y=>F(_.id,D.id,{maxSelect:Number(Y.target.value)})})]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[D.options.map(Y=>r.jsxs("div",{className:"flex gap-2",children:[r.jsx("input",{className:"bg-zinc-900 p-3 text-[11px] font-bold flex-1",value:Y.name,onChange:W=>Ns(_.id,D.id,Y.id,{name:W.target.value})}),r.jsx("input",{type:"number",className:"w-20 bg-zinc-900 p-3 text-[11px] font-black text-fuchsia-500",value:Y.additionalPrice,onChange:W=>Ns(_.id,D.id,Y.id,{additionalPrice:Number(W.target.value)})})]},Y.id)),r.jsx("button",{onClick:()=>$t(_.id,D.id),className:"border-2 border-dashed border-zinc-800 text-zinc-600 text-[9px] font-black uppercase tracking-widest hover:text-white py-3",children:"+ Add Option"})]})]},D.id))})]})]},_.id))}),r.jsxs("div",{className:"flex gap-6 pt-12",children:[r.jsx(Z,{variant:"outline",size:"xl",onClick:()=>l(2),children:"Back"}),r.jsx(Z,{size:"xl",className:"flex-1",onClick:()=>l(5),children:"Next: Final Details"})]})]}),s===4&&r.jsxs("div",{className:"space-y-12 animate-in fade-in slide-in-from-left-6",children:[r.jsx("h2",{className:"text-3xl font-black uppercase italic tracking-tighter text-white border-l-8 pl-8",style:{borderColor:E.accent_color},children:"Step 4: Logistics"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsx("label",{className:"text-[11px] font-black uppercase tracking-[0.3em] text-zinc-500",children:"Drop Start Time"}),r.jsx("input",{type:"datetime-local",className:"w-full bg-zinc-950 border-4 border-zinc-900 p-5 font-black text-xl focus:border-fuchsia-500 outline-none",value:Ah(E.start_date),onChange:_=>we("start_date",_.target.value)})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("label",{className:"text-[11px] font-black uppercase tracking-[0.3em] text-zinc-500",children:"Drop End Time"}),r.jsx("input",{type:"datetime-local",className:"w-full bg-zinc-950 border-4 border-zinc-900 p-5 font-black text-xl focus:border-fuchsia-500 outline-none",value:Ah(E.end_date),onChange:_=>we("end_date",_.target.value)})]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("label",{className:"text-[11px] font-black uppercase tracking-[0.3em] text-zinc-500",children:"Total Available Units"}),r.jsx("input",{type:"number",className:"w-full bg-zinc-950 border-4 border-zinc-900 p-6 font-black text-2xl focus:border-fuchsia-500 outline-none",value:E.total_quantity,onChange:_=>T({...E,total_quantity:Number(_.target.value)})})]}),r.jsxs("div",{className:"bg-zinc-950 border-4 border-zinc-900 p-8 space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h3",{className:"text-xl font-black uppercase italic tracking-tighter text-white",children:"Offer Delivery"}),r.jsx("div",{onClick:()=>T({...E,delivery_available:!E.delivery_available}),className:`w-14 h-8 flex items-center p-1 cursor-pointer transition-all ${E.delivery_available?"bg-fuchsia-500":"bg-zinc-800"}`,children:r.jsx("div",{className:`w-6 h-6 bg-white transition-all ${E.delivery_available?"translate-x-6":"translate-x-0"}`})})]}),E.delivery_available&&r.jsxs("div",{className:"animate-in fade-in slide-in-from-top-4",children:[r.jsx("label",{className:"text-[11px] font-black uppercase tracking-[0.3em] text-zinc-500",children:"Flat Delivery Fee ($)"}),r.jsx("input",{type:"number",className:"w-full bg-zinc-900 border-2 border-zinc-800 p-4 font-black text-xl focus:border-fuchsia-500 outline-none mt-2",value:E.delivery_fee,onChange:_=>T({...E,delivery_fee:Number(_.target.value)})})]})]}),r.jsxs("div",{className:"space-y-8 pt-6 border-t border-zinc-900",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsx("label",{className:"text-[11px] font-black uppercase tracking-[0.3em] text-zinc-500",children:"Pickup Location Address"}),r.jsx("input",{className:"w-full bg-zinc-950 border-4 border-zinc-900 p-5 font-black text-lg focus:border-fuchsia-500 outline-none",placeholder:"123 Example St, City, State",value:(ju=E.logistics)==null?void 0:ju.address,onChange:_=>T({...E,logistics:{...E.logistics,address:_.target.value}})})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("label",{className:"text-[11px] font-black uppercase tracking-[0.3em] text-zinc-500",children:"Pickup Instructions"}),r.jsx("textarea",{rows:3,className:"w-full bg-zinc-950 border-4 border-zinc-900 p-5 font-bold text-sm focus:border-fuchsia-500 outline-none resize-none",placeholder:"e.g. Enter through side door, show order ID.",value:(Eu=E.logistics)==null?void 0:Eu.instructions,onChange:_=>T({...E,logistics:{...E.logistics,instructions:_.target.value}})})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("label",{className:"text-[11px] font-black uppercase tracking-[0.3em] text-zinc-500",children:"Allergens / Dietary Notes"}),r.jsx("textarea",{rows:2,className:"w-full bg-zinc-950 border-4 border-zinc-900 p-5 font-bold text-sm focus:border-fuchsia-500 outline-none resize-none",placeholder:"e.g. Contains peanuts, dairy, gluten.",value:(Nu=E.logistics)==null?void 0:Nu.allergens,onChange:_=>T({...E,logistics:{...E.logistics,allergens:_.target.value}})})]})]}),r.jsxs("div",{className:"flex gap-6 pt-8",children:[r.jsx(Z,{variant:"outline",size:"xl",onClick:()=>l(3),children:"Back"}),r.jsx(Z,{size:"xl",className:"flex-1",onClick:()=>l(5),children:"Next: Final Details"})]})]}),s===5&&r.jsxs("div",{className:"space-y-12 animate-in fade-in slide-in-from-left-6",children:[r.jsx("h2",{className:"text-3xl font-black uppercase italic tracking-tighter text-white border-l-8 pl-8",style:{borderColor:E.accent_color},children:"Step 5: Final Details"}),r.jsx("p",{className:"text-zinc-500 font-bold max-w-xl",children:"Confirm your contact information. This is used for internal purposes and to help customers with their orders."}),r.jsxs("div",{className:"space-y-8",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsx("label",{className:"text-[11px] font-black uppercase tracking-[0.3em] text-zinc-500",children:"Contact Email"}),r.jsx("input",{required:!0,type:"email",className:"w-full bg-zinc-950 border-4 border-zinc-900 p-6 font-black uppercase italic tracking-tighter text-2xl focus:border-fuchsia-500 outline-none",placeholder:"CONTACT@YOURBRAND.COM",value:(Tu=E.vendor_contact)==null?void 0:Tu.email,onChange:_=>T({...E,vendor_contact:{...E.vendor_contact,email:_.target.value}})})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("label",{className:"text-[11px] font-black uppercase tracking-[0.3em] text-zinc-500",children:"Contact Phone"}),r.jsx("input",{required:!0,type:"tel",className:"w-full bg-zinc-950 border-4 border-zinc-900 p-6 font-black uppercase italic tracking-tighter text-2xl focus:border-fuchsia-500 outline-none",placeholder:"+1 (555) 000-0000",value:(ku=E.vendor_contact)==null?void 0:ku.phone,onChange:_=>T({...E,vendor_contact:{...E.vendor_contact,phone:_.target.value}})})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("label",{className:"text-[11px] font-black uppercase tracking-[0.3em] text-zinc-500",children:"Stripe Payment Link (Optional)"}),r.jsx("input",{type:"url",className:"w-full bg-zinc-950 border-4 border-zinc-900 p-6 font-black uppercase italic tracking-tighter text-2xl focus:border-fuchsia-500 outline-none",placeholder:"HTTPS://BUY.STRIPE.COM/...",value:E.stripe_payment_link||"",onChange:_=>T({...E,stripe_payment_link:_.target.value})}),r.jsx("p",{className:"text-[10px] text-zinc-500 font-bold",children:"Paste your Stripe Payment Link here to allow customers to pay immediately after reservation."})]})]}),r.jsxs("div",{className:"p-8 bg-zinc-950 border-4 border-dashed border-zinc-800",children:[r.jsx("span",{className:"text-[10px] font-black uppercase text-zinc-600 tracking-widest block mb-4",children:"Final Step"}),r.jsx("p",{className:"text-xs text-zinc-500 leading-relaxed italic",children:"By submitting this drop, you agree to our terms of service and confirm that all information is accurate. Your drop will be submitted for a brief review before going live."})]}),r.jsxs("div",{className:"flex gap-6 pt-8",children:[r.jsx(Z,{variant:"outline",size:"xl",onClick:()=>l(4),children:"Back"}),r.jsx(Z,{size:"xl",className:"flex-1 shadow-[12px_12px_0px_0px_#fff]",onClick:pr,disabled:m,children:m?"Submitting...":"Submit Drop for Review"})]})]})]}),r.jsx("div",{className:"lg:col-span-4 relative",children:r.jsx("div",{className:"sticky top-40",children:r.jsxs("div",{className:"p-2 border-2 border-dashed border-zinc-800 mb-6",children:[r.jsx("span",{className:"block text-[10px] font-black uppercase tracking-[0.5em] text-zinc-700 mb-6 text-center",children:"Live Preview"}),r.jsx("div",{className:"max-w-[340px] mx-auto opacity-90 border-4 border-white rotate-2 shadow-2xl pointer-events-none",children:r.jsx(Bp,{drop:r0,onClick:()=>{}})})]})})})]}):r.jsx("div",{className:"space-y-16 animate-in fade-in duration-500",children:r.jsxs("div",{className:"flex flex-col md:flex-row gap-12",children:[r.jsxs("div",{className:"w-full md:w-1/3 space-y-6",children:[r.jsxs("label",{className:"text-[11px] font-black uppercase tracking-[0.4em] text-zinc-500",children:["Your Drops (",v.length,")"]}),r.jsx("div",{className:"space-y-4",children:v.map(_=>r.jsxs("div",{onClick:()=>N(_.id),className:`p-6 border-4 cursor-pointer transition-all ${y===_.id?"bg-white text-black border-white":"bg-zinc-950 border-zinc-900 text-zinc-500 hover:border-fuchsia-500"}`,children:[r.jsx("h4",{className:"font-heading font-black uppercase italic text-xl leading-none mb-2",children:_.name}),r.jsxs("span",{className:"text-[10px] font-black uppercase tracking-widest",children:[O.filter(D=>D.drop_id===_.id).length," ORDERS"]}),r.jsx("span",{className:`block mt-2 text-[10px] font-bold uppercase tracking-widest ${_.approval_status===Ze.APPROVED?"text-green-400":_.approval_status===Ze.REJECTED?"text-red-400":"text-yellow-400"}`,children:_.approval_status}),k.filter(D=>D.drop_id===_.id).length>0&&r.jsxs("span",{className:"block mt-2 text-[10px] font-bold text-fuchsia-500 uppercase tracking-widest",children:["+ ",k.filter(D=>D.drop_id===_.id).length," Waitlisted"]})]},_.id))})]}),r.jsx("div",{className:"flex-1",children:ft?r.jsxs("div",{className:"bg-zinc-950 border-4 border-zinc-900 p-8 space-y-10",children:[r.jsxs("div",{className:"flex justify-between items-end border-b-2 border-zinc-900 pb-6",children:[r.jsxs("div",{children:[r.jsxs("h2",{className:"font-heading text-4xl font-black italic uppercase mb-2",children:[ft.name," Orders"]}),r.jsxs("span",{className:"text-[10px] font-black uppercase tracking-widest text-zinc-500",children:["Contact: ",ft.vendor_contact.email," / ",ft.vendor_contact.phone]})]}),r.jsxs("div",{className:"text-right",children:[r.jsx("span",{className:"block text-[10px] font-black uppercase text-zinc-500 mb-1",children:"Total Revenue"}),r.jsxs("span",{className:"text-3xl font-heading font-black text-fuchsia-500",children:["$",fi.filter(_=>_.payment_status==="paid").reduce((_,D)=>_+Number(D.total_paid),0).toFixed(2)]})]})]}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full text-left",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"border-b border-zinc-900 text-[10px] font-black uppercase tracking-widest text-zinc-500",children:[r.jsx("th",{className:"py-4",children:"Customer"}),r.jsx("th",{className:"py-4",children:"Fulfillment"}),r.jsx("th",{className:"py-4",children:"Payment"}),r.jsx("th",{className:"py-4",children:"Items"}),r.jsx("th",{className:"py-4 text-right",children:"Total Paid"})]})}),r.jsx("tbody",{className:"text-xs font-bold uppercase tracking-tight",children:fi.length>0?fi.map(_=>r.jsxs("tr",{className:"border-b border-zinc-900 hover:bg-zinc-900/50 transition-colors align-top",children:[r.jsxs("td",{className:"py-6",children:[r.jsx("span",{className:"block font-black",children:_.customer_name}),r.jsx("span",{className:"text-[9px] text-zinc-600 font-black",children:_.id}),_.delivery_requested&&r.jsx("span",{className:"block text-[8px] text-zinc-500 mt-2 max-w-[150px]",children:_.delivery_address})]}),r.jsx("td",{className:"py-6",children:r.jsx("span",{className:`px-2 py-1 text-[9px] font-black tracking-tighter italic ${_.delivery_requested?"bg-fuchsia-500 text-black":"bg-zinc-800 text-zinc-400"}`,children:_.delivery_requested?"DELIVERY":"PICKUP"})}),r.jsx("td",{className:"py-6",children:r.jsx("span",{className:`px-2 py-1 text-[9px] font-black tracking-tighter uppercase ${_.payment_status==="paid"?"bg-green-500/20 text-green-400":_.payment_status==="refunded"?"bg-orange-500/20 text-orange-400":_.payment_status==="failed"?"bg-red-500/20 text-red-400":"bg-yellow-500/20 text-yellow-300"}`,children:_.payment_status||"pending"})}),r.jsx("td",{className:"py-6",children:_.selected_items.map((D,Y)=>r.jsxs("div",{className:"mb-3",children:[r.jsxs("span",{className:"block font-black text-zinc-300",children:[D.name," (x",_.quantity,")"]}),D.selectedModifiers.map(W=>r.jsxs("div",{className:"pl-3 text-[9px] text-zinc-500 mt-1",children:[W.groupName,": ",W.options.map(ge=>ge.name).join(", ")]},W.groupId))]},Y))}),r.jsxs("td",{className:"py-6 text-right text-fuchsia-400 font-black italic text-sm",children:["$",Number(_.total_paid).toFixed(2)]})]},_.id)):r.jsx("tr",{children:r.jsx("td",{colSpan:5,className:"py-32 text-center text-zinc-800 font-black italic tracking-widest",children:"NO ORDERS YET"})})})]})}),mi.length>0&&r.jsxs("div",{className:"mt-12 bg-zinc-900 p-8 border-2 border-zinc-800 animate-in fade-in slide-in-from-bottom-6",children:[r.jsxs("div",{className:"flex justify-between items-center mb-6",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"font-heading text-2xl font-black italic uppercase text-white mb-1",children:"Interested Parties / Retargeting"}),r.jsxs("p",{className:"text-[10px] font-bold text-zinc-500 uppercase tracking-widest",children:[mi.length," people requested to be notified when this drops again."]})]}),r.jsx(Z,{size:"sm",variant:"outline",onClick:()=>alert("Retargeting email campaign feature coming soon."),children:"Draft Campaign"})]}),r.jsx("div",{className:"bg-black border border-zinc-800 max-h-[200px] overflow-y-auto custom-scrollbar",children:r.jsxs("table",{className:"w-full text-left",children:[r.jsx("thead",{className:"sticky top-0 bg-black z-10",children:r.jsxs("tr",{className:"border-b border-zinc-800 text-[9px] font-black uppercase tracking-widest text-zinc-600",children:[r.jsx("th",{className:"p-4",children:"Email Address"}),r.jsx("th",{className:"p-4",children:"Date Joined"})]})}),r.jsx("tbody",{children:mi.map(_=>r.jsxs("tr",{className:"border-b border-zinc-900 hover:bg-zinc-900/30",children:[r.jsx("td",{className:"p-4 text-xs font-mono text-zinc-300",children:_.email}),r.jsx("td",{className:"p-4 text-[10px] font-mono text-zinc-500",children:new Date(_.timestamp).toLocaleDateString()})]},_.id))})]})})]})]}):r.jsx("div",{className:"h-full min-h-[400px] flex items-center justify-center border-4 border-dashed border-zinc-900",children:r.jsx("p",{className:"text-zinc-800 font-black uppercase tracking-[0.5em] italic",children:"Select a drop to view orders"})})})]})}):r.jsxs("div",{className:"max-w-3xl mx-auto bg-zinc-950 border-8 border-fuchsia-500/20 p-12 md:p-20 text-center animate-in fade-in duration-500",children:[r.jsx("h2",{className:"font-heading text-4xl md:text-6xl font-black italic uppercase tracking-tighter leading-none mb-6",children:"Become a Vendor"}),r.jsx("p",{className:"text-zinc-500 font-bold uppercase tracking-widest mb-12 max-w-md mx-auto",children:"Complete your brand profile to start creating drops."}),r.jsxs("div",{className:"space-y-8 mb-12",children:[r.jsx("input",{className:"w-full bg-zinc-900 border-4 border-black p-6 font-black uppercase italic tracking-tighter text-2xl outline-none focus:border-fuchsia-500 placeholder-zinc-700",placeholder:"BRAND / RESTAURANT NAME",value:B,onChange:_=>me(_.target.value)}),r.jsx("input",{className:"w-full bg-zinc-900 border-4 border-black p-6 font-black uppercase italic tracking-tighter text-2xl outline-none focus:border-fuchsia-500 placeholder-zinc-700",placeholder:"CONTACT PHONE",value:Ge,onChange:_=>Ht(_.target.value)})]}),r.jsx(Z,{size:"xl",onClick:M,isLoading:Ct,children:"Submit for Verification"})]})]})})},Oh=({user:e,purchases:t,onLogout:a,onBack:n})=>{const i=[...t].sort((o,u)=>new Date(u.timestamp).getTime()-new Date(o.timestamp).getTime()),[s,l]=A.useState(null),c={Taster:"text-zinc-400",Regular:"text-blue-400",Insider:"text-violet-400",Tastemaker:"text-orange-400"}[e.tier];return r.jsx("div",{className:"min-h-screen bg-[#050505] text-white p-6 md:p-16",children:r.jsxs("div",{className:"max-w-7xl mx-auto",children:[r.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center mb-16 gap-8",children:[r.jsxs("div",{className:"flex items-center gap-6",children:[r.jsx("button",{onClick:n,className:"bg-fuchsia-600 text-black p-3 hover:bg-white transition-all shadow-[4px_4px_0px_0px_#fff]",children:r.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"4",d:"M10 19l-7-7 7-7"})})}),r.jsx("h1",{className:"font-heading text-5xl font-black italic uppercase tracking-tighter leading-none",children:"Your Profile"})]}),r.jsx(Z,{onClick:a,variant:"danger",size:"sm",className:"bg-zinc-900 border-2 border-zinc-800 text-zinc-600 hover:text-white hover:bg-red-600 hover:border-red-600 shadow-none hover:shadow-lg",children:"Log Out"})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-16",children:[r.jsx("div",{className:"lg:col-span-4",children:r.jsxs("div",{className:"bg-zinc-950 border-4 border-zinc-900 p-10 sticky top-40 space-y-10",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"w-20 h-20 bg-black border-4 border-fuchsia-500 rounded-full mx-auto mb-6 flex items-center justify-center text-3xl font-black italic shadow-[0_0_20px_rgba(217,70,239,0.4)]",children:e.name.charAt(0)}),r.jsx("h2",{className:"text-2xl font-black uppercase italic tracking-tighter",children:e.name}),r.jsx("p",{className:"text-zinc-600 text-[10px] font-black uppercase tracking-widest",children:e.email})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-8 text-center pt-8 border-t border-zinc-900",children:[r.jsxs("div",{children:[r.jsx("span",{className:"block text-[9px] uppercase font-black tracking-widest text-zinc-600",children:"Tier"}),r.jsx("span",{className:`text-xl font-black uppercase italic tracking-tighter ${c}`,children:e.tier})]}),r.jsxs("div",{children:[r.jsx("span",{className:"block text-[9px] uppercase font-black tracking-widest text-zinc-600",children:"Points"}),r.jsx("span",{className:"text-xl font-black uppercase italic tracking-tighter text-fuchsia-400",children:e.points})]}),r.jsxs("div",{children:[r.jsx("span",{className:"block text-[9px] uppercase font-black tracking-widest text-zinc-600",children:"Drop Streak"}),r.jsx("span",{className:"text-xl font-black uppercase italic tracking-tighter",children:e.streak})]}),r.jsxs("div",{children:[r.jsx("span",{className:"block text-[9px] uppercase font-black tracking-widest text-zinc-600",children:"Orders"}),r.jsx("span",{className:"text-xl font-black uppercase italic tracking-tighter",children:t.length})]})]})]})}),r.jsxs("div",{className:"lg:col-span-8",children:[r.jsx("h3",{className:"text-[10px] font-black uppercase tracking-[0.5em] text-zinc-500 mb-8",children:"Order History"}),r.jsx("div",{className:"space-y-6",children:i.length>0?i.map(o=>{var u,d;return r.jsxs("div",{className:"flex flex-col md:flex-row items-start gap-8 bg-zinc-950/70 p-6 border-l-4 border-zinc-900 hover:border-fuchsia-500 transition-all",children:[r.jsx("img",{src:o.drop_image,alt:o.drop_name,className:"w-full md:w-32 aspect-square object-cover grayscale-[30%]"}),r.jsxs("div",{className:"flex-1 w-full",children:[r.jsxs("div",{className:"flex justify-between items-start mb-4",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"text-xl font-heading font-black italic uppercase tracking-tighter",children:o.drop_name}),r.jsxs("span",{className:"text-[9px] font-black text-zinc-600 uppercase tracking-widest",children:["ORDER ID: ",o.id]})]}),r.jsx("div",{className:"text-right",children:r.jsxs("span",{className:"block text-xl font-heading font-black italic text-fuchsia-400",children:["$",Number(o.total_paid).toFixed(2)]})})]}),r.jsxs("div",{className:"bg-black p-4 text-[10px] font-mono text-zinc-500 max-h-32 overflow-y-auto custom-scrollbar space-y-1",children:[r.jsxs("p",{children:[r.jsx("strong",{children:"Timestamp:"})," ",new Date(o.timestamp).toLocaleString()]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Quantity:"})," ",o.quantity]}),r.jsxs("p",{children:[r.jsx("strong",{children:"Payment:"})," ",((d=(u=o.payment_status)==null?void 0:u.toUpperCase)==null?void 0:d.call(u))||"PENDING"]}),o.delivery_requested&&r.jsxs("p",{className:"text-fuchsia-500",children:[r.jsx("strong",{children:"Fulfillment:"})," DELIVERY"]}),o.unlocked_reward&&r.jsxs("p",{className:"text-orange-400",children:[r.jsx("strong",{children:"Unlocked:"})," ",o.unlocked_reward]}),o.selected_items&&o.selected_items.map((m,h)=>r.jsxs("div",{className:"pt-2 border-t border-zinc-800",children:[r.jsxs("p",{className:"font-bold text-zinc-400",children:[m.name," (x",o.quantity,")"]}),m.selectedModifiers.map(f=>f.options.length>0&&r.jsxs("p",{className:"pl-2",children:[" ",f.groupName,": ",f.options.map(b=>b.name).join(", ")]},f.groupId))]},h))]}),o.payment_status==="pending"&&r.jsxs("div",{className:"mt-4 pt-4 border-t border-zinc-900 flex items-center justify-between",children:[r.jsx("span",{className:"text-[9px] font-black uppercase text-zinc-500 italic",children:"Reservation Held"}),r.jsx(Z,{size:"sm",isLoading:s===o.id,onClick:async()=>{try{l(o.id);const m=await s0(o.id);window.location.assign(m)}catch(m){alert(m.message||"Unable to open Stripe checkout.")}finally{l(null)}},className:"bg-fuchsia-500 text-black shadow-none text-[10px]",children:"Complete Payment"})]})]})]},o.id)}):r.jsxs("div",{className:"text-center py-32 border-4 border-dashed border-zinc-900",children:[r.jsx("p",{className:"text-zinc-800 text-2xl font-black uppercase italic tracking-tighter",children:"No orders placed yet."}),r.jsx(Z,{onClick:n,size:"lg",className:"mt-8",children:"Explore Drops"})]})})]})]})]})})},l_=({user:e,drops:t,onBack:a,onLogin:n})=>{const[i,s]=A.useState(""),[l,c]=A.useState(!1),[o,u]=A.useState(null),[d,m]=A.useState(""),[h,f]=A.useState(!1),[b,x]=A.useState(!1),w=A.useRef(null),g=A.useRef(null),p=A.useRef([]),v=t.find(k=>k.id===i),y=async()=>{try{const k=await navigator.mediaDevices.getUserMedia({video:!0,audio:!0});w.current&&(w.current.srcObject=k,w.current.play()),c(!0);const z=new MediaRecorder(k);g.current=z,p.current=[],z.ondataavailable=B=>p.current.push(B.data),z.onstop=()=>{const B=new Blob(p.current,{type:"video/mp4"});u(URL.createObjectURL(B)),k.getTracks().forEach(me=>me.stop())},z.start()}catch{alert("Camera access denied. Please enable camera and microphone permissions in your browser settings.")}},N=()=>{g.current&&l&&(g.current.stop(),c(!1))},O=async()=>{if(!i)return alert("Please select a drop to review.");f(!0),await new Promise(me=>setTimeout(me,800));const k=(v==null?void 0:v.name)||"this drop",z=(v==null?void 0:v.chef)||"the chef",B=`Yo! I just got my hands on ${k} by ${z}. The smell alone is incredible. If you haven't ordered yet, you're missing out on serious flavor. Check it out before it's gone!`;m(B),f(!1)},S=()=>{x(!0),setTimeout(()=>{a()},3e3)};return e?r.jsx("div",{className:"min-h-screen bg-[#050505] text-white p-6 md:p-16",children:r.jsxs("div",{className:"max-w-7xl mx-auto",children:[r.jsxs("div",{className:"flex justify-between items-center mb-16",children:[r.jsxs("div",{className:"flex items-center gap-6",children:[r.jsx("button",{onClick:a,className:"bg-fuchsia-600 text-black p-3 hover:bg-white transition-all shadow-[4px_4px_0px_0px_#fff]",children:r.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"4",d:"M10 19l-7-7 7-7"})})}),r.jsx("h1",{className:"font-heading text-5xl font-black italic uppercase tracking-tighter leading-none",children:"Influence Lab"})]}),r.jsxs("div",{className:"bg-zinc-950 px-6 py-2 border-2 border-zinc-900 flex items-center gap-4",children:[r.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),r.jsxs("span",{className:"text-[11px] font-black uppercase tracking-widest",children:[e.name," / LVL ",Math.floor(e.points/100)+1]})]})]}),b?r.jsxs("div",{className:"flex flex-col items-center justify-center py-40 text-center animate-in fade-in zoom-in duration-700",children:[r.jsx("div",{className:"w-32 h-32 bg-fuchsia-500 text-black flex items-center justify-center mb-10 shadow-[8px_8px_0px_0px_#fff] transform rotate-12",children:r.jsx("svg",{className:"w-16 h-16",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"5",d:"M9 11l3 3L22 4m-2 1h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),r.jsx("h2",{className:"font-heading text-6xl font-black italic uppercase tracking-tighter mb-4",children:"Submitted."}),r.jsx("p",{className:"text-zinc-500 font-black uppercase tracking-[0.3em] max-w-md italic",children:"Your video has been sent to the brand for review. You'll be notified upon approval."})]}):r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-20",children:[r.jsxs("div",{className:"lg:col-span-4 space-y-12",children:[r.jsxs("div",{className:"space-y-6",children:[r.jsx("label",{className:"text-[11px] font-black uppercase tracking-[0.4em] text-fuchsia-500 block",children:"1. Select Drop"}),r.jsxs("select",{className:"w-full bg-zinc-950 border-4 border-zinc-900 p-6 font-black uppercase italic tracking-tighter text-2xl focus:border-fuchsia-500 outline-none appearance-none cursor-pointer",value:i,onChange:k=>s(k.target.value),children:[r.jsx("option",{value:"",children:"SELECT A DROP..."}),t.map(k=>r.jsx("option",{value:k.id,children:k.name},k.id))]})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsx("label",{className:"text-[11px] font-black uppercase tracking-[0.4em] text-fuchsia-500 block",children:"2. Generate Script"}),r.jsxs("div",{className:"bg-zinc-950 border-4 border-zinc-900 p-8 min-h-[200px] relative",children:[r.jsx("p",{className:"text-xl font-bold italic text-zinc-400 leading-relaxed mb-6",children:h?"Generating script...":d||"Generate a review script to get started."}),r.jsx("button",{onClick:O,disabled:h||!i,className:"w-full bg-fuchsia-500 text-black py-4 font-black uppercase tracking-widest text-xs hover:bg-white transition-all disabled:opacity-20",children:h?"GENERATING...":"GENERATE SCRIPT"})]})]}),o&&r.jsxs("div",{className:"pt-8 border-t border-zinc-900",children:[r.jsx(Z,{size:"xl",className:"w-full",onClick:S,children:"Submit to Brand"}),r.jsx("p",{className:"text-[10px] font-black uppercase text-zinc-600 mt-4 text-center tracking-widest",children:"Your review will be sent for approval."})]})]}),r.jsxs("div",{className:"lg:col-span-8 space-y-8",children:[r.jsxs("div",{className:"aspect-video bg-black border-8 border-zinc-900 relative overflow-hidden group shadow-2xl",children:[l?r.jsx("video",{ref:w,muted:!0,className:"w-full h-full object-cover grayscale-[30%] brightness-110"}):o?r.jsx("video",{src:o,controls:!0,className:"w-full h-full object-cover"}):r.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center gap-6",children:[r.jsx("div",{className:"w-24 h-24 rounded-full border-4 border-dashed border-zinc-800 flex items-center justify-center",children:r.jsx("svg",{className:"w-10 h-10 text-zinc-800",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z"})})}),r.jsx("span",{className:"text-[11px] font-black uppercase tracking-[0.5em] text-zinc-800",children:"CAMERA STANDBY"})]}),r.jsxs("div",{className:"absolute inset-0 pointer-events-none p-8 flex flex-col justify-between",children:[r.jsxs("div",{className:"flex justify-between items-start",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[l&&r.jsx("div",{className:"w-3 h-3 bg-red-600 rounded-full animate-pulse"}),r.jsx("span",{className:"font-mono text-xs font-bold text-white/50",children:l?"REC":"STBY"})]}),r.jsx("span",{className:"font-heading text-2xl font-black text-fuchsia-500 skew-x-[-12deg] italic opacity-50",children:"FOODIEDROPS"})]}),r.jsx("div",{className:"flex justify-between items-end border-b-2 border-white/10 pb-4",children:r.jsx("span",{className:"font-mono text-[10px] text-white/30 tracking-widest italic",children:"00:00:15"})})]})]}),r.jsxs("div",{className:"flex gap-4",children:[!l&&!o&&r.jsx(Z,{size:"xl",className:"flex-1",onClick:y,children:"Start Recording"}),l&&r.jsx(Z,{size:"xl",className:"flex-1 bg-red-600 text-white shadow-none",onClick:N,children:"Stop Recording"}),o&&r.jsx(Z,{size:"xl",className:"flex-1",variant:"outline",onClick:()=>u(null),children:"Record Again"})]}),r.jsxs("div",{className:"grid grid-cols-3 gap-6 pt-8",children:[r.jsxs("div",{className:"p-6 bg-zinc-950 border border-zinc-900 text-center space-y-2 group hover:border-fuchsia-500 transition-colors",children:[r.jsx("span",{className:"block text-[10px] font-black uppercase text-zinc-700 tracking-widest",children:"Influence Pts"}),r.jsx("span",{className:"text-3xl font-heading font-black italic",children:"+500"})]}),r.jsxs("div",{className:"p-6 bg-zinc-950 border border-zinc-900 text-center space-y-2 group hover:border-fuchsia-500 transition-colors",children:[r.jsx("span",{className:"block text-[10px] font-black uppercase text-zinc-700 tracking-widest",children:"Collab Tier"}),r.jsx("span",{className:"text-3xl font-heading font-black italic",children:"ELITE"})]}),r.jsxs("div",{className:"p-6 bg-zinc-950 border border-zinc-900 text-center space-y-2 group hover:border-fuchsia-500 transition-colors",children:[r.jsx("span",{className:"block text-[10px] font-black uppercase text-zinc-700 tracking-widest",children:"Channel Bonus"}),r.jsx("span",{className:"text-3xl font-heading font-black italic",children:"15%"})]})]})]})]})]})}):r.jsxs("div",{className:"min-h-screen bg-black flex flex-col items-center justify-center p-6 text-center",children:[r.jsx("div",{className:"w-24 h-24 bg-fuchsia-500 text-black flex items-center justify-center font-bold text-5xl skew-x-[-12deg] mb-12 shadow-[8px_8px_0px_0px_#fff]",children:"i"}),r.jsx("h1",{className:"font-heading text-4xl font-black italic uppercase tracking-tighter mb-6",children:"Login Required"}),r.jsx("p",{className:"text-zinc-500 font-black uppercase tracking-[0.3em] mb-12 max-w-md",children:"Please log in to access the Influence Lab."}),r.jsx(Z,{size:"xl",onClick:n,children:"Log In"})]})},r_=({allDrops:e,onApproveDrop:t,onRejectDrop:a,onBack:n})=>{const[i,s]=A.useState("PENDING"),[l,c]=A.useState([]);A.useEffect(()=>{i==="CUSTOMERS"&&Yx().then(c).catch(d=>{console.error("Failed to load customers",d),c([])})},[i]);const o=A.useMemo(()=>e.filter(d=>d.approval_status===Ze.PENDING),[e]),u=A.useMemo(()=>e.filter(d=>d.approval_status===Ze.APPROVED||d.approval_status===Ze.REJECTED),[e]);return r.jsx("div",{className:"min-h-screen bg-black text-white p-6 md:p-12",children:r.jsxs("div",{className:"max-w-7xl mx-auto space-y-8",children:[r.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-6",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("button",{onClick:n,className:"bg-zinc-800 text-white p-3 hover:bg-white hover:text-black transition-all",children:r.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"3",d:"M10 19l-7-7 7-7"})})}),r.jsxs("div",{children:[r.jsx("h1",{className:"font-heading text-4xl font-black italic uppercase tracking-tighter leading-none",children:"Admin Packages"}),r.jsx("p",{className:"text-zinc-600 text-[10px] font-black uppercase tracking-[0.3em]",children:"Approval Queue"})]})]}),r.jsxs("div",{className:"flex bg-zinc-900 p-1 border border-zinc-800",children:[r.jsx("button",{onClick:()=>s("PENDING"),className:`px-5 py-2 text-[10px] font-black uppercase tracking-widest ${i==="PENDING"?"bg-zinc-800 text-white":"text-zinc-500 hover:text-zinc-300"}`,children:"Pending"}),r.jsx("button",{onClick:()=>s("HISTORY"),className:`px-5 py-2 text-[10px] font-black uppercase tracking-widest ${i==="HISTORY"?"bg-zinc-800 text-white":"text-zinc-500 hover:text-zinc-300"}`,children:"History"}),r.jsx("button",{onClick:()=>s("CUSTOMERS"),className:`px-5 py-2 text-[10px] font-black uppercase tracking-widest ${i==="CUSTOMERS"?"bg-zinc-800 text-white":"text-zinc-500 hover:text-zinc-300"}`,children:"Customers"})]})]}),i==="PENDING"&&r.jsx("div",{className:"bg-zinc-950 border border-zinc-900 overflow-x-auto",children:r.jsxs("table",{className:"w-full text-left",children:[r.jsx("thead",{className:"border-b border-zinc-900",children:r.jsx("tr",{children:["Package","Vendor","Dates","Status",""].map(d=>r.jsx("th",{className:"p-4 text-[10px] font-black uppercase tracking-widest text-zinc-500",children:d},d))})}),r.jsxs("tbody",{className:"divide-y divide-zinc-900",children:[o.map(d=>r.jsxs("tr",{className:"hover:bg-zinc-900/50 transition-colors",children:[r.jsxs("td",{className:"p-4",children:[r.jsx("div",{className:"font-bold text-white",children:d.name}),r.jsxs("div",{className:"text-[10px] text-zinc-500",children:["$",Number(d.price).toFixed(2),"  ",d.total_quantity," units"]})]}),r.jsx("td",{className:"p-4 text-xs font-bold uppercase text-zinc-400",children:d.chef}),r.jsxs("td",{className:"p-4 text-xs text-zinc-500 font-mono",children:[new Date(d.start_date).toLocaleDateString()," - ",new Date(d.end_date).toLocaleDateString()]}),r.jsx("td",{className:"p-4 text-xs font-black uppercase text-yellow-400",children:"pending"}),r.jsxs("td",{className:"p-4 text-right space-x-2",children:[r.jsx(Z,{size:"sm",className:"bg-green-500 hover:bg-green-400 shadow-none",onClick:()=>t(d.id),children:"Approve"}),r.jsx(Z,{size:"sm",variant:"danger",className:"shadow-none",onClick:()=>a(d.id),children:"Reject"})]})]},d.id)),o.length===0&&r.jsx("tr",{children:r.jsx("td",{colSpan:5,className:"p-12 text-center text-zinc-500 font-bold uppercase tracking-widest",children:"No pending packages"})})]})]})}),i==="HISTORY"&&r.jsx("div",{className:"bg-zinc-950 border border-zinc-900 overflow-x-auto",children:r.jsxs("table",{className:"w-full text-left",children:[r.jsx("thead",{className:"border-b border-zinc-900",children:r.jsx("tr",{children:["Package","Vendor","Approval","Bookable"].map(d=>r.jsx("th",{className:"p-4 text-[10px] font-black uppercase tracking-widest text-zinc-500",children:d},d))})}),r.jsxs("tbody",{className:"divide-y divide-zinc-900",children:[u.map(d=>r.jsxs("tr",{className:"hover:bg-zinc-900/50 transition-colors",children:[r.jsx("td",{className:"p-4 font-bold",children:d.name}),r.jsx("td",{className:"p-4 text-xs text-zinc-400 uppercase font-bold",children:d.chef}),r.jsx("td",{className:`p-4 text-xs font-black uppercase ${d.approval_status===Ze.APPROVED?"text-green-400":"text-red-400"}`,children:d.approval_status}),r.jsx("td",{className:"p-4 text-xs text-zinc-500",children:d.approval_status===Ze.APPROVED?"Yes":"No"})]},d.id)),u.length===0&&r.jsx("tr",{children:r.jsx("td",{colSpan:4,className:"p-12 text-center text-zinc-500 font-bold uppercase tracking-widest",children:"No reviewed packages"})})]})]})}),i==="CUSTOMERS"&&r.jsx("div",{className:"bg-zinc-950 border border-zinc-900 overflow-x-auto",children:r.jsxs("table",{className:"w-full text-left",children:[r.jsx("thead",{className:"border-b border-zinc-900",children:r.jsx("tr",{children:["Name","Email","Role"].map(d=>r.jsx("th",{className:"p-4 text-[10px] font-black uppercase tracking-widest text-zinc-500",children:d},d))})}),r.jsxs("tbody",{className:"divide-y divide-zinc-900",children:[l.map(d=>r.jsxs("tr",{className:"hover:bg-zinc-900/50 transition-colors",children:[r.jsx("td",{className:"p-4 font-bold text-sm text-white",children:d.name}),r.jsx("td",{className:"p-4 text-xs font-mono text-zinc-400",children:d.email}),r.jsx("td",{className:"p-4 text-[10px] font-black uppercase",children:d.is_admin?"Admin":d.is_vendor?"Vendor":"Customer"})]},d.id)),l.length===0&&r.jsx("tr",{children:r.jsx("td",{colSpan:3,className:"p-12 text-center text-zinc-500 font-bold uppercase tracking-widest",children:"No profiles loaded"})})]})]})})]})})},zh=({onSuccess:e})=>{const[t,a]=A.useState("LOGIN"),[n,i]=A.useState(""),[s,l]=A.useState(""),[c,o]=A.useState(!1),[u,d]=A.useState(null),m=async h=>{if(h.preventDefault(),!n||!s){d("Email and password are required.");return}o(!0),d(null);try{t==="LOGIN"?(await n0(n,s),e()):(await i0(n,s),e())}catch(f){console.error(f),d(f.message||"Authentication failed. Please try again.")}finally{o(!1)}};return r.jsxs("div",{className:"min-h-screen bg-[#050505] flex flex-col items-center justify-center p-6 relative overflow-hidden",children:[r.jsxs("div",{className:"absolute top-0 left-0 w-full h-full overflow-hidden z-0",children:[r.jsx("div",{className:"absolute top-[-20%] left-[-10%] w-[50%] h-[50%] bg-fuchsia-600/20 blur-[120px] rounded-full"}),r.jsx("div",{className:"absolute bottom-[-20%] right-[-10%] w-[50%] h-[50%] bg-violet-600/20 blur-[120px] rounded-full"})]}),r.jsxs("div",{className:"w-full max-w-md bg-zinc-950 border-8 border-zinc-900 p-8 md:p-12 relative z-10 shadow-2xl",children:[r.jsxs("div",{className:"text-center mb-8",children:[r.jsx("div",{onClick:()=>window.location.hash="/",className:"w-16 h-16 bg-white text-black flex items-center justify-center font-bold text-4xl skew-x-[-12deg] mb-6 shadow-[4px_4px_0px_0px_rgba(217,70,239,1)] mx-auto cursor-pointer",children:"f"}),r.jsx("h1",{className:"font-heading text-3xl font-black italic uppercase tracking-tighter mb-2",children:t==="LOGIN"?"Welcome Back":"Join The Drop"}),r.jsx("p",{className:"text-zinc-500 text-[10px] font-black uppercase tracking-widest",children:t==="LOGIN"?"Login to access your dashboard":"Create an account to track orders"})]}),r.jsxs("form",{onSubmit:m,className:"space-y-6",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-[10px] font-black uppercase tracking-[0.2em] text-zinc-500 ml-1",children:"Email Address"}),r.jsx("input",{type:"email",value:n,onChange:h=>i(h.target.value),className:"w-full bg-zinc-900 border-4 border-zinc-800 p-4 font-bold text-lg text-white focus:border-fuchsia-500 outline-none transition-colors",placeholder:"YOU@EXAMPLE.COM",required:!0})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("label",{className:"text-[10px] font-black uppercase tracking-[0.2em] text-zinc-500 ml-1",children:"Password"}),r.jsx("input",{type:"password",value:s,onChange:h=>l(h.target.value),className:"w-full bg-zinc-900 border-4 border-zinc-800 p-4 font-bold text-lg text-white focus:border-fuchsia-500 outline-none transition-colors",placeholder:"",required:!0})]}),u&&r.jsx("div",{className:`p-4 text-xs font-bold text-center border-2 ${u.includes("Success")?"border-green-500 text-green-400 bg-green-900/20":"border-red-500 text-red-400 bg-red-900/20"}`,children:u}),r.jsx(Z,{size:"lg",type:"submit",isLoading:c,className:"w-full shadow-[6px_6px_0px_0px_#fff]",children:t==="LOGIN"?"Log In":"Create Account"})]}),r.jsxs("div",{className:"mt-8 pt-8 border-t border-zinc-900 text-center",children:[r.jsx("p",{className:"text-zinc-500 text-xs mb-3 font-bold",children:t==="LOGIN"?"New to FoodieDrops?":"Already have an account?"}),r.jsx("button",{onClick:()=>{a(t==="LOGIN"?"SIGNUP":"LOGIN"),d(null),i(""),l("")},className:"text-fuchsia-500 text-xs font-black uppercase tracking-widest hover:text-white transition-colors border-b-2 border-fuchsia-500 hover:border-white pb-1",children:t==="LOGIN"?"Create Account":"Log In Instead"})]})]})]})},Rh=e=>{const a=(e.startsWith("#/")?e.substring(2):"").split("/");return a[0]==="drop"&&a[1]?{view:"DETAIL",id:a[1]}:a[0]==="studio"?{view:"STUDIO",id:null}:a[0]==="profile"?{view:"PROFILE",id:null}:a[0]==="influence"?{view:"INFLUENCE",id:null}:a[0]==="admin"?{view:"ADMIN",id:null}:a[0]==="login"||a[0]==="auth"?{view:"AUTH",id:null}:{view:"HOME",id:null}},c_=()=>{const[e,t]=A.useState([]),[a,n]=A.useState([]),[i,s]=A.useState([]),[l,c]=A.useState(null),[o,u]=A.useState([]),[d,m]=A.useState(Rh(window.location.hash)),[h,f]=A.useState(!0),[b,x]=A.useState("LOGIN"),[w,g]=A.useState(""),[p,v]=A.useState(""),[y,N]=A.useState(null),[O,S]=A.useState(!1),k=async(C,K=!0)=>{try{const P=await Ix();if(t(P),C!=null&&C.isVendor){const F=await Qx(C.id);n(F)}else n([]);if(C!=null&&C.isAdmin){const F=await Xx();s(F)}else s([])}catch(P){console.error("Failed to fetch drops:",P)}finally{K&&f(!1)}};A.useEffect(()=>{const C=Gx(async P=>{if(P){c(P),await k(P,!1);try{const F=await Zx(P.id);u(F)}catch(F){console.error("Error fetching purchases:",F)}}else c(null),u([]),await k(null,!1)});k(null,!0);const K=()=>m(Rh(window.location.hash));return window.addEventListener("hashchange",K),()=>{C(),window.removeEventListener("hashchange",K)}},[]);const z=C=>{window.location.hash=C,window.scrollTo({top:0,behavior:"smooth"})},B=async()=>{if(!l)return;const C=await _u(l.id);C&&c(K=>({...K,name:C.name,email:C.email,isVendor:C.is_vendor,isAdmin:C.is_admin}))},me=A.useMemo(()=>e.find(C=>C.id===d.id),[e,d.id]),Ge=A.useMemo(()=>o.reduce((C,K)=>C+K.quantity,0),[o]),Ht=()=>{z("/profile")},Ct=()=>{z("/login")},Ie=async()=>{await Vx(),z("/")},R=async C=>{if(C.preventDefault(),!w||!p){N("Email and password are required.");return}S(!0),N(null);try{b==="LOGIN"?await n0(w,p):(await i0(w,p),N("Account created! Logging you in..."),x("LOGIN"))}catch(K){console.error(`${b} failed:`,K),N("Authentication failed.")}finally{S(!1)}},E=async(C,K)=>{f(!0);const P=C.id&&!K;try{if(P){const{id:F,...$t}=C;await Px(F,$t)}else{const F={...C,creator_id:(l==null?void 0:l.id)||"ANONYMOUS"};await Jx(F)}await k(l,!1)}catch(F){console.error("Save failed",F),alert("Error saving drop.")}finally{f(!1)}},T=async(C,K,P,F,$t,Ns,pr)=>{const Ts=e.find(ft=>ft.id===C);if(!Ts)throw new Error("Package not found.");f(!0);try{const ft=await Fx(Ts,{userId:l==null?void 0:l.id,quantity:K,customerName:P,customerEmail:F,deliveryRequested:$t,selectedItems:Ns,deliveryAddress:pr});l&&u(mi=>[ft,...mi]);const fi=await s0(ft.id);return await k(l,!1),fi}catch(ft){throw console.error("Purchase failed:",ft),ft}finally{f(!1)}},M=async C=>{try{await kh(C,Ze.APPROVED),await k(l,!1)}catch(K){console.error("Failed to approve package:",K),alert("Failed to approve package.")}},$=async C=>{try{await kh(C,Ze.REJECTED),await k(l,!1)}catch(K){console.error("Failed to reject package:",K),alert("Failed to reject package.")}},we=()=>{if(h)return r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-[#050505] text-white",children:r.jsx("p",{className:"text-2xl font-black italic uppercase tracking-widest animate-pulse",children:"Loading Drops..."})});switch(d.view){case"HOME":return r.jsx(Ys,{user:l,drops:e,onSelectDrop:C=>z(`/drop/${C}`),onPartnerClick:()=>z("/studio")});case"DETAIL":return me?r.jsx(n_,{user:l,drop:me,onBack:()=>z("/"),onPurchaseConfirm:T}):r.jsx(Ys,{user:l,drops:e,onSelectDrop:C=>z(`/drop/${C}`),onPartnerClick:()=>z("/studio")});case"AUTH":return l?r.jsx(Oh,{user:l,purchases:o,onLogout:Ie,onBack:()=>z("/")}):r.jsx(zh,{onSuccess:Ht});case"STUDIO":return l?r.jsx(s_,{user:l,onProfileUpdate:B,onBack:()=>z("/"),onSave:E,existingDrops:a}):r.jsx("div",{className:"min-h-screen bg-black flex flex-col items-center justify-center p-6 text-center",children:r.jsxs("div",{className:"w-full max-w-md mx-auto",children:[r.jsx("div",{className:"w-24 h-24 bg-fuchsia-500 text-black flex items-center justify-center font-bold text-5xl skew-x-[-12deg] mb-12 shadow-[8px_8px_0px_0px_#fff] mx-auto",children:"s"}),r.jsx("h1",{className:"font-heading text-5xl font-black italic uppercase tracking-tighter mb-4",children:"Restaurant Studio"}),r.jsx("p",{className:"text-zinc-500 font-bold uppercase tracking-widest mb-10",children:b==="LOGIN"?"Log in to continue":"Create your vendor account"}),r.jsxs("form",{onSubmit:R,className:"space-y-6",children:[r.jsx("input",{type:"email",placeholder:"EMAIL",value:w,onChange:C=>g(C.target.value),className:"w-full bg-zinc-900 border-4 border-black p-6 font-black uppercase italic tracking-tighter text-2xl outline-none focus:border-fuchsia-500 placeholder-zinc-700",required:!0}),r.jsx("input",{type:"password",placeholder:"PASSWORD",value:p,onChange:C=>v(C.target.value),className:"w-full bg-zinc-900 border-4 border-black p-6 font-black uppercase italic tracking-tighter text-2xl outline-none focus:border-fuchsia-500 placeholder-zinc-700",required:!0}),y&&r.jsx("div",{className:`p-4 text-sm font-bold text-center border-2 ${y.includes("failed")?"text-red-400 bg-red-900/50 border-red-500":"text-green-400 bg-green-900/50 border-green-500"}`,children:y}),r.jsx(Z,{size:"xl",type:"submit",isLoading:O,className:"w-full",children:b==="LOGIN"?"Log In":"Sign Up"})]}),r.jsxs("p",{className:"mt-8 text-sm",children:[b==="LOGIN"?"Don't have an account? ":"Already have an account? ",r.jsx("button",{onClick:()=>{x(b==="LOGIN"?"SIGNUP":"LOGIN"),N(null),g(""),v("")},className:"font-bold text-fuchsia-500 hover:underline",children:b==="LOGIN"?"Sign Up":"Log In"})]})]})});case"PROFILE":return l?r.jsx(Oh,{user:l,purchases:o,onLogout:Ie,onBack:()=>z("/")}):r.jsx(zh,{onSuccess:Ht});case"INFLUENCE":return r.jsx(l_,{user:l,drops:e,onBack:()=>z("/"),onLogin:Ct});case"ADMIN":return l!=null&&l.isAdmin?r.jsx(r_,{allDrops:i,onApproveDrop:M,onRejectDrop:$,onBack:()=>z("/")}):r.jsx(Ys,{user:l,drops:e,onSelectDrop:C=>z(`/drop/${C}`),onPartnerClick:()=>z("/studio")});default:return r.jsx(Ys,{user:l,drops:e,onSelectDrop:C=>z(`/drop/${C}`),onPartnerClick:()=>z("/studio")})}};return r.jsxs("div",{className:"bg-[#050505] text-white min-h-screen selection:bg-fuchsia-400 selection:text-black",children:[d.view!=="STUDIO"&&d.view!=="ADMIN"&&d.view!=="AUTH"&&r.jsx(lb,{user:l,onLogin:Ct,onLogout:Ie,cartCount:Ge}),r.jsx("main",{children:we()})]})};class o_ extends Vh.Component{constructor(t){super(t),this.state={hasError:!1,error:null}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,a){console.error("Uncaught error:",t,a)}render(){return this.state.hasError?r.jsxs("div",{className:"min-h-screen bg-[#050505] text-white flex flex-col items-center justify-center p-6 text-center",children:[r.jsx("div",{className:"w-24 h-24 bg-red-600 text-white flex items-center justify-center font-bold text-5xl mb-8 border-4 border-white shadow-[8px_8px_0px_0px_rgba(255,255,255,0.2)]",children:"!"}),r.jsx("h1",{className:"font-heading text-4xl font-black italic uppercase tracking-tighter mb-4",children:"Something went wrong."}),r.jsx("p",{className:"text-zinc-500 font-bold uppercase tracking-widest mb-8 max-w-md",children:"We encountered an unexpected issue. Our team has been notified."}),r.jsx("button",{onClick:()=>window.location.reload(),className:"bg-white text-black px-8 py-4 font-black uppercase tracking-widest hover:bg-zinc-200 transition-colors",children:"Reload Application"}),typeof process<"u"&&!1]}):this.props.children}}const l0=document.getElementById("root");if(!l0)throw new Error("Could not find root element to mount to");const u_=sb.createRoot(l0);u_.render(r.jsx(Vh.StrictMode,{children:r.jsx(o_,{children:r.jsx(c_,{})})}));
